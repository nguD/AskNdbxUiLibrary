{"version":3,"file":"allianz-ngx-ndbx-video.js","sources":["ng://@allianz/ngx-ndbx/video/video.component.ts","ng://@allianz/ngx-ndbx/video/video.module.ts"],"sourcesContent":["import { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Component, Input, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\n@Component({\n  selector: 'nx-video',\n  templateUrl: 'video.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: [ './video.component.scss' ],\n})\n\n// note that this currently only supports youtube videos\nexport class NxVideoComponent {\n\n  private _videoId: string = null;\n\n  /** Sets the id of the YouTube video. */\n  @Input('nxVideoId')\n  set videoId(value: string) {\n    if (this._videoId !== value) {\n      this._videoId = value;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n  get videoId(): string {\n    return this._videoId;\n  }\n\n  private _altText: string = '';\n\n  /** Sets the value of the alt attribute for the preview image. */\n  @Input('nxAltText')\n  set altText(value: string) {\n    if (this._altText !== value) {\n      this._altText = value;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n  get altText(): string {\n    return this._altText;\n  }\n\n  private _playButtonAriaLabel: string = '';\n\n  /** Sets the value of the aria-label attribute on the play button (Default: Play Video). */\n  @Input('nxPlayButtonAriaLabel')\n  set nxPlayButtonAriaLabel(value: string) {\n    if (this._playButtonAriaLabel !== value) {\n      this._playButtonAriaLabel = value;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n  get nxPlayButtonAriaLabel(): string {\n    return this._playButtonAriaLabel;\n  }\n\n  private _previewImageSrc: string = null;\n\n  /** Sets the preview image. If this is not provided, an image from YouTube will be used as default. */\n  @Input('nxPreviewImageSrc')\n  set previewImageSrc(value: string) {\n    if (this._previewImageSrc !== value) {\n      this._previewImageSrc = value;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n  get previewImageSrc(): string {\n    return this._previewImageSrc;\n  }\n\n  private _showPlayerControls: boolean = true;\n\n  /** Sets player controls. If set to false, player controls are not available. */\n  @Input('nxShowPlayerControls')\n  set showPlayerControls(value: boolean) {\n    this._showPlayerControls = coerceBooleanProperty(value);\n    this._changeDetectorRef.markForCheck();\n  }\n  get showPlayerControls(): boolean {\n    return this._showPlayerControls;\n  }\n\n  private _allowFullScreen: boolean = true;\n\n  /** Sets fullscreen option. If set to false, fullscreen option is not available. */\n  @Input('nxAllowFullScreen')\n  set allowFullScreen(value: boolean) {\n    this._allowFullScreen = coerceBooleanProperty(value);\n    this._changeDetectorRef.markForCheck();\n  }\n  get allowFullScreen(): boolean {\n    return this._allowFullScreen;\n  }\n\n  private _interfaceLanguage: string = null;\n\n  /** Sets interface language. Can be used to override the interface language determined by YouTube. */\n  @Input('nxInterfaceLanguage')\n  set interfaceLanguage(value: string) {\n    if (this._interfaceLanguage !== value) {\n      this._interfaceLanguage = value;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n  get interfaceLanguage(): string {\n    return this._interfaceLanguage;\n  }\n\n  /** @docs-private */\n  showPlayer = false;\n\n  constructor(private sanitizer: DomSanitizer, private _changeDetectorRef: ChangeDetectorRef) {}\n\n  /** @docs-private */\n  select(): void {\n    this.showPlayer = true;\n    this._changeDetectorRef.markForCheck();\n  }\n\n   /** Returns the safe resource URL of the YouTube video, given video id.  */\n  get videoSrc(): SafeResourceUrl {\n    let url = `https://www.youtube.com/embed/${this.videoId}?rel=0&showinfo=0&autoplay=1`;\n    if (!this.showPlayerControls) {\n      url += '&controls=0';\n    }\n    if (!this.allowFullScreen) {\n      url += '&fs=0';\n    }\n    if (this.interfaceLanguage) {\n      url += `&hl=${this.interfaceLanguage}`;\n    }\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n\n  /** Returns the preview image source URL, given video id. */\n  get imgSrc() {\n    return this.previewImageSrc ? this.previewImageSrc : `https://img.youtube.com/vi/${this.videoId}/sddefault.jpg`;\n  }\n\n  /** Returns the labels for the control buttons. */\n  get playButtonAriaLabel() {\n    const defaultLabel = this.altText ? `${this.altText} - Play Video` : 'Play Video';\n    return this.nxPlayButtonAriaLabel ? this.nxPlayButtonAriaLabel : defaultLabel;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NxVideoComponent } from './video.component';\nimport { CommonModule } from '@angular/common';\nimport { NxIconModule } from '@allianz/ngx-ndbx/icon';\n\n@NgModule({\n  declarations: [ NxVideoComponent ],\n  exports: [ NxVideoComponent ],\n  imports: [ CommonModule, NxIconModule ]\n})\nexport class NxVideoModule {}\n"],"names":[],"mappings":"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"}
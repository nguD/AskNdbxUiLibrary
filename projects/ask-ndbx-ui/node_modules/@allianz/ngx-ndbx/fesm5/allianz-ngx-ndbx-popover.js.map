{"version":3,"file":"allianz-ngx-ndbx-popover.js","sources":["ng://@allianz/ngx-ndbx/popover/popover-content.ts","ng://@allianz/ngx-ndbx/popover/popover.component.ts","ng://@allianz/ngx-ndbx/popover/popover-trigger.directive.ts","ng://@allianz/ngx-ndbx/popover/popover.module.ts"],"sourcesContent":["import {Directive, TemplateRef} from '@angular/core';\n\n/**\n * Popover content that will be rendered lazily\n * after the popover is opened for the first time.\n */\n@Directive({\n  selector: 'ng-template[nxPopoverContent]'\n})\nexport class NxPopoverContentDirective {\n  constructor(public _template: TemplateRef<any>) {}\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ContentChild,\n  EventEmitter,\n  OnDestroy,\n  Output,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport {NxPopoverContentDirective} from './popover-content';\nimport {ENTER, SPACE} from '@angular/cdk/keycodes';\n\n@Component({\n  selector: 'nx-popover',\n  templateUrl: './popover.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: ['./popover.component.scss'],\n  exportAs: 'nxPopover',\n})\nexport class NxPopoverComponent implements OnDestroy {\n  /** @docs-private */\n  @ViewChild(TemplateRef, { static: false })\n  templateRef: TemplateRef<any>;\n\n  /** Content that will be rendered lazily. */\n  @ContentChild(NxPopoverContentDirective, {static: false}) _lazyContent: NxPopoverContentDirective;\n\n  /** Event emitted when the popover is closed. */\n  @Output('nxClosed')\n  closed = new EventEmitter<void>();\n\n  /** @docs-private */\n  closeButtonClick = new Subject<void>();\n\n  /** @docs-private */\n  id: string;\n\n  /** @docs-private */\n  direction;\n\n  /** @docs-private */\n  showCloseButton: boolean = false;\n\n  /** @docs-private */\n  arrowStyle = {};\n\n  constructor() {\n  }\n\n  ngOnDestroy() {\n    this.closed.complete();\n  }\n\n  // emit to notify the popover trigger directive that the close button was clicked\n  /** @docs-private */\n  emitCloseButtonClick() {\n    this.closeButtonClick.next();\n  }\n\n  /** @docs-private */\n  _onCloseKeyup($event) {\n    if ($event && ($event.keyCode === ENTER || $event.keyCode === SPACE)) {\n      this.emitCloseButtonClick();\n    }\n    $event.preventDefault();\n  }\n\n  /** @docs-private */\n  emitClosedEvent() {\n    this.closed.emit();\n  }\n\n  /** @docs-private */\n  get classList(): string[] {\n    if (this.direction) {\n      return [`nx-popover--${this.direction}`];\n    }\n  }\n\n  /** Prevent the popover from closing when the user clicks on the popover content. */\n  _onClick(event) {\n    event.stopPropagation();\n  }\n}\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  ConnectedPosition,\n  ConnectionPositionPair,\n  FlexibleConnectedPositionStrategy,\n  Overlay,\n  OverlayConfig,\n  OverlayRef,\n  PositionStrategy\n} from '@angular/cdk/overlay';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  EmbeddedViewRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  ViewContainerRef,\n  NgZone\n} from '@angular/core';\nimport { EventManager } from '@angular/platform-browser';\nimport { fromEvent, Observable, Subject } from 'rxjs';\nimport { filter, map, takeUntil } from 'rxjs/operators';\nimport { FocusMonitor } from '@angular/cdk/a11y';\nimport { NxPopoverComponent } from './popover.component';\nimport { FocusTrapFactory, FocusTrap } from '@angular/cdk/a11y';\nimport { DOCUMENT } from '@angular/common';\nimport { Platform } from '@angular/cdk/platform';\nimport { SPACE, ENTER } from '@angular/cdk/keycodes';\n\nexport declare type PopoverDirection = 'left' | 'top' | 'right' | 'bottom';\nexport declare type PopoverTriggerType = 'click' | 'hover' | 'manual';\nexport declare type PopoverTriggerScrollStrategy = 'close' | 'reposition';\nlet nextId = 0;\n\nconst fallbacks: ConnectionPositionPair[] = [\n  {\n    originX: 'start',\n    originY: 'bottom',\n    overlayX: 'start',\n    overlayY: 'top',\n    offsetX: 0,\n    offsetY: 16\n  },\n  {\n    originX: 'end',\n    originY: 'top',\n    overlayX: 'end',\n    overlayY: 'bottom',\n    offsetX: 0,\n    offsetY: -16\n  },\n  {\n    originX: 'center',\n    originY: 'bottom',\n    overlayX: 'center',\n    overlayY: 'top',\n    offsetX: 0,\n    offsetY: 16\n  },\n  {\n    originX: 'end',\n    originY: 'bottom',\n    overlayX: 'end',\n    overlayY: 'top',\n    offsetX: 0,\n    offsetY: 16\n  },\n  {\n    originX: 'end',\n    originY: 'center',\n    overlayX: 'start',\n    overlayY: 'center',\n    offsetX: 16,\n    offsetY: 0\n  },\n  {\n    originX: 'start',\n    originY: 'center',\n    overlayX: 'end',\n    overlayY: 'center',\n    offsetX: -16,\n    offsetY: 0\n  },\n  {\n    originX: 'center',\n    originY: 'top',\n    overlayX: 'center',\n    overlayY: 'bottom',\n    offsetX: 0,\n    offsetY: -16\n  },\n  {\n    originX: 'start',\n    originY: 'top',\n    overlayX: 'start',\n    overlayY: 'bottom',\n    offsetX: 0,\n    offsetY: -16\n  }\n];\n\n@Directive({\n  selector: '[nxPopoverTriggerFor]',\n  exportAs: 'nxPopoverTrigger',\n  host: {\n    '(click)': 'handleClick()',\n    'aria-haspopup': 'true',\n    '[attr.aria-expanded]': 'isOpen',\n    '[attr.aria-describedby]': 'isOpen ? id : null'\n  }\n})\nexport class NxPopoverTriggerDirective implements AfterViewInit, OnDestroy, OnInit {\n  private overlayRef: OverlayRef;\n  private portal: TemplatePortal<any>;\n  private _destroyed = new Subject<void>();\n  private _show: boolean = false;\n  private _closeable: boolean = null;\n  private _positionStrategy: PositionStrategy;\n  private _embeddedViewRef: EmbeddedViewRef<any>;\n  private _documentClickObservable: Observable<MouseEvent>;\n  /** The class that traps and manages focus within the popover. */\n  private _focusTrap: FocusTrap;\n  /** Element that was focused before the Popover was opened. Save this to restore upon close. */\n  private _elementFocusedBeforePopoverWasOpened: HTMLElement | null = null;\n  private _manualListeners = new Map<string, EventListenerOrEventListenerObject>();\n  /** @docs-private */\n  id = 'nx-popover-' + nextId++;\n\n  /** An event is emitted if the visibility status of the popover changes. */\n  @Output('nxPopoverShowChange')\n  changeShow: EventEmitter<boolean> = new EventEmitter();\n\n  /** Whether to show or hide the popover. */\n  @Input('nxPopoverShow')\n  set show(value: boolean) {\n    value = coerceBooleanProperty(value);\n    if (this._show !== value) {\n      this._show = value;\n      if (this._show) {\n        this.openPopover();\n      } else {\n        this.closePopover();\n      }\n    }\n  }\n\n  get show() {\n    return this._show;\n  }\n\n  /** Whether to show a close button. By default a close icon is only shown for trigger type click. */\n  @Input('nxPopoverCloseable')\n  set closeable(value: boolean) {\n    this._closeable = coerceBooleanProperty(value);\n\n    if (this.popover) {\n      this.popover.showCloseButton = this.isCloseable();\n    }\n  }\n  get closeable(): boolean {\n    return this._closeable;\n  }\n\n  /** Whether the popover should be closed on click outside of the popover in the trigger modes 'manual' and 'click'. */\n  @Input()\n  set closeOnClickOutside(value: boolean) {\n    this._closeOnClickOutside = coerceBooleanProperty(value);\n  }\n  get closeOnClickOutside(): boolean {\n    return this._closeOnClickOutside;\n  }\n\n  private _closeOnClickOutside: boolean = true;\n\n  /** Links the trigger with the popover to open. */\n  @Input('nxPopoverTriggerFor')\n  popover: NxPopoverComponent;\n\n  /** Sets the desired direction to open the popover. E.g., right, left, bottom, top */\n  @Input('nxPopoverDirection')\n  direction: PopoverDirection = 'right';\n\n  /** Whether the popover will be opened automatically. */\n  @Input('nxPopoverInitialVisible')\n  popoverInitialVisible: boolean = false;\n\n  /** An event is emitted when the visibility of the popopver changes. */\n  @Input('nxPopoverVisibleChange')\n  visibleChange: EventEmitter<boolean> = new EventEmitter();\n\n  /** Whether the popover opens in modal state. */\n  @Input('nxPopoverModal')\n  modal: boolean = false;\n\n  // If nxPopoverTrigger equals to 'hover' the popover opens on mouseenter and closes on mouseout.\n  // If nxPopoverTrigger equals to 'click' the popover opens on click and closes on a click of the close icon or pressing ESC key.\n  // If nxPopoverTrigger equals to 'manual' the popover opens only when programatically requested.\n  /** Sets the way to trigger the popover. Options are hover, click, manual */\n  @Input('nxPopoverTrigger')\n  trigger: PopoverTriggerType = 'click';\n\n  /** Sets the scroll strategy. 'close' closes the popover on scroll while 'reposition' scrolls the popover with the origin. */\n  @Input('nxPopoverScrollStrategy')\n  scrollStrategy: PopoverTriggerScrollStrategy = 'close';\n\n  constructor(private overlay: Overlay,\n              private elementRef: ElementRef,\n              private viewContainerRef: ViewContainerRef,\n              private eventManager: EventManager,\n              private _focusTrapFactory: FocusTrapFactory,\n              private _focusMonitor: FocusMonitor,\n              private _ngZone: NgZone,\n              private _platform: Platform,\n              @Optional() @Inject(DOCUMENT) private _document: any) {\n    this._documentClickObservable = fromEvent<MouseEvent>(document, 'click');\n    const element: HTMLElement = elementRef.nativeElement;\n    if (!this._platform.IOS && !this._platform.ANDROID) {\n      this._manualListeners\n        .set('mouseenter', () => {\n          if (this.trigger === 'hover') {\n            this.show = true;\n          }\n        })\n        .set('mouseleave', () => {\n          if (this.trigger === 'hover') {\n            this.show = false;\n          }\n        })\n        .set('keydown', (event: KeyboardEvent) => {\n          switch (event.keyCode) {\n            case SPACE:\n            case ENTER:\n              this.handleClick();\n              break;\n            default:\n              return;\n          }\n        });\n    } else {\n      this._manualListeners.set('touchstart', () => {\n        if (this.trigger === 'hover') {\n          this.show = true;\n        }\n      });\n    }\n\n    this._manualListeners.forEach((listener, event) => element.addEventListener(event, listener));\n\n    this._focusMonitor.monitor(element).pipe(takeUntil(this._destroyed)).subscribe(origin => {\n      if (origin === 'keyboard' && this.trigger === 'hover') {\n        this._ngZone.run(() => this.show = true);\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.popover.showCloseButton = this.isCloseable();\n  }\n\n  ngAfterViewInit(): void {\n    this.popover.id = this.id;\n\n    this.eventManager.addGlobalEventListener('window', 'keyup.esc', () => {\n      if (this.isOpen) {\n        this.show = false;\n      }\n    });\n\n    this.popover.closeButtonClick.pipe(takeUntil(this._destroyed)).subscribe(() => {\n      this.show = false;\n    });\n\n    if (this.popoverInitialVisible || this._show) {\n      this.show = true;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.show = false;\n    // Clean up the event listeners set in the constructor\n    this._manualListeners.forEach((listener, event) => {\n      this.elementRef.nativeElement.removeEventListener(event, listener);\n    });\n    this._manualListeners.clear();\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n\n  /** @docs-private */\n  get isOpen() {\n    return this.overlayRef && this.createOverlay().hasAttached();\n  }\n\n  /** @docs-private */\n  isCloseable() {\n    return (this.trigger === 'click' && this._closeable === null) || this._closeable;\n  }\n\n  /** Update the popover with the given position strategy. */\n  updatePosition() {\n    if (this._positionStrategy) {\n      this._positionStrategy.apply();\n    }\n  }\n\n  /** @docs-private */\n  handleClick() {\n    if (this.trigger === 'click') {\n      this.show = !this.isOpen;\n    } else if (this.trigger === 'hover') {\n      this.show = true;\n    }\n  }\n\n  /** Open the popover instance. */\n  open(): void {\n    this.show = true;\n  }\n\n  /** Close the popover instance. */\n  close(): void {\n    this.show = false;\n  }\n\n  /** Toggle the popover instance. */\n  toggle(): void {\n    this.show = !this.show;\n  }\n\n  private openPopover(): void {\n    if (!this.createOverlay().hasAttached()) {\n      this._embeddedViewRef = this.createOverlay().attach(this.portal);\n\n      const element = this._embeddedViewRef.rootNodes[0] as HTMLElement;\n      this._focusTrap = this._focusTrapFactory.create(element);\n      this._elementFocusedBeforePopoverWasOpened = this.elementRef.nativeElement;\n      this._autoFocusFirstTabbableElement(element);\n\n      // attach a close click listener only if it makes sense (ignore it on hover e.g.)\n      if (this.shouldReactOnClickOutside()) {\n        this.waitForClose();\n      }\n    }\n  }\n\n  /**\n   * Autofocus the first tabbable element inside of the popover, if there is not a tabbable element,\n   * focus the popover instead.\n   */\n  private _autoFocusFirstTabbableElement(element: HTMLElement) {\n    this._focusTrap.focusInitialElementWhenReady().then(hasMovedFocus => {\n      // If we didn't find any focusable elements inside the popover, focus the\n      // container so the user can't tab into other elements behind it.\n      if (!hasMovedFocus) {\n        element.focus();\n      }\n    });\n  }\n\n  private shouldReactOnClickOutside() {\n    return (!this.modal && this.closeOnClickOutside);\n  }\n\n  // detaches the overlay\n  // we are listening to the detachments observable which will then emit the nxClosed event\n  // on the popover component\n  private closePopover(): void {\n    if (this.overlayRef) {\n      this._returnFocusAfterPopover();\n      this.overlayRef.detach();\n      this._embeddedViewRef = null;\n      this._focusTrap.destroy();\n    }\n  }\n\n  private createOverlay(): OverlayRef {\n    if (!this.overlayRef) {\n      this.portal = new TemplatePortal(this.popover.templateRef, this.viewContainerRef);\n      const overlayState = new OverlayConfig();\n      overlayState.positionStrategy = this.getPosition();\n      this._positionStrategy = overlayState.positionStrategy;\n\n      if (this.scrollStrategy === 'reposition') {\n        overlayState.scrollStrategy = this.overlay.scrollStrategies.reposition();\n      } else {\n        overlayState.scrollStrategy = this.overlay.scrollStrategies.close();\n      }\n\n      overlayState.scrollStrategy.enable();\n\n      if (this.modal && this.trigger === 'click') {\n        overlayState.hasBackdrop = true;\n      }\n\n      this.overlayRef = this.overlay.create(overlayState);\n      this.subscribeToPositions(overlayState.positionStrategy as FlexibleConnectedPositionStrategy);\n      this._subscribeToAttach();\n      this._subscribeToDetach();\n      if (this.modal) {\n        this._subscribeToBackdropClick();\n      }\n    }\n    return this.overlayRef;\n  }\n\n  private subscribeToPositions(position: FlexibleConnectedPositionStrategy): void {\n    position.positionChanges.pipe(takeUntil(this._destroyed)).subscribe(change => {\n      const pair = change.connectionPair;\n      this.positionOverlay(pair);\n      this.positionArrow(pair);\n\n      // These position changes arrive too late,\n      // We have to trigger the change detection manually\n      // as it's detached from any render hierarchy\n      // and only updated by the overlay when attached.\n      if (this._embeddedViewRef && !this._embeddedViewRef.destroyed) {\n        this._embeddedViewRef.detectChanges();\n      }\n    });\n  }\n\n  // for modal popovers close the popover on backdrop clicks\n  private _subscribeToBackdropClick() {\n    this.overlayRef.backdropClick().pipe(takeUntil(this._destroyed)).subscribe((event) => {\n      this.show = false;\n    });\n  }\n\n  // Emit the nxClosed and the show status change event on the popover component when the overlay detaches\n  private _subscribeToDetach() {\n    this.overlayRef.detachments().pipe(takeUntil(this._destroyed)).subscribe(data => {\n      // This is an exception: when the popover is closed by a scrolling event,\n      // then only the detached method is called but the show state variable remains unchanged.\n      if (this.show) {\n        this.show = false;\n      }\n      this.changeShow.emit(this._show);\n      this.popover.emitClosedEvent();\n    });\n  }\n\n  private _subscribeToAttach() {\n    this.overlayRef.attachments().pipe(takeUntil(this._destroyed)).subscribe(data => {\n      this.changeShow.emit(this._show);\n    });\n  }\n\n  // subscribe to document clicks when trigger='click' to close the popover on clicks on the background\n  private waitForClose() {\n    return this._documentClickObservable\n      .pipe(\n        map(event => event.target),\n        filter(target => !this.elementRef.nativeElement.contains(target)),\n        takeUntil(this.popover.closed))\n      .subscribe(() => {\n        this.show = false;\n      });\n  }\n\n  private positionOverlay(pair: ConnectionPositionPair) {\n    if (pair.originX === 'end' && pair.overlayX === 'start') {\n      this.popover.direction = 'right';\n    } else if (pair.originY === 'bottom' && pair.overlayY === 'top') {\n      this.popover.direction = 'bottom';\n    } else if (pair.originX === 'start' && pair.overlayX === 'end') {\n      this.popover.direction = 'left';\n    } else if (pair.originY === 'top' && pair.overlayY === 'bottom') {\n      this.popover.direction = 'top';\n    }\n  }\n\n  private positionArrow(pair: ConnectionPositionPair) {\n\n    const parentElementPositionX = this.elementRef.nativeElement.getBoundingClientRect().left;\n    const parentElementWidth = this.elementRef.nativeElement.getBoundingClientRect().width / 2;\n    const parentElementLeftOffset = this.overlayRef.overlayElement.parentElement.offsetLeft;\n    const overlayElementLeftOffset = this.overlayRef.overlayElement.offsetLeft;\n\n    // calculation for x position of the parent element. In this case, overlay left offset is the one thing to consider.\n    const targetPosition = (parentElementPositionX + parentElementWidth) - (parentElementLeftOffset + overlayElementLeftOffset);\n    if (pair.originX === pair.overlayX) {\n      const direction = 'left';\n      const arrowStyle = {};\n\n      arrowStyle[direction] = targetPosition + 'px';\n      this.popover.arrowStyle = arrowStyle;\n    }\n    if ((pair.originY === 'bottom' || pair.originY === 'top') && pair.overlayX === 'center') {\n      this.popover.arrowStyle = { left: targetPosition + 'px' };\n    }\n\n    if ((pair.originX === 'end' || pair.originX === 'start') && pair.overlayY === 'center') {\n      this.popover.arrowStyle = { top: '50%' };\n    }\n  }\n\n  private getPosition(): FlexibleConnectedPositionStrategy {\n    let positions: ConnectedPosition[];\n    let offsetX = 0;\n    let offsetY = 0;\n    if (this.direction === 'top') {\n      positions = [{\n        overlayX: 'center',\n        overlayY: 'bottom',\n        originX: 'center',\n        originY: 'top'\n      }];\n      offsetX = 0;\n      offsetY = -20;\n    } else if (this.direction === 'right') {\n      positions = [{\n        overlayX: 'start',\n        overlayY: 'center',\n        originX: 'end',\n        originY: 'center'\n      }];\n      offsetX = 20;\n      offsetY = 0;\n    } else if (this.direction === 'bottom') {\n      positions = [{\n        overlayX: 'center',\n        overlayY: 'top',\n        originX: 'center',\n        originY: 'bottom'\n      }];\n      offsetX = 0;\n      offsetY = 20;\n    } else if (this.direction === 'left') {\n      positions = [{\n        overlayX: 'end',\n        overlayY: 'center',\n        originX: 'start',\n        originY: 'center'\n      }];\n      offsetX = -20;\n      offsetY = 0;\n    }\n    return this.overlay.position().flexibleConnectedTo(this.elementRef)\n      .withPositions([...positions, ...fallbacks])\n      .withDefaultOffsetX(offsetX)\n      .withDefaultOffsetY(offsetY);\n  }\n\n  /** Returns the focus to the element focused before the Popover was open. */\n  private _returnFocusAfterPopover() {\n    const toFocus = this._elementFocusedBeforePopoverWasOpened;\n    // We need the extra check, because IE can set the `activeElement` to null in some cases.\n    if (toFocus && typeof toFocus.focus === 'function') {\n      toFocus.focus();\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {NxPopoverTriggerDirective} from './popover-trigger.directive';\nimport {NxPopoverComponent} from './popover.component';\nimport {NxPopoverContentDirective} from './popover-content';\nimport {OverlayModule} from '@angular/cdk/overlay';\nimport {CommonModule} from '@angular/common';\nimport {NxIconModule} from '@allianz/ngx-ndbx/icon';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    OverlayModule,\n    NxIconModule\n  ],\n  declarations: [\n    NxPopoverTriggerDirective,\n    NxPopoverComponent,\n    NxPopoverContentDirective\n  ],\n  exports: [\n    NxPopoverTriggerDirective,\n    NxPopoverComponent,\n    NxPopoverContentDirective\n  ]\n})\nexport class NxPopoverModule {\n\n}\n"],"names":[],"mappings":"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"}
/**
 * @fileoverview added by tsickle
 * Generated from: video/video.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { Component, Input, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';
var NxVideoComponent = /** @class */ (function () {
    function NxVideoComponent(sanitizer, _changeDetectorRef) {
        this.sanitizer = sanitizer;
        this._changeDetectorRef = _changeDetectorRef;
        this._videoId = null;
        this._altText = '';
        this._playButtonAriaLabel = '';
        this._previewImageSrc = null;
        this._showPlayerControls = true;
        this._allowFullScreen = true;
        this._interfaceLanguage = null;
        /**
         * \@docs-private
         */
        this.showPlayer = false;
    }
    Object.defineProperty(NxVideoComponent.prototype, "videoId", {
        get: /**
         * @return {?}
         */
        function () {
            return this._videoId;
        },
        /** Sets the id of the YouTube video. */
        set: /**
         * Sets the id of the YouTube video.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (this._videoId !== value) {
                this._videoId = value;
                this._changeDetectorRef.markForCheck();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxVideoComponent.prototype, "altText", {
        get: /**
         * @return {?}
         */
        function () {
            return this._altText;
        },
        /** Sets the value of the alt attribute for the preview image. */
        set: /**
         * Sets the value of the alt attribute for the preview image.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (this._altText !== value) {
                this._altText = value;
                this._changeDetectorRef.markForCheck();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxVideoComponent.prototype, "nxPlayButtonAriaLabel", {
        get: /**
         * @return {?}
         */
        function () {
            return this._playButtonAriaLabel;
        },
        /** Sets the value of the aria-label attribute on the play button (Default: Play Video). */
        set: /**
         * Sets the value of the aria-label attribute on the play button (Default: Play Video).
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (this._playButtonAriaLabel !== value) {
                this._playButtonAriaLabel = value;
                this._changeDetectorRef.markForCheck();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxVideoComponent.prototype, "previewImageSrc", {
        get: /**
         * @return {?}
         */
        function () {
            return this._previewImageSrc;
        },
        /** Sets the preview image. If this is not provided, an image from YouTube will be used as default. */
        set: /**
         * Sets the preview image. If this is not provided, an image from YouTube will be used as default.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (this._previewImageSrc !== value) {
                this._previewImageSrc = value;
                this._changeDetectorRef.markForCheck();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxVideoComponent.prototype, "showPlayerControls", {
        get: /**
         * @return {?}
         */
        function () {
            return this._showPlayerControls;
        },
        /** Sets player controls. If set to false, player controls are not available. */
        set: /**
         * Sets player controls. If set to false, player controls are not available.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._showPlayerControls = coerceBooleanProperty(value);
            this._changeDetectorRef.markForCheck();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxVideoComponent.prototype, "allowFullScreen", {
        get: /**
         * @return {?}
         */
        function () {
            return this._allowFullScreen;
        },
        /** Sets fullscreen option. If set to false, fullscreen option is not available. */
        set: /**
         * Sets fullscreen option. If set to false, fullscreen option is not available.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._allowFullScreen = coerceBooleanProperty(value);
            this._changeDetectorRef.markForCheck();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxVideoComponent.prototype, "interfaceLanguage", {
        get: /**
         * @return {?}
         */
        function () {
            return this._interfaceLanguage;
        },
        /** Sets interface language. Can be used to override the interface language determined by YouTube. */
        set: /**
         * Sets interface language. Can be used to override the interface language determined by YouTube.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (this._interfaceLanguage !== value) {
                this._interfaceLanguage = value;
                this._changeDetectorRef.markForCheck();
            }
        },
        enumerable: true,
        configurable: true
    });
    /** @docs-private */
    /**
     * \@docs-private
     * @return {?}
     */
    NxVideoComponent.prototype.select = /**
     * \@docs-private
     * @return {?}
     */
    function () {
        this.showPlayer = true;
        this._changeDetectorRef.markForCheck();
    };
    Object.defineProperty(NxVideoComponent.prototype, "videoSrc", {
        /** Returns the safe resource URL of the YouTube video, given video id.  */
        get: /**
         * Returns the safe resource URL of the YouTube video, given video id.
         * @return {?}
         */
        function () {
            /** @type {?} */
            var url = "https://www.youtube.com/embed/" + this.videoId + "?rel=0&showinfo=0&autoplay=1";
            if (!this.showPlayerControls) {
                url += '&controls=0';
            }
            if (!this.allowFullScreen) {
                url += '&fs=0';
            }
            if (this.interfaceLanguage) {
                url += "&hl=" + this.interfaceLanguage;
            }
            return this.sanitizer.bypassSecurityTrustResourceUrl(url);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxVideoComponent.prototype, "imgSrc", {
        /** Returns the preview image source URL, given video id. */
        get: /**
         * Returns the preview image source URL, given video id.
         * @return {?}
         */
        function () {
            return this.previewImageSrc ? this.previewImageSrc : "https://img.youtube.com/vi/" + this.videoId + "/sddefault.jpg";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxVideoComponent.prototype, "playButtonAriaLabel", {
        /** Returns the labels for the control buttons. */
        get: /**
         * Returns the labels for the control buttons.
         * @return {?}
         */
        function () {
            /** @type {?} */
            var defaultLabel = this.altText ? this.altText + " - Play Video" : 'Play Video';
            return this.nxPlayButtonAriaLabel ? this.nxPlayButtonAriaLabel : defaultLabel;
        },
        enumerable: true,
        configurable: true
    });
    NxVideoComponent.decorators = [
        { type: Component, args: [{
                    selector: 'nx-video',
                    template: "<div class=\"nx-video\">\n  <div class=\"nx-video__iframe\">\n\n    <div *ngIf=\"!showPlayer\">\n\n      <button class=\"nx-video__play-button\"\n              (click)=\"select()\"\n              [attr.aria-label]=\"playButtonAriaLabel\"\n              (keydown.enter)=\"select()\">\n        <nx-icon class=\"nx-video__high-contrast-icon\" name=\"play\" size=\"s\"></nx-icon>\n      </button>\n      <img [src]=\"imgSrc\" class=\"nx-video__thumbnail\"\n           [alt]=\"altText\"\n           (click)=\"select()\"\n           (keydown.enter)=\"select()\">\n\n    </div>\n    <div *ngIf=\"videoId && showPlayer\">\n      <iframe title=\"video\" class=\"nx-video__iframe\" [attr.allowfullscreen]=\"allowFullScreen\" [src]=\"videoSrc\"></iframe>\n    </div>\n\n  </div>\n</div>\n",
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    styles: [".nx-video{position:relative;padding-bottom:56.25%;overflow:hidden;width:100%;height:auto}.nx-video__iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:none}.nx-video__thumbnail{position:absolute;cursor:pointer;width:100%;top:50%;left:50%;transform:translate(-50%,-50%);opacity:.7}.nx-video__play-button{border:none;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB3aWR0aD0nODhweCcgaGVpZ2h0PSc1NnB4JyB2aWV3Qm94PScwIDAgODggNTYnIHZlcnNpb249JzEuMSc+PHRpdGxlPkF0b20gLyBNZWRpYSAvIFlvdVR1YmUgUGxheWVyIC8gW0Fzc2V0c10gLyBQbGF5IEJ1dHRvbjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGRlZnM+PHJlY3QgaWQ9J3BhdGgtMScgeD0nMCcgeT0nMCcgd2lkdGg9Jzg4JyBoZWlnaHQ9JzU2JyByeD0nOCcvPjxmaWx0ZXIgeD0nLTQwLjklJyB5PSctNjQuMyUnIHdpZHRoPScxODEuOCUnIGhlaWdodD0nMjI4LjYlJyBmaWx0ZXJVbml0cz0nb2JqZWN0Qm91bmRpbmdCb3gnIGlkPSdmaWx0ZXItMic+PGZlT2Zmc2V0IGR4PScwJyBkeT0nMCcgaW49J1NvdXJjZUFscGhhJyByZXN1bHQ9J3NoYWRvd09mZnNldE91dGVyMScvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249JzEyJyBpbj0nc2hhZG93T2Zmc2V0T3V0ZXIxJyByZXN1bHQ9J3NoYWRvd0JsdXJPdXRlcjEnLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9JzAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC41IDAnIHR5cGU9J21hdHJpeCcgaW49J3NoYWRvd0JsdXJPdXRlcjEnLz48L2ZpbHRlcj48L2RlZnM+PGcgaWQ9J0F0b20tLy1NZWRpYS0vLVlvdVR1YmUtUGxheWVyLS8tW0Fzc2V0c10tLy1QbGF5LUJ1dHRvbicgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PGcgaWQ9J0JhY2tncm91bmQnIG9wYWNpdHk9JzAuODAxMjM0MTQ5Jz48dXNlIGZpbGw9J2JsYWNrJyBmaWxsLW9wYWNpdHk9JzEnIGZpbHRlcj0ndXJsKCNmaWx0ZXItMiknIHhsaW5rOmhyZWY9JyNwYXRoLTEnLz48dXNlIGZpbGw9JyM0MTQxNDEnIGZpbGwtcnVsZT0nZXZlbm9kZCcgeGxpbms6aHJlZj0nI3BhdGgtMScvPjwvZz48cGF0aCBkPSdNNTQuMjExMTQ1NiwyOC44OTQ0MjcyIEwzMy40NDcyMTM2LDM5LjI3NjM5MzIgQzMyLjk1MzIzNTEsMzkuNTIzMzgyNSAzMi4zNTI1NjIxLDM5LjMyMzE1ODEgMzIuMTA1NTcyOCwzOC44MjkxNzk2IEMzMi4wMzYxNDUxLDM4LjY5MDMyNDIgMzIsMzguNTM3MjExMSAzMiwzOC4zODE5NjYgTDMyLDE3LjYxODAzNCBDMzIsMTcuMDY1NzQ5MiAzMi40NDc3MTUzLDE2LjYxODAzNCAzMywxNi42MTgwMzQgQzMzLjE1NTI0NTEsMTYuNjE4MDM0IDMzLjMwODM1ODIsMTYuNjU0MTc5MSAzMy40NDcyMTM2LDE2LjcyMzYwNjggTDU0LjIxMTE0NTYsMjcuMTA1NTcyOCBDNTQuNzA1MTI0MSwyNy4zNTI1NjIxIDU0LjkwNTM0ODUsMjcuOTUzMjM1MSA1NC42NTgzNTkyLDI4LjQ0NzIxMzYgQzU0LjU2MTU5NTUsMjguNjQwNzQxIDU0LjQwNDY3MywyOC43OTc2NjM1IDU0LjIxMTE0NTYsMjguODk0NDI3MiBaJyBpZD0nVHJpYW5nbGUnIGZpbGw9JyNGRkZGRkYnLz48L2c+PC9zdmc+) center no-repeat;cursor:pointer;position:absolute;width:88px;height:56px;z-index:1;border-radius:4px}.nx-video__play-button::-moz-focus-inner{border:0}.nx-video__play-button:focus{outline:0}.nx-video__high-contrast-icon{display:none}.nx-video__play-button,.nx-video__play-button:before{top:50%;left:50%;transform:translate(-50%,-50%)}:host-context([data-whatinput=keyboard]) .nx-video__play-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;box-shadow:var(--focus-box-shadow,0 0 0 2px #fff,0 0 0 6px #009de6)}@media screen and (-ms-high-contrast:active){.nx-video__play-button{background:buttonFace;border:1px solid buttonText;color:buttonText}.nx-video__high-contrast-icon{display:inline-flex;vertical-align:middle}:host-context([data-whatinput=keyboard]) .nx-video__play-button:focus{box-shadow:0 0 0 2px background,0 0 0 6px windowText}}"]
                }] }
    ];
    /** @nocollapse */
    NxVideoComponent.ctorParameters = function () { return [
        { type: DomSanitizer },
        { type: ChangeDetectorRef }
    ]; };
    NxVideoComponent.propDecorators = {
        videoId: [{ type: Input, args: ['nxVideoId',] }],
        altText: [{ type: Input, args: ['nxAltText',] }],
        nxPlayButtonAriaLabel: [{ type: Input, args: ['nxPlayButtonAriaLabel',] }],
        previewImageSrc: [{ type: Input, args: ['nxPreviewImageSrc',] }],
        showPlayerControls: [{ type: Input, args: ['nxShowPlayerControls',] }],
        allowFullScreen: [{ type: Input, args: ['nxAllowFullScreen',] }],
        interfaceLanguage: [{ type: Input, args: ['nxInterfaceLanguage',] }]
    };
    return NxVideoComponent;
}());
export { NxVideoComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    NxVideoComponent.prototype._videoId;
    /**
     * @type {?}
     * @private
     */
    NxVideoComponent.prototype._altText;
    /**
     * @type {?}
     * @private
     */
    NxVideoComponent.prototype._playButtonAriaLabel;
    /**
     * @type {?}
     * @private
     */
    NxVideoComponent.prototype._previewImageSrc;
    /**
     * @type {?}
     * @private
     */
    NxVideoComponent.prototype._showPlayerControls;
    /**
     * @type {?}
     * @private
     */
    NxVideoComponent.prototype._allowFullScreen;
    /**
     * @type {?}
     * @private
     */
    NxVideoComponent.prototype._interfaceLanguage;
    /**
     * \@docs-private
     * @type {?}
     */
    NxVideoComponent.prototype.showPlayer;
    /**
     * @type {?}
     * @private
     */
    NxVideoComponent.prototype.sanitizer;
    /**
     * @type {?}
     * @private
     */
    NxVideoComponent.prototype._changeDetectorRef;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlkZW8uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGFsbGlhbnovbmd4LW5kYngvIiwic291cmNlcyI6WyJ2aWRlby92aWRlby5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM5RCxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSx1QkFBdUIsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RixPQUFPLEVBQUUsWUFBWSxFQUFtQixNQUFNLDJCQUEyQixDQUFDO0FBRTFFO0lBMkdFLDBCQUFvQixTQUF1QixFQUFVLGtCQUFxQztRQUF0RSxjQUFTLEdBQVQsU0FBUyxDQUFjO1FBQVUsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFtQjtRQWpHbEYsYUFBUSxHQUFXLElBQUksQ0FBQztRQWN4QixhQUFRLEdBQVcsRUFBRSxDQUFDO1FBY3RCLHlCQUFvQixHQUFXLEVBQUUsQ0FBQztRQWNsQyxxQkFBZ0IsR0FBVyxJQUFJLENBQUM7UUFjaEMsd0JBQW1CLEdBQVksSUFBSSxDQUFDO1FBWXBDLHFCQUFnQixHQUFZLElBQUksQ0FBQztRQVlqQyx1QkFBa0IsR0FBVyxJQUFJLENBQUM7Ozs7UUFlMUMsZUFBVSxHQUFHLEtBQUssQ0FBQztJQUUwRSxDQUFDO0lBOUY5RixzQkFDSSxxQ0FBTzs7OztRQU1YO1lBQ0UsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3ZCLENBQUM7UUFWRCx3Q0FBd0M7Ozs7OztRQUN4QyxVQUNZLEtBQWE7WUFDdkIsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLEtBQUssRUFBRTtnQkFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUN4QztRQUNILENBQUM7OztPQUFBO0lBUUQsc0JBQ0kscUNBQU87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OUIsZ0RBQTBDOzs7OztJQWMxQyw0Q0FBd0M7Ozs7O0lBY3hDLCtDQUE0Qzs7Ozs7SUFZNUMsNENBQXlDOzs7OztJQVl6Qyw4Q0FBMEM7Ozs7O0lBZTFDLHNDQUFtQjs7Ozs7SUFFUCxxQ0FBK0I7Ozs7O0lBQUUsOENBQTZDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29lcmNlQm9vbGVhblByb3BlcnR5IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2NvZXJjaW9uJztcbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRG9tU2FuaXRpemVyLCBTYWZlUmVzb3VyY2VVcmwgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbngtdmlkZW8nLFxuICB0ZW1wbGF0ZVVybDogJ3ZpZGVvLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHN0eWxlVXJsczogWyAnLi92aWRlby5jb21wb25lbnQuc2NzcycgXSxcbn0pXG5cbi8vIG5vdGUgdGhhdCB0aGlzIGN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIHlvdXR1YmUgdmlkZW9zXG5leHBvcnQgY2xhc3MgTnhWaWRlb0NvbXBvbmVudCB7XG5cbiAgcHJpdmF0ZSBfdmlkZW9JZDogc3RyaW5nID0gbnVsbDtcblxuICAvKiogU2V0cyB0aGUgaWQgb2YgdGhlIFlvdVR1YmUgdmlkZW8uICovXG4gIEBJbnB1dCgnbnhWaWRlb0lkJylcbiAgc2V0IHZpZGVvSWQodmFsdWU6IHN0cmluZykge1xuICAgIGlmICh0aGlzLl92aWRlb0lkICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fdmlkZW9JZCA9IHZhbHVlO1xuICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICB9XG4gIGdldCB2aWRlb0lkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZGVvSWQ7XG4gIH1cblxuICBwcml2YXRlIF9hbHRUZXh0OiBzdHJpbmcgPSAnJztcblxuICAvKiogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIGFsdCBhdHRyaWJ1dGUgZm9yIHRoZSBwcmV2aWV3IGltYWdlLiAqL1xuICBASW5wdXQoJ254QWx0VGV4dCcpXG4gIHNldCBhbHRUZXh0KHZhbHVlOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5fYWx0VGV4dCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2FsdFRleHQgPSB2YWx1ZTtcbiAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgfVxuICBnZXQgYWx0VGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9hbHRUZXh0O1xuICB9XG5cbiAgcHJpdmF0ZSBfcGxheUJ1dHRvbkFyaWFMYWJlbDogc3RyaW5nID0gJyc7XG5cbiAgLyoqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvbiB0aGUgcGxheSBidXR0b24gKERlZmF1bHQ6IFBsYXkgVmlkZW8pLiAqL1xuICBASW5wdXQoJ254UGxheUJ1dHRvbkFyaWFMYWJlbCcpXG4gIHNldCBueFBsYXlCdXR0b25BcmlhTGFiZWwodmFsdWU6IHN0cmluZykge1xuICAgIGlmICh0aGlzLl9wbGF5QnV0dG9uQXJpYUxhYmVsICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fcGxheUJ1dHRvbkFyaWFMYWJlbCA9IHZhbHVlO1xuICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICB9XG4gIGdldCBueFBsYXlCdXR0b25BcmlhTGFiZWwoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fcGxheUJ1dHRvbkFyaWFMYWJlbDtcbiAgfVxuXG4gIHByaXZhdGUgX3ByZXZpZXdJbWFnZVNyYzogc3RyaW5nID0gbnVsbDtcblxuICAvKiogU2V0cyB0aGUgcHJldmlldyBpbWFnZS4gSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQsIGFuIGltYWdlIGZyb20gWW91VHViZSB3aWxsIGJlIHVzZWQgYXMgZGVmYXVsdC4gKi9cbiAgQElucHV0KCdueFByZXZpZXdJbWFnZVNyYycpXG4gIHNldCBwcmV2aWV3SW1hZ2VTcmModmFsdWU6IHN0cmluZykge1xuICAgIGlmICh0aGlzLl9wcmV2aWV3SW1hZ2VTcmMgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9wcmV2aWV3SW1hZ2VTcmMgPSB2YWx1ZTtcbiAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgfVxuICBnZXQgcHJldmlld0ltYWdlU3JjKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3ByZXZpZXdJbWFnZVNyYztcbiAgfVxuXG4gIHByaXZhdGUgX3Nob3dQbGF5ZXJDb250cm9sczogYm9vbGVhbiA9IHRydWU7XG5cbiAgLyoqIFNldHMgcGxheWVyIGNvbnRyb2xzLiBJZiBzZXQgdG8gZmFsc2UsIHBsYXllciBjb250cm9scyBhcmUgbm90IGF2YWlsYWJsZS4gKi9cbiAgQElucHV0KCdueFNob3dQbGF5ZXJDb250cm9scycpXG4gIHNldCBzaG93UGxheWVyQ29udHJvbHModmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9zaG93UGxheWVyQ29udHJvbHMgPSBjb2VyY2VCb29sZWFuUHJvcGVydHkodmFsdWUpO1xuICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICB9XG4gIGdldCBzaG93UGxheWVyQ29udHJvbHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3Nob3dQbGF5ZXJDb250cm9scztcbiAgfVxuXG4gIHByaXZhdGUgX2FsbG93RnVsbFNjcmVlbjogYm9vbGVhbiA9IHRydWU7XG5cbiAgLyoqIFNldHMgZnVsbHNjcmVlbiBvcHRpb24uIElmIHNldCB0byBmYWxzZSwgZnVsbHNjcmVlbiBvcHRpb24gaXMgbm90IGF2YWlsYWJsZS4gKi9cbiAgQElucHV0KCdueEFsbG93RnVsbFNjcmVlbicpXG4gIHNldCBhbGxvd0Z1bGxTY3JlZW4odmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9hbGxvd0Z1bGxTY3JlZW4gPSBjb2VyY2VCb29sZWFuUHJvcGVydHkodmFsdWUpO1xuICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICB9XG4gIGdldCBhbGxvd0Z1bGxTY3JlZW4oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2FsbG93RnVsbFNjcmVlbjtcbiAgfVxuXG4gIHByaXZhdGUgX2ludGVyZmFjZUxhbmd1YWdlOiBzdHJpbmcgPSBudWxsO1xuXG4gIC8qKiBTZXRzIGludGVyZmFjZSBsYW5ndWFnZS4gQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIGludGVyZmFjZSBsYW5ndWFnZSBkZXRlcm1pbmVkIGJ5IFlvdVR1YmUuICovXG4gIEBJbnB1dCgnbnhJbnRlcmZhY2VMYW5ndWFnZScpXG4gIHNldCBpbnRlcmZhY2VMYW5ndWFnZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuX2ludGVyZmFjZUxhbmd1YWdlICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5faW50ZXJmYWNlTGFuZ3VhZ2UgPSB2YWx1ZTtcbiAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgfVxuICBnZXQgaW50ZXJmYWNlTGFuZ3VhZ2UoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJmYWNlTGFuZ3VhZ2U7XG4gIH1cblxuICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICBzaG93UGxheWVyID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzYW5pdGl6ZXI6IERvbVNhbml0aXplciwgcHJpdmF0ZSBfY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmKSB7fVxuXG4gIC8qKiBAZG9jcy1wcml2YXRlICovXG4gIHNlbGVjdCgpOiB2b2lkIHtcbiAgICB0aGlzLnNob3dQbGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgIC8qKiBSZXR1cm5zIHRoZSBzYWZlIHJlc291cmNlIFVSTCBvZiB0aGUgWW91VHViZSB2aWRlbywgZ2l2ZW4gdmlkZW8gaWQuICAqL1xuICBnZXQgdmlkZW9TcmMoKTogU2FmZVJlc291cmNlVXJsIHtcbiAgICBsZXQgdXJsID0gYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7dGhpcy52aWRlb0lkfT9yZWw9MCZzaG93aW5mbz0wJmF1dG9wbGF5PTFgO1xuICAgIGlmICghdGhpcy5zaG93UGxheWVyQ29udHJvbHMpIHtcbiAgICAgIHVybCArPSAnJmNvbnRyb2xzPTAnO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYWxsb3dGdWxsU2NyZWVuKSB7XG4gICAgICB1cmwgKz0gJyZmcz0wJztcbiAgICB9XG4gICAgaWYgKHRoaXMuaW50ZXJmYWNlTGFuZ3VhZ2UpIHtcbiAgICAgIHVybCArPSBgJmhsPSR7dGhpcy5pbnRlcmZhY2VMYW5ndWFnZX1gO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdFJlc291cmNlVXJsKHVybCk7XG4gIH1cblxuICAvKiogUmV0dXJucyB0aGUgcHJldmlldyBpbWFnZSBzb3VyY2UgVVJMLCBnaXZlbiB2aWRlbyBpZC4gKi9cbiAgZ2V0IGltZ1NyYygpIHtcbiAgICByZXR1cm4gdGhpcy5wcmV2aWV3SW1hZ2VTcmMgPyB0aGlzLnByZXZpZXdJbWFnZVNyYyA6IGBodHRwczovL2ltZy55b3V0dWJlLmNvbS92aS8ke3RoaXMudmlkZW9JZH0vc2RkZWZhdWx0LmpwZ2A7XG4gIH1cblxuICAvKiogUmV0dXJucyB0aGUgbGFiZWxzIGZvciB0aGUgY29udHJvbCBidXR0b25zLiAqL1xuICBnZXQgcGxheUJ1dHRvbkFyaWFMYWJlbCgpIHtcbiAgICBjb25zdCBkZWZhdWx0TGFiZWwgPSB0aGlzLmFsdFRleHQgPyBgJHt0aGlzLmFsdFRleHR9IC0gUGxheSBWaWRlb2AgOiAnUGxheSBWaWRlbyc7XG4gICAgcmV0dXJuIHRoaXMubnhQbGF5QnV0dG9uQXJpYUxhYmVsID8gdGhpcy5ueFBsYXlCdXR0b25BcmlhTGFiZWwgOiBkZWZhdWx0TGFiZWw7XG4gIH1cbn1cbiJdfQ==
/**
 * @fileoverview added by tsickle
 * Generated from: formfield.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { ViewChild, InjectionToken, Inject, Optional } from '@angular/core';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ContentChild, ContentChildren, ElementRef, Input, QueryList, ViewEncapsulation, Renderer2 } from '@angular/core';
import { delay, startWith } from 'rxjs/operators';
import { getClassNameList } from '@allianz/ngx-ndbx/utils';
import { NxFormfieldHintDirective } from './hint.directive';
import { NxFormfieldNoteDirective } from './note.directive';
import { NxFormfieldErrorDirective } from './error.directive';
import { NxFormfieldControl } from './formfield-control';
import { NxFormfieldSuffixDirective } from './suffix.directive';
import { NxFormfieldPrefixDirective } from './prefix.directive';
import { NxFormfieldAppendixDirective } from './appendix.directive';
import { NxFormfieldLabelDirective } from './label.directive';
/** @type {?} */
var NX_STYLES = {
    'negative': 'nx-formfield--negative'
};
/**
 * Represents the default options for the form field that can be configured
 * using the `FORMFIELD_DEFAULT_OPTIONS` injection token.
 * @record
 */
export function FormfieldDefaultOptions() { }
if (false) {
    /**
     * Sets the default appearance. (optional)
     * @type {?|undefined}
     */
    FormfieldDefaultOptions.prototype.appearance;
    /**
     * Sets the default float label type. (optional)
     * @type {?|undefined}
     */
    FormfieldDefaultOptions.prototype.nxFloatLabel;
}
/** @type {?} */
export var FORMFIELD_DEFAULT_OPTIONS = new InjectionToken('FORMFIELD_DEFAULT_OPTIONS');
var NxFormfieldComponent = /** @class */ (function () {
    function NxFormfieldComponent(elementRef, renderer, _changeDetectorRef, _defaultOptions) {
        this.elementRef = elementRef;
        this.renderer = renderer;
        this._changeDetectorRef = _changeDetectorRef;
        this._defaultOptions = _defaultOptions;
        this._styles = '';
        this._subscriptions = [];
    }
    Object.defineProperty(NxFormfieldComponent.prototype, "floatLabel", {
        /**
         * Whether the label should float once the input is focused or filled (auto, default)
         * or force it to always float with a value of always to simulate a more static form.
         */
        get: /**
         * Whether the label should float once the input is focused or filled (auto, default)
         * or force it to always float with a value of always to simulate a more static form.
         * @return {?}
         */
        function () {
            return this._floatLabel || (this._defaultOptions && this._defaultOptions.nxFloatLabel) || 'auto';
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value !== this._floatLabel) {
                this._floatLabel = value || 'auto';
                this._changeDetectorRef.markForCheck();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxFormfieldComponent.prototype, "styles", {
        /**
         * Sets the styling of the formfield.
         * If 'negative', a negative set of stylings is used.
         */
        set: /**
         * Sets the styling of the formfield.
         * If 'negative', a negative set of stylings is used.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            var _this = this;
            if (this._styles === value) {
                return;
            }
            /** @type {?} */
            var classNames = getClassNameList(value, NX_STYLES);
            classNames.forEach((/**
             * @param {?} classStr
             * @return {?}
             */
            function (classStr) {
                _this.renderer.addClass(_this.elementRef.nativeElement, classStr);
            }));
            this._styles = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxFormfieldComponent.prototype, "appearance", {
        get: /**
         * @return {?}
         */
        function () {
            return this._appearance || (this._defaultOptions && this._defaultOptions.appearance) || 'auto';
        },
        /**
         * **NDBX Expert option**
         *
         * Sets the appearance of the formfield.
         */
        set: /**
         * **NDBX Expert option**
         *
         * Sets the appearance of the formfield.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (this._appearance !== value) {
                this._appearance = value;
                this._changeDetectorRef.markForCheck();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxFormfieldComponent.prototype, "_shouldAlwaysFloat", {
        get: /**
         * @return {?}
         */
        function () {
            return this.floatLabel === 'always';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxFormfieldComponent.prototype, "shouldLabelFloat", {
        /** @docs-private */
        get: /**
         * \@docs-private
         * @return {?}
         */
        function () {
            return (this._control.shouldLabelFloat || this._shouldAlwaysFloat);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxFormfieldComponent.prototype, "control", {
        /** @docs-private */
        get: /**
         * \@docs-private
         * @return {?}
         */
        function () {
            return this._control;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NxFormfieldComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var subscription;
        /** @type {?} */
        var subscriptions = [];
        this._validateControlChild();
        if (this._control.controlType) {
            this.elementRef.nativeElement.classList.add("nx-formfield--type-" + this._control.controlType);
        }
        // Subscribe to changes in the child control state in order to update the form field UI.
        subscription = this._control.stateChanges.pipe(startWith(null), delay(0)).subscribe((/**
         * @return {?}
         */
        function () {
            _this._syncDescribedByIds();
            _this._changeDetectorRef.markForCheck();
        }));
        subscriptions.push(subscription);
        // Re-validate when the number of hints changes.
        subscription = this._hintChildren.changes.pipe(startWith(null), delay(0)).subscribe((/**
         * @return {?}
         */
        function () {
            _this._changeDetectorRef.markForCheck();
        }));
        subscriptions.push(subscription);
        // Update the aria-described by when the number of errors changes.
        subscription = this._errorChildren.changes.pipe(startWith(null), delay(0)).subscribe((/**
         * @return {?}
         */
        function () {
            _this._syncDescribedByIds();
            _this._changeDetectorRef.markForCheck();
        }));
        subscriptions.push(subscription);
        this._subscriptions = subscriptions;
    };
    /**
     * @return {?}
     */
    NxFormfieldComponent.prototype.ngAfterContentChecked = /**
     * @return {?}
     */
    function () {
        this._validateControlChild();
    };
    /**
     * @return {?}
     */
    NxFormfieldComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this._subscriptions.forEach((/**
         * @param {?} subscription
         * @return {?}
         */
        function (subscription) { return subscription.unsubscribe(); }));
    };
    /** @docs-private */
    /**
     * \@docs-private
     * @return {?}
     */
    NxFormfieldComponent.prototype.getDisplayedMessage = /**
     * \@docs-private
     * @return {?}
     */
    function () {
        if (this._control.errorState && this._errorChildren && this._errorChildren.length > 0) {
            return 'error';
        }
        if (this._noteChildren && this._noteChildren.length > 0) {
            return 'note';
        }
        return '';
    };
    /**
     * @private
     * @return {?}
     */
    NxFormfieldComponent.prototype._syncDescribedByIds = /**
     * @private
     * @return {?}
     */
    function () {
        if (this._control) {
            /** @type {?} */
            var ids = [];
            ids = this._hintChildren.map((/**
             * @param {?} hint
             * @return {?}
             */
            function (hint) { return hint.id; }));
            if (this.getDisplayedMessage() === 'note') {
                ids = tslib_1.__spread(this._noteChildren.map((/**
                 * @param {?} hint
                 * @return {?}
                 */
                function (hint) { return hint.id; })), ids);
            }
            else if (this._errorChildren) {
                ids = tslib_1.__spread(this._errorChildren.map((/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) { return error.id; })), ids);
            }
            this._control.setDescribedByIds(ids);
        }
    };
    // Fail if the required control is missing.
    // Fail if the required control is missing.
    /**
     * @protected
     * @return {?}
     */
    NxFormfieldComponent.prototype._validateControlChild = 
    // Fail if the required control is missing.
    /**
     * @protected
     * @return {?}
     */
    function () {
        if (!this._control) {
            throw new Error('Formfield must contain a NxFormfieldControl like input[nxInput] or a custom implementation');
        }
    };
    /** @docs-private */
    /**
     * \@docs-private
     * @return {?}
     */
    NxFormfieldComponent.prototype.getConnectedOverlayOrigin = /**
     * \@docs-private
     * @return {?}
     */
    function () {
        return this._connectionContainerRef || this.elementRef;
    };
    /** @docs-private */
    /**
     * \@docs-private
     * @return {?}
     */
    NxFormfieldComponent.prototype._hasLabel = /**
     * \@docs-private
     * @return {?}
     */
    function () {
        return !!this._labelChild || !!this.label;
    };
    /** @docs-private
     * The placeholder is hidden when
     *  - the control is not empty
     *  - The label is not floated
     * */
    /**
     * \@docs-private
     * The placeholder is hidden when
     *  - the control is not empty
     *  - The label is not floated
     *
     * @return {?}
     */
    NxFormfieldComponent.prototype._hideControlPlaceholder = /**
     * \@docs-private
     * The placeholder is hidden when
     *  - the control is not empty
     *  - The label is not floated
     *
     * @return {?}
     */
    function () {
        return !this.shouldLabelFloat && this._hasLabel() || this._control.empty === false;
    };
    NxFormfieldComponent.decorators = [
        { type: Component, args: [{
                    selector: 'nx-formfield',
                    template: "<!--\nWe are building the following structure.\n\n+-----------------------------+ +-----------+\n| Prefix |   Input   | Suffix | |  Appendix |\n+-----------------------------+ +-----------+\n|-----------------Border--------------------|\n+-------------------------------------------+\n|                 Hints                     |\n+-------------------------------------------+\n|                                           |\n|                Messages                   |\n|                                           |\n+-------------------------------------------+\n\n-->\n\n<div class=\"nx-formfield__wrapper\">\n\n\n  <!-- Give a flex context to properly align suffix, input & postfix -->\n  <div class=\"nx-formfield__row\" #connectionContainer>\n    <div class=\"nx-formfield__flexfield\">\n\n\n      <div class=\"nx-formfield__input-container\">\n        <div class=\"nx-formfield__prefix\" *ngIf=\"_prefixChildren.length\">\n          <ng-content select=\"[nxFormfieldPrefix]\"></ng-content>\n        </div>\n\n        <div class=\"nx-formfield__input\">\n          <ng-content></ng-content>\n\n          <!-- This handles the floating whole behavior -->\n          <span class=\"nx-formfield__label-holder\">\n            <label class=\"nx-formfield__label\" [attr.aria-owns]=\"_control.id\"\n              [attr.for]=\"_control.id\">\n              <ng-container *ngIf=\"!_labelChild\">\n                {{ label }}\n              </ng-container>\n              <ng-content select=\"nx-formfield-label\"></ng-content>\n            </label>\n          </span>\n        </div>\n\n        <div class=\"nx-formfield__suffix\" *ngIf=\"_suffixChildren.length\">\n          <ng-content select=\"[nxFormfieldSuffix]\"></ng-content>\n        </div>\n      </div>\n      <!-- Space to render the hints below the textfield -->\n      <div class=\"nx-formfield__hints\" *ngIf=\"_hintChildren.length\">\n        <ng-content select=\"[nxFormfieldHint]\"></ng-content>\n      </div>\n    </div>\n\n    <!-- Appendix is similar to a suffix but visibly outside of the input  -->\n    <div class=\"nx-formfield__appendix\" *ngIf=\"_appendixChildren.length\">\n      <ng-content select=\"[nxFormfieldAppendix]\"></ng-content>\n    </div>\n  </div>\n\n  <!-- In case we got some additional information we render them below the given input -->\n  <ng-container [ngSwitch]=\"getDisplayedMessage()\">\n    <div class=\"nx-formfield__message\" *ngSwitchCase=\"'error'\">\n      <ng-content select=\"[nxFormfieldError]\"></ng-content>\n    </div>\n\n    <div class=\"nx-formfield__message\" *ngSwitchCase=\"'note'\">\n      <ng-content select=\"[nxFormfieldNote]\"></ng-content>\n    </div>\n  </ng-container>\n</div>\n",
                    host: {
                        '[class.nx-formfield]': 'true',
                        '[class.is-disabled]': 'this._control.disabled',
                        '[class.is-readonly]': 'this._control.readonly',
                        '[class.is-filled]': 'this._control.empty === false',
                        '[class.is-focused]': 'this._control.focused',
                        '[class.is-floating]': 'this.shouldLabelFloat',
                        '[class.has-error]': 'this._control.errorState',
                        '[class.has-outline]': 'this.appearance === "outline"',
                        '[class.has-hint]': 'this._hintChildren?.length > 0',
                    },
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    encapsulation: ViewEncapsulation.None,
                    styles: [".nx-formfield{display:block;color:#414141;color:var(--text-01,#414141)}.nx-formfield__wrapper{padding-bottom:24px;padding-bottom:var(--formfield-bottom-padding,24px);padding-top:16px;padding-top:var(--formfield-label-height,16px)}.has-hint .nx-formfield__wrapper{padding-bottom:0}.nx-formfield__row{min-height:32px;min-height:var(--formfield-control-height,32px);background-color:transparent;background-color:var(--formfield-background-color,transparent);display:flex;align-items:stretch;width:100%}.nx-formfield__row:after{content:'';font-size:0;display:block;min-height:inherit}.nx-formfield__flexfield{font-size:20px;font-size:var(--formfield-control-font-size,20px);line-height:28px;line-height:var(--formfield-control-line-height,28px);font-weight:600;font-weight:var(--formfield-control-font-weight,600);letter-spacing:.2px;letter-spacing:var(--formfield-control-letter-spacing,.2px);align-items:stretch;flex-direction:column;display:inline-flex;width:100%;position:relative;min-width:0;flex:0 1 auto}.nx-formfield__input-container{display:flex;border-bottom:1px solid #414141;border-bottom:var(--formfield-border-width,1px) solid var(--formfield-border-color,#414141);height:32px;height:var(--formfield-control-height,32px);flex:auto;padding:0 0 3px;padding:var(--formfield-input-padding,0 0 3px 0)}.nx-formfield__input{position:relative;flex:auto;min-width:0;display:flex}.nx-formfield__label-holder{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10}.nx-formfield__label{font-size:20px;font-size:var(--formfield-placeholder-label-font-size,20px);line-height:28px;line-height:var(--formfield-placeholder-label-line-height,28px);font-weight:300;font-weight:var(--formfield-placeholder-label-font-weight,300);letter-spacing:.2px;letter-spacing:var(--formfield-placeholder-label-letter-spacing,.2px);color:#414141;color:var(--formfield-label-color,#414141);display:block;position:absolute;left:0;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .15s ease-out,font-size .15s ease-out;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}.nx-formfield__appendix,.nx-formfield__prefix,.nx-formfield__suffix{align-items:center;flex:none;white-space:nowrap;color:#414141;color:var(--formfield-control-color,#414141)}.nx-formfield__appendix nx-icon.nx-icon--auto,.nx-formfield__prefix nx-icon.nx-icon--auto,.nx-formfield__suffix nx-icon.nx-icon--auto{font-size:24px;font-size:var(--formfield-icon-size,24px);font-weight:400}.nx-formfield__appendix nx-icon,.nx-formfield__prefix nx-icon,.nx-formfield__suffix nx-icon{display:block}.nx-formfield__prefix,.nx-formfield__suffix{display:inline-flex}.nx-formfield__appendix{height:32px;height:var(--formfield-control-height,32px);margin-left:8px;display:flex;border-bottom-width:var(--formfield-border-width,1px);padding:0 0 3px;padding:var(--formfield-input-padding,0 0 3px 0);border-bottom:1px solid transparent}.nx-formfield__prefix{margin-right:8px}.nx-formfield__suffix{margin-left:8px}.nx-formfield__hints{color:#414141;color:var(--text-01,#414141);font-size:12px;font-size:var(--formfield-hint-font-size,12px);line-height:16px;line-height:var(--formfield-hint-line-height,16px);font-weight:400;font-weight:var(--formfield-hint-font-weight,400);letter-spacing:.5px;letter-spacing:var(--formfield-hint-letter-spacing,.5px);padding-top:8px;text-align:right}[nxformfieldhint]{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.nx-formfield__message{margin-top:4px}.nx-formfield:not(.nx-formfield--negative) .nx-formfield__appendix nx-icon{color:#006192;color:var(--formfield-active-color,#006192)}.nx-formfield.is-focused .nx-formfield__label{text-overflow:ellipsis}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error){color:#006192;color:var(--formfield-active-color,#006192)}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error) .nx-formfield__input-container{border-bottom-color:#007ab3;border-bottom-color:var(--formfield-active-border-color,#007ab3)}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error).nx-formfield--negative{color:#fff}.nx-formfield:not(.nx-formfield--negative):not(.has-error):not(.is-disabled):not(.is-focused):not(.has-outline) .nx-formfield__row:hover .nx-formfield__input-container{border-bottom-color:#414141;border-bottom-color:var(--formfield-hover-border-color,#414141)}.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline .nx-formfield__input-container{border-color:#006192;border-color:var(--formfield-outline-active-border-color,#006192);box-shadow:0 0 0 2px #009de6;box-shadow:var(--formfield-outline-focus-box-shadow,0 0 0 2px #009de6)}.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline.has-error .nx-formfield__input-container{border-bottom-color:#dc3149;border-bottom-color:var(--danger,#dc3149)}.nx-formfield.has-outline{font-size:16px;font-size:var(--formfield-outline-control-font-size,16px);line-height:24px;line-height:var(--formfield-outline-control-line-height,24px);font-weight:400;font-weight:var(--formfield-outline-control-font-weight,400);letter-spacing:0;letter-spacing:var(--formfield-outline-control-letter-spacing,0)}.nx-formfield.has-outline.nx-formfield--type-textarea .nx-formfield__input-container{height:auto}.nx-formfield.has-outline .nx-formfield__wrapper{padding-top:28px;padding-top:var(--formfield-outline-label-height,28px)}.nx-formfield.has-outline .nx-formfield__row{min-height:40px;min-height:var(--formfield-outline-control-height,40px)}.nx-formfield.has-outline .nx-formfield__flexfield{font-size:16px;font-size:var(--formfield-outline-control-font-size,16px);line-height:24px;line-height:var(--formfield-outline-control-line-height,24px);font-weight:400;font-weight:var(--formfield-outline-control-font-weight,400);letter-spacing:0;letter-spacing:var(--formfield-outline-control-letter-spacing,0);padding:0}.nx-formfield.has-outline .nx-formfield__input-container{padding:0;border-width:var(--formfield-border-width,1px);border-color:var(--formfield-outline-border-color,#767676);border-radius:4px;height:40px;height:var(--formfield-outline-control-height,40px);border:1px solid #767676}.nx-formfield.has-outline input,.nx-formfield.has-outline nx-dropdown .nx-dropdown__container{padding:0 7px}.nx-formfield.has-outline .nx-formfield__suffix{margin-right:7px;margin-left:0}.nx-formfield.has-outline .nx-formfield__prefix{margin-left:7px;margin-right:0}.nx-formfield.has-outline .nx-formfield__input textarea[nxInput]{line-height:24px;padding:7px}.nx-formfield.has-outline .nx-formfield__appendix{height:40px;height:var(--formfield-outline-control-height,40px);margin-left:8px;display:flex;border-top:1px solid transparent;border-top:var(--formfield-border-width,1px) solid transparent;border-bottom:1px solid transparent;border-bottom:var(--formfield-border-width,1px) solid transparent;padding:0}.nx-formfield.has-outline .nx-formfield__hints{text-align:left;font-size:16px;font-size:var(--formfield-outline-hint-font-size,16px);line-height:1em;line-height:var(--formfield-outline-hint-line-height,1em);font-weight:400;font-weight:var(--formfield-outline-hint-font-weight,400);letter-spacing:0;letter-spacing:var(--formfield-outline-hint-letter-spacing,0)}.nx-formfield.has-outline input::-ms-input-placeholder{font-size:16px;font-size:var(--formfield-outline-input-native-placeholder-font-size,16px);line-height:40px;line-height:var(--formfield-outline-input-native-placeholder-line-height,40px);font-weight:200;font-weight:var(--formfield-outline-input-native-placeholder-font-weight,200);letter-spacing:0;letter-spacing:var(--formfield-outline-input-native-placeholder-letter-spacing,0);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676)}.nx-formfield.has-outline input::placeholder{font-size:16px;font-size:var(--formfield-outline-input-native-placeholder-font-size,16px);line-height:40px;line-height:var(--formfield-outline-input-native-placeholder-line-height,40px);font-weight:200;font-weight:var(--formfield-outline-input-native-placeholder-font-weight,200);letter-spacing:0;letter-spacing:var(--formfield-outline-input-native-placeholder-letter-spacing,0);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676)}.nx-formfield.has-outline input::-moz-placeholder{font-size:16px;font-size:var(--formfield-outline-input-native-placeholder-font-size,16px);line-height:40px;line-height:var(--formfield-outline-input-native-placeholder-line-height,40px);font-weight:200;font-weight:var(--formfield-outline-input-native-placeholder-font-weight,200);letter-spacing:0;letter-spacing:var(--formfield-outline-input-native-placeholder-letter-spacing,0);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676)}.nx-formfield.has-outline input::-webkit-input-placeholder{font-size:16px;font-size:var(--formfield-outline-input-native-placeholder-font-size,16px);line-height:40px;line-height:var(--formfield-outline-input-native-placeholder-line-height,40px);font-weight:200;font-weight:var(--formfield-outline-input-native-placeholder-font-weight,200);letter-spacing:0;letter-spacing:var(--formfield-outline-input-native-placeholder-letter-spacing,0);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676)}.nx-formfield.has-outline input:-ms-input-placeholder{font-size:16px;font-size:var(--formfield-outline-input-native-placeholder-font-size,16px);line-height:40px;line-height:var(--formfield-outline-input-native-placeholder-line-height,40px);font-weight:200;font-weight:var(--formfield-outline-input-native-placeholder-font-weight,200);letter-spacing:0;letter-spacing:var(--formfield-outline-input-native-placeholder-letter-spacing,0);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676)}.nx-formfield.has-outline.is-readonly .nx-formfield__input-container{border-color:#c2c2c2;border-color:var(--formfield-readonly-border-color,#c2c2c2);background-color:#f5f5f5;background-color:var(--formfield-readonly-background-color,#f5f5f5)}.nx-formfield.is-floating .nx-formfield__label{transform:translateY(-16px);transform:translateY(var(--formfield-floating-distance,-16px));font-size:12px;font-size:var(--formfield-label-font-size,12px);line-height:16px;line-height:var(--formfield-label-line-height,16px);font-weight:600;font-weight:var(--formfield-label-font-weight,600);letter-spacing:.5px;letter-spacing:var(--formfield-label-letter-spacing,.5px)}.nx-formfield.is-floating.is-filled .nx-formfield__label{transition:none}.nx-formfield.is-floating.has-outline .nx-formfield__label{padding-top:0;transform:translateY(-29px);transform:translateY(var(--formfield-outline-floating-distance,-29px));font-size:16px;font-size:var(--formfield-outline-label-font-size,16px);line-height:24px;line-height:var(--formfield-outline-label-line-height,24px);font-weight:600;font-weight:var(--formfield-outline-label-font-weight,600);letter-spacing:0;letter-spacing:var(--formfield-outline-label-letter-spacing,0)}.nx-formfield.is-floating.has-outline .nx-formfield__prefix~.nx-formfield__input .nx-formfield__label{padding:0 7px}.nx-formfield.has-error:not(.has-outline) .nx-formfield__input input[nxInput],.nx-formfield.has-error:not(.has-outline) .nx-formfield__prefix,.nx-formfield.has-error:not(.has-outline) .nx-formfield__suffix,.nx-formfield.has-error:not(.has-outline):not(.is-floating) .nx-formfield__label{font-weight:700;font-weight:var(--formfield-error-input-font-weight,700)}.nx-formfield.has-error:not(.nx-formfield--negative),.nx-formfield.has-error:not(.nx-formfield--negative):not(.has-outline) .nx-formfield__label,.nx-formfield.has-error:not(.nx-formfield--negative):not(.has-outline) .nx-formfield__prefix,.nx-formfield.has-error:not(.nx-formfield--negative):not(.has-outline) .nx-formfield__suffix{color:#dc3149;color:var(--danger,#dc3149)}.nx-formfield.has-error:not(.nx-formfield--negative) .nx-formfield__input-container{border-bottom-color:#dc3149;border-bottom-color:var(--danger,#dc3149)}.nx-formfield.has-error:not(.nx-formfield--negative).is-floating .nx-formfield__label{color:#414141;color:var(--formfield-label-color,#414141)}.nx-formfield.has-error:not(.nx-formfield--negative).has-outline{color:#414141;color:var(--text-01,#414141)}.nx-formfield.has-error:not(.nx-formfield--negative).has-outline .nx-formfield__input-container{border-color:#dc3149;border-color:var(--danger,#dc3149)}.nx-formfield.is-disabled{color:#c2c2c2;color:var(--formfield-disabled-text-color,#c2c2c2);-webkit-text-fill-color:#c2c2c2;-webkit-text-fill-color:var(--formfield-disabled-text-color,#c2c2c2);cursor:not-allowed}.nx-formfield.is-disabled .nx-formfield__hints{color:inherit}.nx-formfield.is-disabled .nx-formfield__input-container{border-bottom-color:#c2c2c2;border-bottom-color:var(--formfield-disabled-border-color,#c2c2c2)}.nx-formfield.is-disabled.has-outline .nx-formfield__input-container{border-color:#c2c2c2;border-color:var(--formfield-disabled-border-color,#c2c2c2)}.nx-formfield.is-disabled nx-datepicker-toggle button{color:#c2c2c2;color:var(--formfield-disabled-text-color,#c2c2c2)}.nx-formfield--negative{color:#fff}.nx-formfield--negative .nx-formfield__hints{color:inherit}.nx-formfield--negative .nx-formfield__input-container,.nx-formfield--negative.has-outline .nx-formfield__input-container{border-color:#fff}.nx-formfield--negative .nx-formfield__appendix,.nx-formfield--negative .nx-formfield__label,.nx-formfield--negative .nx-formfield__prefix,.nx-formfield--negative .nx-formfield__suffix{color:#fff}.nx-formfield--type-nx-dropdown .nx-formfield__label{width:calc(100% - 24px);width:calc(100% - var(--formfield-icon-size,24px))}.nx-formfield__input textarea[nxInput]{vertical-align:bottom}@media screen and (-ms-high-contrast:active){.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline .nx-formfield__input-container{box-shadow:0 0 0 2px windowText}.nx-formfield__input-container{border-bottom-color:buttonText}.nx-formfield.has-outline .nx-formfield__input-container{border-color:buttonText}.nx-formfield.has-outline .nx-formfield__appendix{border-bottom-color:window;border-top-color:window}.nx-formfield.is-disabled{color:GrayText;-webkit-text-fill-color:GrayText}.nx-formfield.is-disabled .nx-formfield__input-container{border-bottom-color:GrayText}.nx-formfield.is-disabled .nx-formfield__hints{color:windowText}.nx-formfield.is-disabled.has-outline .nx-formfield__input-container{border-color:GrayText}.nx-formfield.is-focused:not(.has-outline) .nx-formfield__input-container{border-bottom-color:highlight}.nx-formfield:not(.nx-formfield--negative) .nx-formfield__appendix nx-icon{color:inherit}}.nx-formfield--type-textarea .nx-formfield__flexfield{padding:0}.nx-formfield--type-textarea .nx-formfield__input-container{height:auto}input:-webkit-autofill{transition:background-color 5000s ease-in-out}input:-webkit-autofill::first-line{font-size:20px;font-size:var(--formfield-control-font-size,20px);line-height:28px;line-height:var(--formfield-control-line-height,28px);font-weight:600;font-weight:var(--formfield-control-font-weight,600);letter-spacing:.2px;letter-spacing:var(--formfield-control-letter-spacing,.2px);font-family:'Allianz Neo',sans-serif!important}", "@-webkit-keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-start{/*!*/}@-webkit-keyframes cdk-text-field-autofill-end{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation:0s 1ms cdk-text-field-autofill-start;animation:0s 1ms cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation:0s 1ms cdk-text-field-autofill-end;animation:0s 1ms cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.c-input{text-align:inherit;font-size:inherit;font-weight:inherit;background:0 0;color:inherit;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%}.c-input::-ms-clear{display:none}.c-input::-webkit-search-cancel-button,.c-input::-webkit-search-decoration,.c-input::-webkit-search-results-button,.c-input::-webkit-search-results-decoration{display:none;-webkit-appearance:none}.c-input::-ms-input-placeholder{-ms-user-select:none;user-select:none;font-size:20px;font-size:var(--formfield-input-native-placeholder-font-size,20px);line-height:28px;line-height:var(--formfield-input-native-placeholder-line-height,28px);font-weight:200;font-weight:var(--formfield-input-native-placeholder-font-weight,200);letter-spacing:.2px;letter-spacing:var(--formfield-input-native-placeholder-letter-spacing,.2px);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676);transition:color .1s ease-in .2s}.c-input::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:20px;font-size:var(--formfield-input-native-placeholder-font-size,20px);line-height:28px;line-height:var(--formfield-input-native-placeholder-line-height,28px);font-weight:200;font-weight:var(--formfield-input-native-placeholder-font-weight,200);letter-spacing:.2px;letter-spacing:var(--formfield-input-native-placeholder-letter-spacing,.2px);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676);transition:color .1s ease-in .2s}.c-input::-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input::placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input::-moz-placeholder{-moz-user-select:none;user-select:none;font-size:20px;font-size:var(--formfield-input-native-placeholder-font-size,20px);line-height:28px;line-height:var(--formfield-input-native-placeholder-line-height,28px);font-weight:200;font-weight:var(--formfield-input-native-placeholder-font-weight,200);letter-spacing:.2px;letter-spacing:var(--formfield-input-native-placeholder-letter-spacing,.2px);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676);transition:color .1s ease-in .2s}.c-input::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;font-size:20px;font-size:var(--formfield-input-native-placeholder-font-size,20px);line-height:28px;line-height:var(--formfield-input-native-placeholder-line-height,28px);font-weight:200;font-weight:var(--formfield-input-native-placeholder-font-weight,200);letter-spacing:.2px;letter-spacing:var(--formfield-input-native-placeholder-letter-spacing,.2px);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676);transition:color .1s ease-in .2s}.c-input::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input:-ms-input-placeholder{-ms-user-select:none;user-select:none;font-size:20px;font-size:var(--formfield-input-native-placeholder-font-size,20px);line-height:28px;line-height:var(--formfield-input-native-placeholder-line-height,28px);font-weight:200;font-weight:var(--formfield-input-native-placeholder-font-weight,200);letter-spacing:.2px;letter-spacing:var(--formfield-input-native-placeholder-letter-spacing,.2px);color:#767676;color:var(--formfield-input-native-placeholder-color,#767676);transition:color .1s ease-in .2s}.c-input:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}textarea.c-input{height:auto;font-family:inherit}.c-input.is-focused{border:none;outline:0;box-shadow:none}.c-input.is-focused::-ms-input-placeholder{opacity:1;transition:opacity .2s ease-in 150ms}.c-input.is-focused::placeholder{opacity:1;transition:opacity .2s ease-in 150ms}.c-input.is-focused::-moz-placeholder{opacity:1;transition:opacity .2s ease-in 150ms}.c-input.is-focused::-webkit-input-placeholder{opacity:1;transition:opacity .2s ease-in 150ms}.c-input.is-focused:-ms-input-placeholder{opacity:1;transition:opacity .2s ease-in 150ms}.c-input.is-disabled{cursor:not-allowed}textarea.nx-input-element{resize:vertical;overflow:auto}.c-input:invalid,.c-input:required{box-shadow:none}"]
                }] }
    ];
    /** @nocollapse */
    NxFormfieldComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer2 },
        { type: ChangeDetectorRef },
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [FORMFIELD_DEFAULT_OPTIONS,] }] }
    ]; };
    NxFormfieldComponent.propDecorators = {
        _control: [{ type: ContentChild, args: [NxFormfieldControl, { static: false },] }],
        label: [{ type: Input, args: ['nxLabel',] }],
        _labelChild: [{ type: ContentChild, args: [NxFormfieldLabelDirective, { static: false },] }],
        _hintChildren: [{ type: ContentChildren, args: [NxFormfieldHintDirective,] }],
        _noteChildren: [{ type: ContentChildren, args: [NxFormfieldNoteDirective,] }],
        _errorChildren: [{ type: ContentChildren, args: [NxFormfieldErrorDirective,] }],
        _suffixChildren: [{ type: ContentChildren, args: [NxFormfieldSuffixDirective,] }],
        _prefixChildren: [{ type: ContentChildren, args: [NxFormfieldPrefixDirective,] }],
        _appendixChildren: [{ type: ContentChildren, args: [NxFormfieldAppendixDirective,] }],
        _connectionContainerRef: [{ type: ViewChild, args: ['connectionContainer', { static: true },] }],
        floatLabel: [{ type: Input, args: ['nxFloatLabel',] }],
        styles: [{ type: Input, args: ['nxStyle',] }],
        appearance: [{ type: Input }]
    };
    return NxFormfieldComponent;
}());
export { NxFormfieldComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    NxFormfieldComponent.prototype._styles;
    /**
     * @type {?}
     * @private
     */
    NxFormfieldComponent.prototype._subscriptions;
    /** @type {?} */
    NxFormfieldComponent.prototype._control;
    /**
     * Sets the label which will act as a floating label.
     * In addition, the component uses input and label to properly support accessibility.
     * @type {?}
     */
    NxFormfieldComponent.prototype.label;
    /** @type {?} */
    NxFormfieldComponent.prototype._labelChild;
    /** @type {?} */
    NxFormfieldComponent.prototype._hintChildren;
    /** @type {?} */
    NxFormfieldComponent.prototype._noteChildren;
    /** @type {?} */
    NxFormfieldComponent.prototype._errorChildren;
    /** @type {?} */
    NxFormfieldComponent.prototype._suffixChildren;
    /** @type {?} */
    NxFormfieldComponent.prototype._prefixChildren;
    /** @type {?} */
    NxFormfieldComponent.prototype._appendixChildren;
    /** @type {?} */
    NxFormfieldComponent.prototype._connectionContainerRef;
    /**
     * @type {?}
     * @private
     */
    NxFormfieldComponent.prototype._floatLabel;
    /**
     * @type {?}
     * @private
     */
    NxFormfieldComponent.prototype._appearance;
    /**
     * \@docs-private
     * @type {?}
     */
    NxFormfieldComponent.prototype.elementRef;
    /**
     * @type {?}
     * @private
     */
    NxFormfieldComponent.prototype.renderer;
    /**
     * @type {?}
     * @private
     */
    NxFormfieldComponent.prototype._changeDetectorRef;
    /**
     * @type {?}
     * @private
     */
    NxFormfieldComponent.prototype._defaultOptions;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWZpZWxkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BhbGxpYW56L25neC1uZGJ4L2Zvcm1maWVsZC8iLCJzb3VyY2VzIjpbImZvcm1maWVsZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM1RSxPQUFPLEVBSUwsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsWUFBWSxFQUNaLGVBQWUsRUFDZixVQUFVLEVBQ1YsS0FBSyxFQUNMLFNBQVMsRUFDVCxpQkFBaUIsRUFDakIsU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFM0QsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDNUQsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDNUQsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDOUQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFekQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDaEUsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDaEUsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDcEUsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sbUJBQW1CLENBQUM7O0lBRXhELFNBQVMsR0FBRztJQUNoQixVQUFVLEVBQUUsd0JBQXdCO0NBQ3JDOzs7Ozs7QUFNRCw2Q0FNQzs7Ozs7O0lBSkMs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OztJQTZCbEMsMENBQTZCOzs7OztJQUM3Qix3Q0FBMkI7Ozs7O0lBQzNCLGtEQUE2Qzs7Ozs7SUFDN0MsK0NBQStGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmlld0NoaWxkLCBJbmplY3Rpb25Ub2tlbiwgSW5qZWN0LCBPcHRpb25hbCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50Q2hlY2tlZCxcbiAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgT25EZXN0cm95LFxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgQ29udGVudENoaWxkLFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIEVsZW1lbnRSZWYsXG4gIElucHV0LFxuICBRdWVyeUxpc3QsXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxuICBSZW5kZXJlcjJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBkZWxheSwgc3RhcnRXaXRoIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgZ2V0Q2xhc3NOYW1lTGlzdCB9IGZyb20gJ0BhbGxpYW56L25neC1uZGJ4L3V0aWxzJztcblxuaW1wb3J0IHsgTnhGb3JtZmllbGRIaW50RGlyZWN0aXZlIH0gZnJvbSAnLi9oaW50LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOeEZvcm1maWVsZE5vdGVEaXJlY3RpdmUgfSBmcm9tICcuL25vdGUuZGlyZWN0aXZlJztcbmltcG9ydCB7IE54Rm9ybWZpZWxkRXJyb3JEaXJlY3RpdmUgfSBmcm9tICcuL2Vycm9yLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOeEZvcm1maWVsZENvbnRyb2wgfSBmcm9tICcuL2Zvcm1maWVsZC1jb250cm9sJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTnhGb3JtZmllbGRTdWZmaXhEaXJlY3RpdmUgfSBmcm9tICcuL3N1ZmZpeC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTnhGb3JtZmllbGRQcmVmaXhEaXJlY3RpdmUgfSBmcm9tICcuL3ByZWZpeC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTnhGb3JtZmllbGRBcHBlbmRpeERpcmVjdGl2ZSB9IGZyb20gJy4vYXBwZW5kaXguZGlyZWN0aXZlJztcbmltcG9ydCB7IE54Rm9ybWZpZWxkTGFiZWxEaXJlY3RpdmUgfSBmcm9tICcuL2xhYmVsLmRpcmVjdGl2ZSc7XG5cbmNvbnN0IE5YX1NUWUxFUyA9IHtcbiAgJ25lZ2F0aXZlJzogJ254LWZvcm1maWVsZC0tbmVnYXRpdmUnXG59O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIGZvcm0gZmllbGQgdGhhdCBjYW4gYmUgY29uZmlndXJlZFxuICogdXNpbmcgdGhlIGBGT1JNRklFTERfREVGQVVMVF9PUFRJT05TYCBpbmplY3Rpb24gdG9rZW4uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRm9ybWZpZWxkRGVmYXVsdE9wdGlvbnMge1xuICAvKiogU2V0cyB0aGUgZGVmYXVsdCBhcHBlYXJhbmNlLiAob3B0aW9uYWwpICovXG4gIGFwcGVhcmFuY2U/OiBBcHBlYXJhbmNlVHlwZTtcblxuICAvKiogU2V0cyB0aGUgZGVmYXVsdCBmbG9hdCBsYWJlbCB0eXBlLiAob3B0aW9uYWwpICovXG4gIG54RmxvYXRMYWJlbD86IEZsb2F0TGFiZWxUeXBlO1xufVxuXG5leHBvcnQgY29uc3QgRk9STUZJRUxEX0RFRkFVTFRfT1BUSU9OUyA9XG4gIG5ldyBJbmplY3Rpb25Ub2tlbjxGb3JtZmllbGREZWZhdWx0T3B0aW9ucz4oJ0ZPUk1GSUVMRF9ERUZBVUxUX09QVElPTlMnKTtcblxuLyoqIFR5cGUgZm9yIHRoZSBhdmFpbGFibGUgZmxvYXRMYWJlbCB2YWx1ZXMuICovXG5leHBvcnQgdHlwZSBGbG9hdExhYmVsVHlwZSA9ICdhbHdheXMnIHwgJ2F1dG8nO1xuXG4vKiogVHlwZSBmb3IgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIGZvcm1maWVsZC4gKi9cbmV4cG9ydCB0eXBlIEFwcGVhcmFuY2VUeXBlID0gJ291dGxpbmUnIHwgJ2F1dG8nO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdueC1mb3JtZmllbGQnLFxuICB0ZW1wbGF0ZVVybDogJ2Zvcm1maWVsZC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogW1xuICAgICdmb3JtZmllbGQuc2NzcycsXG4gICAgJy4uL2lucHV0L2lucHV0LnNjc3MnXG4gIF0sXG4gIGhvc3Q6IHtcbiAgICAnW2NsYXNzLm54LWZvcm1maWVsZF0nOiAndHJ1ZScsXG4gICAgJ1tjbGFzcy5pcy1kaXNhYmxlZF0nOiAndGhpcy5fY29udHJvbC5kaXNhYmxlZCcsXG4gICAgJ1tjbGFzcy5pcy1yZWFkb25seV0nOiAndGhpcy5fY29udHJvbC5yZWFkb25seScsXG4gICAgJ1tjbGFzcy5pcy1maWxsZWRdJzogJ3RoaXMuX2NvbnRyb2wuZW1wdHkgPT09IGZhbHNlJyxcbiAgICAnW2NsYXNzLmlzLWZvY3VzZWRdJzogJ3RoaXMuX2NvbnRyb2wuZm9jdXNlZCcsXG4gICAgJ1tjbGFzcy5pcy1mbG9hdGluZ10nOiAndGhpcy5zaG91bGRMYWJlbEZsb2F0JyxcbiAgICAnW2NsYXNzLmhhcy1lcnJvcl0nOiAndGhpcy5fY29udHJvbC5lcnJvclN0YXRlJyxcbiAgICAnW2NsYXNzLmhhcy1vdXRsaW5lXSc6ICd0aGlzLmFwcGVhcmFuY2UgPT09IFwib3V0bGluZVwiJyxcbiAgICAnW2NsYXNzLmhhcy1oaW50XSc6ICd0aGlzLl9oaW50Q2hpbGRyZW4/Lmxlbmd0aCA+IDAnLFxuICB9LFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBOeEZvcm1maWVsZENvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXQsIEFmdGVyQ29udGVudENoZWNrZWQsIE9uRGVzdHJveSB7XG4gIHByaXZhdGUgX3N0eWxlczogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgX3N1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgQENvbnRlbnRDaGlsZChOeEZvcm1maWVsZENvbnRyb2wsIHtzdGF0aWM6IGZhbHNlfSkgX2NvbnRyb2w6IE54Rm9ybWZpZWxkQ29udHJvbDxhbnk+O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsYWJlbCB3aGljaCB3aWxsIGFjdCBhcyBhIGZsb2F0aW5nIGxhYmVsLlxuICAgKiBJbiBhZGRpdGlvbiwgdGhlIGNvbXBvbmVudCB1c2VzIGlucHV0IGFuZCBsYWJlbCB0byBwcm9wZXJseSBzdXBwb3J0IGFjY2Vzc2liaWxpdHkuXG4gICAqL1xuICBASW5wdXQoJ254TGFiZWwnKSBsYWJlbDogc3RyaW5nO1xuXG4gIEBDb250ZW50Q2hpbGQoTnhGb3JtZmllbGRMYWJlbERpcmVjdGl2ZSwge3N0YXRpYzogZmFsc2V9KSBfbGFiZWxDaGlsZDogTnhGb3JtZmllbGRMYWJlbERpcmVjdGl2ZTtcbiAgQENvbnRlbnRDaGlsZHJlbihOeEZvcm1maWVsZEhpbnREaXJlY3RpdmUpIF9oaW50Q2hpbGRyZW46IFF1ZXJ5TGlzdDxOeEZvcm1maWVsZEhpbnREaXJlY3RpdmU+O1xuICBAQ29udGVudENoaWxkcmVuKE54Rm9ybWZpZWxkTm90ZURpcmVjdGl2ZSkgX25vdGVDaGlsZHJlbjogUXVlcnlMaXN0PE54Rm9ybWZpZWxkTm90ZURpcmVjdGl2ZT47XG4gIEBDb250ZW50Q2hpbGRyZW4oTnhGb3JtZmllbGRFcnJvckRpcmVjdGl2ZSkgX2Vycm9yQ2hpbGRyZW46IFF1ZXJ5TGlzdDxOeEZvcm1maWVsZEVycm9yRGlyZWN0aXZlPjtcbiAgQENvbnRlbnRDaGlsZHJlbihOeEZvcm1maWVsZFN1ZmZpeERpcmVjdGl2ZSkgX3N1ZmZpeENoaWxkcmVuOiBRdWVyeUxpc3Q8TnhGb3JtZmllbGRTdWZmaXhEaXJlY3RpdmU+O1xuICBAQ29udGVudENoaWxkcmVuKE54Rm9ybWZpZWxkUHJlZml4RGlyZWN0aXZlKSBfcHJlZml4Q2hpbGRyZW46IFF1ZXJ5TGlzdDxOeEZvcm1maWVsZFByZWZpeERpcmVjdGl2ZT47XG4gIEBDb250ZW50Q2hpbGRyZW4oTnhGb3JtZmllbGRBcHBlbmRpeERpcmVjdGl2ZSkgX2FwcGVuZGl4Q2hpbGRyZW46IFF1ZXJ5TGlzdDxOeEZvcm1maWVsZEFwcGVuZGl4RGlyZWN0aXZlPjtcblxuICBAVmlld0NoaWxkKCdjb25uZWN0aW9uQ29udGFpbmVyJywgeyBzdGF0aWM6IHRydWUgfSkgX2Nvbm5lY3Rpb25Db250YWluZXJSZWY6IEVsZW1lbnRSZWY7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGxhYmVsIHNob3VsZCBmbG9hdCBvbmNlIHRoZSBpbnB1dCBpcyBmb2N1c2VkIG9yIGZpbGxlZCAoYXV0bywgZGVmYXVsdClcbiAgICogb3IgZm9yY2UgaXQgdG8gYWx3YXlzIGZsb2F0IHdpdGggYSB2YWx1ZSBvZiBhbHdheXMgdG8gc2ltdWxhdGUgYSBtb3JlIHN0YXRpYyBmb3JtLlxuICAgKi9cbiAgQElucHV0KCdueEZsb2F0TGFiZWwnKVxuICBnZXQgZmxvYXRMYWJlbCgpOiBGbG9hdExhYmVsVHlwZSB7XG4gICAgcmV0dXJuIHRoaXMuX2Zsb2F0TGFiZWwgfHwgKHRoaXMuX2RlZmF1bHRPcHRpb25zICYmIHRoaXMuX2RlZmF1bHRPcHRpb25zLm54RmxvYXRMYWJlbCkgfHwgJ2F1dG8nO1xuICB9XG4gIHNldCBmbG9hdExhYmVsKHZhbHVlOiBGbG9hdExhYmVsVHlwZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fZmxvYXRMYWJlbCkge1xuICAgICAgdGhpcy5fZmxvYXRMYWJlbCA9IHZhbHVlIHx8ICdhdXRvJztcbiAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIF9mbG9hdExhYmVsOiBGbG9hdExhYmVsVHlwZTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgc3R5bGluZyBvZiB0aGUgZm9ybWZpZWxkLlxuICAgKiBJZiAnbmVnYXRpdmUnLCBhIG5lZ2F0aXZlIHNldCBvZiBzdHlsaW5ncyBpcyB1c2VkLlxuICAgKi9cbiAgQElucHV0KCdueFN0eWxlJylcbiAgc2V0IHN0eWxlcyh2YWx1ZTogc3RyaW5nKSB7XG5cbiAgICBpZiAodGhpcy5fc3R5bGVzID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBnZXRDbGFzc05hbWVMaXN0KHZhbHVlLCBOWF9TVFlMRVMpO1xuXG4gICAgY2xhc3NOYW1lcy5mb3JFYWNoKGNsYXNzU3RyID0+IHtcbiAgICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIGNsYXNzU3RyKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3N0eWxlcyA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfYXBwZWFyYW5jZTogQXBwZWFyYW5jZVR5cGU7XG5cbiAgLyoqXG4gICAqICoqTkRCWCBFeHBlcnQgb3B0aW9uKipcbiAgICpcbiAgICogU2V0cyB0aGUgYXBwZWFyYW5jZSBvZiB0aGUgZm9ybWZpZWxkLlxuICAgKi9cbiAgQElucHV0KClcbiAgc2V0IGFwcGVhcmFuY2UodmFsdWU6IEFwcGVhcmFuY2VUeXBlKSB7XG4gICAgaWYgKHRoaXMuX2FwcGVhcmFuY2UgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9hcHBlYXJhbmNlID0gdmFsdWU7XG4gICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFwcGVhcmFuY2UoKTogQXBwZWFyYW5jZVR5cGUge1xuICAgIHJldHVybiB0aGlzLl9hcHBlYXJhbmNlIHx8ICh0aGlzLl9kZWZhdWx0T3B0aW9ucyAmJiB0aGlzLl9kZWZhdWx0T3B0aW9ucy5hcHBlYXJhbmNlKSB8fCAnYXV0byc7XG4gIH1cblxuICBnZXQgX3Nob3VsZEFsd2F5c0Zsb2F0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZsb2F0TGFiZWwgPT09ICdhbHdheXMnO1xuICB9XG5cbiAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgZ2V0IHNob3VsZExhYmVsRmxvYXQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICh0aGlzLl9jb250cm9sLnNob3VsZExhYmVsRmxvYXQgfHwgdGhpcy5fc2hvdWxkQWx3YXlzRmxvYXQpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgICBwdWJsaWMgZWxlbWVudFJlZjogRWxlbWVudFJlZixcbiAgICBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjIsXG4gICAgcHJpdmF0ZSBfY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmLFxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoRk9STUZJRUxEX0RFRkFVTFRfT1BUSU9OUykgcHJpdmF0ZSBfZGVmYXVsdE9wdGlvbnM6IEZvcm1maWVsZERlZmF1bHRPcHRpb25zXG4gICAgKSB7IH1cblxuICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICBnZXQgY29udHJvbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29udHJvbDtcbiAgfVxuXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICBsZXQgc3Vic2NyaXB0aW9uO1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSBbXTtcblxuICAgIHRoaXMuX3ZhbGlkYXRlQ29udHJvbENoaWxkKCk7XG5cbiAgICBpZiAodGhpcy5fY29udHJvbC5jb250cm9sVHlwZSkge1xuICAgICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChgbngtZm9ybWZpZWxkLS10eXBlLSR7dGhpcy5fY29udHJvbC5jb250cm9sVHlwZX1gKTtcbiAgICB9XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gY2hhbmdlcyBpbiB0aGUgY2hpbGQgY29udHJvbCBzdGF0ZSBpbiBvcmRlciB0byB1cGRhdGUgdGhlIGZvcm0gZmllbGQgVUkuXG4gICAgc3Vic2NyaXB0aW9uID0gdGhpcy5fY29udHJvbC5zdGF0ZUNoYW5nZXMucGlwZShzdGFydFdpdGgobnVsbCksIGRlbGF5KDApKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5fc3luY0Rlc2NyaWJlZEJ5SWRzKCk7XG4gICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgICB9KTtcblxuICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuXG4gICAgLy8gUmUtdmFsaWRhdGUgd2hlbiB0aGUgbnVtYmVyIG9mIGhpbnRzIGNoYW5nZXMuXG4gICAgc3Vic2NyaXB0aW9uID0gdGhpcy5faGludENoaWxkcmVuLmNoYW5nZXMucGlwZShzdGFydFdpdGgobnVsbCksIGRlbGF5KDApKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gICAgfSk7XG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGFyaWEtZGVzY3JpYmVkIGJ5IHdoZW4gdGhlIG51bWJlciBvZiBlcnJvcnMgY2hhbmdlcy5cbiAgICBzdWJzY3JpcHRpb24gPSB0aGlzLl9lcnJvckNoaWxkcmVuLmNoYW5nZXMucGlwZShzdGFydFdpdGgobnVsbCksIGRlbGF5KDApKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5fc3luY0Rlc2NyaWJlZEJ5SWRzKCk7XG4gICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgICB9KTtcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcblxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBzdWJzY3JpcHRpb25zO1xuICB9XG5cbiAgbmdBZnRlckNvbnRlbnRDaGVja2VkKCkge1xuICAgIHRoaXMuX3ZhbGlkYXRlQ29udHJvbENoaWxkKCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSk7XG4gIH1cblxuICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICBnZXREaXNwbGF5ZWRNZXNzYWdlKCk6ICdub3RlJyB8ICdlcnJvcicgfCAnJyB7XG4gICAgaWYgKHRoaXMuX2NvbnRyb2wuZXJyb3JTdGF0ZSAmJiB0aGlzLl9lcnJvckNoaWxkcmVuICYmIHRoaXMuX2Vycm9yQ2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuICdlcnJvcic7XG4gICAgfVxuICAgIGlmICh0aGlzLl9ub3RlQ2hpbGRyZW4gJiYgdGhpcy5fbm90ZUNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiAnbm90ZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3luY0Rlc2NyaWJlZEJ5SWRzKCkge1xuICAgIGlmICh0aGlzLl9jb250cm9sKSB7XG4gICAgICBsZXQgaWRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgaWRzID0gdGhpcy5faGludENoaWxkcmVuLm1hcChoaW50ID0+IGhpbnQuaWQpO1xuXG4gICAgICBpZiAodGhpcy5nZXREaXNwbGF5ZWRNZXNzYWdlKCkgPT09ICdub3RlJykge1xuICAgICAgICBpZHMgPSBbLi4udGhpcy5fbm90ZUNoaWxkcmVuLm1hcChoaW50ID0+IGhpbnQuaWQpLCAuLi5pZHNdO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9lcnJvckNoaWxkcmVuKSB7XG4gICAgICAgIGlkcyA9IFsuLi50aGlzLl9lcnJvckNoaWxkcmVuLm1hcChlcnJvciA9PiBlcnJvci5pZCksIC4uLmlkc107XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NvbnRyb2wuc2V0RGVzY3JpYmVkQnlJZHMoaWRzKTtcbiAgICB9XG4gIH1cblxuICAvLyBGYWlsIGlmIHRoZSByZXF1aXJlZCBjb250cm9sIGlzIG1pc3NpbmcuXG4gIHByb3RlY3RlZCBfdmFsaWRhdGVDb250cm9sQ2hpbGQoKSB7XG4gICAgaWYgKCF0aGlzLl9jb250cm9sKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm1maWVsZCBtdXN0IGNvbnRhaW4gYSBOeEZvcm1maWVsZENvbnRyb2wgbGlrZSBpbnB1dFtueElucHV0XSBvciBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAZG9jcy1wcml2YXRlICovXG4gIGdldENvbm5lY3RlZE92ZXJsYXlPcmlnaW4oKTogRWxlbWVudFJlZiB7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25Db250YWluZXJSZWYgfHwgdGhpcy5lbGVtZW50UmVmO1xuICB9XG5cbiAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgX2hhc0xhYmVsKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2xhYmVsQ2hpbGQgfHwgISF0aGlzLmxhYmVsO1xuICB9XG5cbiAgLyoqIEBkb2NzLXByaXZhdGVcbiAgICogVGhlIHBsYWNlaG9sZGVyIGlzIGhpZGRlbiB3aGVuXG4gICAqICAtIHRoZSBjb250cm9sIGlzIG5vdCBlbXB0eVxuICAgKiAgLSBUaGUgbGFiZWwgaXMgbm90IGZsb2F0ZWRcbiAgICogKi9cbiAgX2hpZGVDb250cm9sUGxhY2Vob2xkZXIoKSB7XG4gICAgcmV0dXJuICF0aGlzLnNob3VsZExhYmVsRmxvYXQgJiYgdGhpcy5faGFzTGFiZWwoKSB8fCB0aGlzLl9jb250cm9sLmVtcHR5ID09PSBmYWxzZTtcbiAgfVxufVxuIl19
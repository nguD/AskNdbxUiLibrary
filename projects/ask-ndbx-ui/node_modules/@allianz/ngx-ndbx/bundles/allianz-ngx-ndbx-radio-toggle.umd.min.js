!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/coercion"),require("@allianz/ngx-ndbx/utils"),require("@angular/forms"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/collections"),require("@allianz/ngx-ndbx/icon")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/radio-toggle",["exports","@angular/core","@angular/common","@angular/cdk/coercion","@allianz/ngx-ndbx/utils","@angular/forms","rxjs","rxjs/operators","@angular/cdk/collections","@allianz/ngx-ndbx/icon"],t):t(((e=e||self).allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"]["radio-toggle"]={}),e.ng.core,e.ng.common,e.ng.cdk.coercion,e.allianz["ngx-ndbx"].utils,e.ng.forms,e.rxjs,e.rxjs.operators,e.ng.cdk.collections,e.allianz["ngx-ndbx"].icon)}(this,function(e,t,o,r,n,a,i,l,g,c){"use strict";var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};function d(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,a=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i}var u=0,b=function(){function e(e){this.renderer=e,this.toggleButtonId="nx-radio-toggle-button-"+u++}return e.prototype.triggerInputClick=function(e){e.stopPropagation(),this.toggleInput.nativeElement.click()},e.prototype.setFirstButton=function(){this.renderer.addClass(this.labelContainer.nativeElement,"nx-radio-toggle__label-container--first")},e.prototype.setLastButton=function(){this.renderer.addClass(this.labelContainer.nativeElement,"nx-radio-toggle__label-container--last")},e.prototype.resetClasses=function(){n.removeClasses(this.renderer,this.labelContainer,"nx-radio-toggle__label-container--first nx-radio-toggle__label-container--last")},e.propDecorators={value:[{type:t.Input,args:["nxValue"]}],labelContainer:[{type:t.ViewChild,args:["toggleButtonLabelContainer",{static:!0}]}],toggleInput:[{type:t.ViewChild,args:["toggleInput",{static:!0}]}]},e}();var p=0,h={negative:"nx-radio-toggle--negative",small:"nx-radio-toggle--small"},x=function(){function e(e,o,r,n,a,l){this.renderer=e,this._changeDetectorRef=o,this.ngControl=r,this._errorStateMatcher=n,this._parentForm=a,this._parentFormGroup=l,this._toggleId=(p++).toString(),this._destroyed=new i.Subject,this._disabled=!1,this.errorState=!1,this._disableChange=new i.Subject,this.toggleButtons=new t.QueryList,this.onTouchedCallback=function(){},this.onChangeCallback=function(e){},this.ngControl&&(this.ngControl.valueAccessor=this)}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var t=r.coerceBooleanProperty(e);this._disabled!==t&&(this._disabled=t,this._disableChange.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.subscribeToToggleButtonsChange()},e.prototype.ngAfterContentInit=function(){var e=this,t=i.merge(this.toggleButtons.changes,this._destroyed);i.merge.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}(this.toggleButtons.map(function(e){return e.onChecked}))).pipe(l.takeUntil(t)).subscribe(function(t){e._selection=t.value,e.onChangeCallback(e._selection)})},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete(),this._disableChange.complete()},e.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState()},e.prototype.subscribeToToggleButtonsChange=function(){var e=this;this.toggleButtons.changes.pipe(l.startWith(this.toggleButtons),l.filter(function(e){return e.length>0}),l.takeUntil(this._destroyed)).subscribe(function(t){t.forEach(function(t){t.resetClasses(),t.value===e.selection&&setTimeout(function(){return t.select()})}),t.first.setFirstButton(),t.last.setLastButton()})},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.writeValue=function(e){var t=this;this._selection=e;var o=this.toggleButtons.find(function(e){return e.value===t._selection});o&&o.select()},e.prototype.setDisabledState=function(e){this.disabled=e},Object.defineProperty(e.prototype,"id",{get:function(){return"nx-radio-toggle-"+this._toggleId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{set:function(e){var t=this;n.mapClassNames(e,[],h).split(" ").forEach(function(e){return t.renderer.addClass(t.toggleContainer.nativeElement,e)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,this.onChangeCallback(e)},enumerable:!0,configurable:!0}),e.prototype.change=function(e){this.onChangeCallback(e),this.onTouchedCallback&&this.onTouchedCallback()},e.prototype.updateErrorState=function(){var e=this.errorState,t=this._parentFormGroup||this._parentForm,o=this.ngControl?this.ngControl.control:null,r=this._errorStateMatcher.isErrorState(o,t);r!==e&&(this.errorState=r)},e.decorators=[{type:t.Component,args:[{selector:"nx-radio-toggle",template:'<div #toggleContainer class="nx-radio-toggle" role="radiogroup" [attr.aria-label]="name">\n   <ng-content></ng-content>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,styles:[":host{display:block}.nx-radio-toggle{display:flex;height:100%}@media (max-width:703px){.nx-radio-toggle{flex-direction:column;text-align:center;width:100%;justify-content:center;align-items:center}}"]}]}],e.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ChangeDetectorRef},{type:a.NgControl,decorators:[{type:t.Optional},{type:t.Self}]},{type:n.ErrorStateMatcher},{type:a.NgForm,decorators:[{type:t.Optional}]},{type:a.FormGroupDirective,decorators:[{type:t.Optional}]}]},e.propDecorators={disabled:[{type:t.Input,args:["nxDisabled"]}],toggleContainer:[{type:t.ViewChild,args:["toggleContainer",{static:!0}]}],name:[{type:t.Input,args:["nxName"]}],toggleButtons:[{type:t.ContentChildren,args:[b]}],writeValue:[{type:t.Input,args:["nxSelection"]}],style:[{type:t.Input,args:["nxStyle"]}]},e}();var f=function(e,t){this.source=e,this.value=t};var _=function(e){function o(t,o,r,n){var a=e.call(this,o)||this;return a.radioToggle=t,a._changeDetectorRef=r,a._toggleDispatcher=n,a.onChecked=new i.Subject,a._destroyed=new i.Subject,a._disabled=!1,a._selected=!1,a._removeUniqueSelectionListener=function(){},a._removeUniqueSelectionListener=a._toggleDispatcher.listen(function(e,t){a.radioToggle&&a.radioToggle.id===t&&a.id!==e&&(a._selected=!1,a._changeDetectorRef.markForCheck())}),a.radioToggle._disableChange.pipe(l.takeUntil(a._destroyed)).subscribe(function(){a._changeDetectorRef.markForCheck()}),a}return function(e,t){function o(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}(o,e),Object.defineProperty(o.prototype,"disabled",{get:function(){return this._disabled||this.radioToggle&&this.radioToggle.disabled},set:function(e){this._disabled=r.coerceBooleanProperty(e),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this._selected&&(this._notifySiblings(),this._emitCheckedEvent(),null!==this.radioToggle&&this.radioToggle.change(this.value)),this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),o.prototype.ngOnDestroy=function(){this._removeUniqueSelectionListener(),this._destroyed.next(),this._destroyed.complete()},Object.defineProperty(o.prototype,"toggleId",{get:function(){return this.radioToggle.id},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this.toggleButtonId},enumerable:!0,configurable:!0}),o.prototype._notifySiblings=function(){var e=this.radioToggle?this.radioToggle.id:this.id;this._toggleDispatcher.notify(this.id,e)},o.prototype._emitCheckedEvent=function(){this.onChecked.next(new f(this,this.value))},o.prototype.select=function(){this._selected||(this._selected=!0,this._notifySiblings()),this._changeDetectorRef.markForCheck()},o.prototype.onKeyupSpace=function(){this._selected=!1,this._notifySiblings()},o.prototype._controlInvalid=function(){return!(!this.radioToggle||!this.radioToggle.errorState)},o.decorators=[{type:t.Component,args:[{selector:"nx-radio-toggle-button",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'<input [attr.id]="toggleButtonId"\n    #toggleInput\n    [attr.name]="toggleId"\n    [checked]="selected"\n    class="nx-radio-toggle__input"\n    type="radio"\n    (click)="selected = true"\n    [disabled]="disabled">\n<div (click)="triggerInputClick($event)" #toggleButtonLabelContainer class="nx-radio-toggle__label-container">\n  <label [attr.for]="toggleButtonId" class="nx-radio-toggle__label">\n      <nx-icon class="nx-toggle-button__mobile-check" name="check" aria-hidden="true"></nx-icon>\n      <ng-content></ng-content>\n  </label>\n</div>\n\n\n',providers:[{provide:b,useExisting:t.forwardRef(function(){return o})}],host:{"[class.has-error]":"_controlInvalid() || null","[attr.aria-invalid]":"_controlInvalid() || null"},styles:[":host{display:flex;position:relative;flex-direction:row}:host.has-error .nx-radio-toggle__input:checked+.nx-radio-toggle__label-container{border-color:#dc3149;border-color:var(--danger,#dc3149);background-color:#dc3149;background-color:var(--danger,#dc3149)}:host.has-error .nx-radio-toggle__label-container{border-color:#dc3149;border-color:var(--danger,#dc3149);color:#dc3149;color:var(--danger,#dc3149)}:host.has-error:hover .nx-radio-toggle__label-container{color:#fff}.nx-radio-toggle__input{opacity:0;position:absolute}.nx-radio-toggle__input:active+.nx-radio-toggle__label-container{background-color:#003781;background-color:var(--toggle-button-active-background-color,#003781);border-color:#003781;border-color:var(--toggle-button-active-border-color,#003781);color:#fff;color:var(--toggle-button-active-text-color,#fff)}.nx-radio-toggle__input:checked:disabled+.nx-radio-toggle__label-container{background-color:rgba(0,122,179,.4);background-color:var(--toggle-button-disabled-selected-background-color,rgba(0,122,179,.4));border-color:transparent;border-color:var(--toggle-button-disabled-selected-border-color,transparent);color:rgba(255,255,255,.4);color:var(--toggle-button-disabled-selected-text-color,rgba(255,255,255,.4))}.nx-radio-toggle__input:disabled+.nx-radio-toggle__label-container{background-color:#fff;background-color:var(--toggle-button-disabled-background-color,#fff);border-color:rgba(0,122,179,.4);border-color:var(--toggle-button-disabled-border-color,rgba(0,122,179,.4));color:rgba(0,97,146,.4);color:var(--toggle-button-disabled-text-color,rgba(0,97,146,.4));cursor:not-allowed}.nx-radio-toggle__input:disabled+.nx-radio-toggle__label-container .nx-radio-toggle__label{cursor:not-allowed}@media screen and (-ms-high-contrast:active){.nx-radio-toggle__input:disabled+.nx-radio-toggle__label-container{border-color:GrayText;color:GrayText}}.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container{background-color:#007ab3;background-color:var(--toggle-button-selected-background-color,#007ab3);border-color:#007ab3;border-color:var(--toggle-button-selected-border-color,#007ab3);color:#fff;color:var(--toggle-button-selected-text-color,#fff);cursor:default}.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container .nx-radio-toggle__label{cursor:default}.nx-toggle-button__mobile-check{display:none;font-size:24px;margin-right:8px;height:24px}:host-context(.nx-radio-toggle--small) .nx-radio-toggle__label-container{font-size:14px;font-size:var(--toggle-button-small-font-size,14px);line-height:16px;line-height:var(--toggle-button-small-line-height,16px);font-weight:600;font-weight:var(--toggle-button-small-font-weight,600);letter-spacing:1px;letter-spacing:var(--toggle-button-small-letter-spacing,1px);min-height:16px;padding:6px;text-transform:none}.nx-radio-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.nx-radio-toggle__label-container.nx-radio-toggle__label-container--first{border-radius:4px 0 0 4px;border-width:2px 0 2px 2px}@media (max-width:703px){:host{width:100%}.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container .nx-toggle-button__mobile-check{display:inline-block}:host-context(.nx-radio-toggle--small) .nx-radio-toggle__label-container{font-size:16px;font-size:var(--toggle-button-large-font-size,16px);line-height:24px;line-height:var(--toggle-button-large-line-height,24px);font-weight:600;font-weight:var(--toggle-button-large-font-weight,600);letter-spacing:1px;letter-spacing:var(--toggle-button-large-letter-spacing,1px);padding:11px 31px}.nx-radio-toggle__label-container.nx-radio-toggle__label-container--first{border-width:2px 2px 1px;border-radius:4px 4px 0 0}}.nx-radio-toggle__label-container.nx-radio-toggle__label-container--last{border-top-right-radius:4px;border-bottom-right-radius:4px;border-width:2px}.nx-radio-toggle__label-container{font-size:16px;font-size:var(--toggle-button-large-font-size,16px);line-height:24px;line-height:var(--toggle-button-large-line-height,24px);font-weight:600;font-weight:var(--toggle-button-large-font-weight,600);letter-spacing:1px;letter-spacing:var(--toggle-button-large-letter-spacing,1px);padding:10px 30px;color:#006192;color:var(--toggle-button-unselected-text-color,#006192);background-color:transparent;background-color:var(--toggle-button-unselected-background-color,transparent);border-color:#007ab3;border-color:var(--toggle-button-unselected-border-color,#007ab3);border-style:solid;border-radius:0;border-width:2px 0 2px 2px;cursor:pointer;flex-grow:1;text-align:center;text-transform:uppercase;text-transform:var(--button-text-transform,uppercase);transition:background-color .2s,border-color .2s,color .2s;display:flex;align-items:center;height:100%;min-height:24px}@media (max-width:703px){.nx-radio-toggle__label-container.nx-radio-toggle__label-container--last{border-width:1px 2px 2px;border-radius:0 0 4px 4px}.nx-radio-toggle__label-container.nx-radio-toggle__label-container--last.nx-radio-toggle__label-container--first{border-radius:4px;border-width:2px}.nx-radio-toggle__label-container{border-width:1px 2px;justify-content:center;padding:11px 31px}}.nx-radio-toggle__label-container:hover{background-color:#006192;background-color:var(--toggle-button-hover-background-color,#006192);border-color:#006192;border-color:var(--toggle-button-hover-border-color,#006192);color:#fff;color:var(--toggle-button-hover-text-color,#fff)}@media screen and (-ms-high-contrast:active){.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container{background-color:highlight;border-color:buttonText}.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container .nx-radio-toggle__label{-ms-high-contrast-adjust:none;color:highlightText}.nx-radio-toggle__label-container{border-color:buttonText;background-color:buttonFace;color:buttonText}.nx-radio-toggle__label-container .nx-radio-toggle__label{-ms-high-contrast-adjust:none}}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__input:focus+.nx-radio-toggle__label-container{background-color:#d9d9d9;border-color:#d9d9d9;color:#007ab3}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__input:active+.nx-radio-toggle__label-container{background-color:#c2c2c2;border-color:#c2c2c2;color:#007ab3}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__input:disabled:checked+.nx-radio-toggle__label-container{background-color:rgba(255,255,255,.4);border-color:transparent;color:rgba(65,65,65,.4)}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__input:disabled+.nx-radio-toggle__label-container{background-color:transparent;border-color:rgba(255,255,255,.4);color:rgba(255,255,255,.4)}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__input:checked+.nx-radio-toggle__label-container{background-color:#fff;border-color:#fff;color:#006192}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__label-container{border-color:#fff;color:#fff}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__label-container:hover{background-color:#d9d9d9;border-color:#d9d9d9;color:#006192}.nx-radio-toggle__label{display:flex;align-items:center;cursor:pointer}:host-context([data-whatinput=keyboard]) .nx-radio-toggle__input:focus+.nx-radio-toggle__label-container{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;box-shadow:var(--focus-box-shadow,0 0 0 2px #fff,0 0 0 6px #009de6);z-index:1}@media screen and (-ms-high-contrast:active){:host-context([data-whatinput=keyboard]) .nx-radio-toggle__input:focus+.nx-radio-toggle__label-container{box-shadow:0 0 0 2px background,0 0 0 6px windowText}}"]}]}],o.ctorParameters=function(){return[{type:x,decorators:[{type:t.Inject,args:[t.forwardRef(function(){return x})]}]},{type:t.Renderer2},{type:t.ChangeDetectorRef},{type:g.UniqueSelectionDispatcher}]},o.propDecorators={disabled:[{type:t.Input,args:["nxDisabled"]}],selected:[{type:t.Input,args:["nxSelected"]}],onKeyupSpace:[{type:t.HostListener,args:["keyup.space"]}]},o}(b);var y=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[x,_],exports:[x,_],imports:[o.CommonModule,a.FormsModule,c.NxIconModule]}]}],e}();e.NxRadioToggleComponent=x,e.NxRadioToggleModule=y,e.ɵa=b,e.ɵb=_,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-radio-toggle.umd.min.js.map
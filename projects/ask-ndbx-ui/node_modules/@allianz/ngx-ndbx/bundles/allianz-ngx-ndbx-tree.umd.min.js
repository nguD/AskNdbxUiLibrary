!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/collections"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/tree"),require("@angular/core"),require("@angular/cdk/bidi"),require("@angular/cdk/coercion"),require("@angular/common")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/tree",["exports","@angular/cdk/collections","rxjs","rxjs/operators","@angular/cdk/tree","@angular/core","@angular/cdk/bidi","@angular/cdk/coercion","@angular/common"],t):t(((e=e||self).allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"].tree={}),e.ng.cdk.collections,e.rxjs,e.rxjs.operators,e.ng.cdk.tree,e.ng.core,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.common)}(this,function(e,t,r,n,o,i,a,s,d){"use strict";var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function c(e,t){function r(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}var f=function(){function e(){}return e.prototype.transformFunction=function(e,t){var r=e.children,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["children"]);return u({},n,{level:t,expandable:Array.isArray(r)&&r.length>0})},e.prototype.getLevel=function(e){return e.level},e.prototype.isExpandable=function(e){return e.expandable},e.prototype.getChildren=function(e){return e.children},e.prototype._flattenNode=function(e,t,r,o){var i=this,a=this.transformFunction(e,t);if(r.push(a),this.isExpandable(a)){var s=this.getChildren(e);Array.isArray(s)?this._flattenChildren(s,t,r,o):s.pipe(n.take(1)).subscribe(function(e){i._flattenChildren(e,t,r,o)})}return r},e.prototype._flattenChildren=function(e,t,r,n){var o=this;e.forEach(function(i,a){var s=n.slice();s.push(a!=e.length-1),o._flattenNode(i,t+1,r,s)})},e.prototype.flattenNodes=function(e){var t=this,r=[];return e.forEach(function(e){return t._flattenNode(e,0,r,[])}),r},e.prototype.expandFlattenedNodes=function(e,t){var r=this,n=[],o=[];return o[0]=!0,e.forEach(function(e){for(var i=!0,a=0;a<=r.getLevel(e);a++)i=i&&o[a];i&&n.push(e),r.isExpandable(e)&&(o[r.getLevel(e)+1]=t.isExpanded(e))}),n},e}(),h=function(e){function t(t,n){void 0===n&&(n=[]);var o=e.call(this)||this;return o.treeControl=t,o._flattenedData=new r.BehaviorSubject([]),o._expandedData=new r.BehaviorSubject([]),o._data=new r.BehaviorSubject([]),o._treeFlattener=new f,o.data=n,o}return c(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data.value},set:function(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this.treeControl.dataNodes=this._flattenedData.value},enumerable:!0,configurable:!0}),t.prototype.connect=function(e){var t=this,o=[e.viewChange,this.treeControl.expansionModel.changed,this._flattenedData];return r.merge.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}(o)).pipe(n.map(function(){return t._expandedData.next(t._treeFlattener.expandFlattenedNodes(t._flattenedData.value,t.treeControl)),t._expandedData.value}))},t.prototype.disconnect=function(){},t}(t.DataSource);var g=function(e){function t(){return e.call(this,function(e){return e.level},function(e){return e.expandable})||this}return c(t,e),t}(o.FlatTreeControl);var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.decorators=[{type:i.Component,args:[{selector:"nx-tree-node",exportAs:"nxTreeNode",inputs:["disabled","tabIndex"],host:{"[attr.aria-expanded]":"isExpanded","[attr.aria-level]":'role === "treeitem" ? level : null',"[attr.role]":"role",class:"nx-tree__node","[class.is-expanded]":"isExpanded"},providers:[{provide:o.CdkTreeNode,useExisting:t}],template:'<div class="nx-tree__node-box">\n  <ng-content></ng-content>\n</div>\n'}]}],t}(o.CdkTreeNode),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.decorators=[{type:i.Directive,args:[{selector:"[nxTreeNodeDef]",inputs:["when: nxTreeNodeDefWhen"],providers:[{provide:o.CdkTreeNodeDef,useExisting:t}]}]}],t.propDecorators={data:[{type:i.Input,args:["nxTreeNode"]}]},t}(o.CdkTreeNodeDef);var x=function(){function e(e){this.viewContainer=e}return e.decorators=[{type:i.Directive,args:[{selector:"[nxTreeNodeOutlet]"}]}],e.ctorParameters=function(){return[{type:i.ViewContainerRef}]},e}();var _=/([A-Za-z%]+)$/,b=function(){function e(e,t,o,i,a){var s=this;this._treeNode=e,this._tree=t,this._renderer=o,this._element=i,this._dir=a,this._destroyed=new r.Subject,this.indentUnits="px",this._offset=0,this._indent=24,this._setPadding(),this._dir&&this._dir.change.pipe(n.takeUntil(this._destroyed)).subscribe(function(){return s._setPadding()})}return Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=s.coerceNumberProperty(e),this._setPadding()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(e){this._offset=s.coerceNumberProperty(e),this._setPadding()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indent",{get:function(){return this._indent},set:function(e){var t=e,r="px";if("string"==typeof e){var n=e.split(_);t=n[0],r=n[1]||r}this.indentUnits=r,this._indent=s.coerceNumberProperty(t),this._setPadding()},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},e.prototype._paddingIndent=function(){var e=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,t=this._level||e;return t?""+(t*this._indent+this._offset)+this.indentUnits:null},e.prototype._setPadding=function(){var e=this._paddingIndent(),t=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft";this._renderer.setStyle(this._element.nativeElement,t,e)},e.decorators=[{type:i.Directive,args:[{selector:"[nxTreeNodePadding]"}]}],e.ctorParameters=function(){return[{type:o.CdkTreeNode},{type:o.CdkTree},{type:i.Renderer2},{type:i.ElementRef},{type:a.Directionality,decorators:[{type:i.Optional}]}]},e.propDecorators={level:[{type:i.Input,args:["nxTreeNodePadding"]}],offset:[{type:i.Input,args:["nxTreeNodePaddingOffset"]}],indent:[{type:i.Input,args:["nxTreeNodePaddingIndent"]}]},e}();var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.recursive=!1,t}return c(t,e),t.decorators=[{type:i.Directive,args:[{selector:"[nxTreeNodeToggle]",providers:[{provide:o.CdkTreeNodeToggle,useExisting:t}]}]}],t.propDecorators={recursive:[{type:i.Input,args:["nxTreeNodeToggleRecursive"]}]},t}(o.CdkTreeNodeToggle);var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.decorators=[{type:i.Component,args:[{selector:"nx-tree",exportAs:"nxTree",template:"<ng-container nxTreeNodeOutlet></ng-container>",host:{class:"nx-tree",role:"tree"},encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,providers:[{provide:o.CdkTree,useExisting:t}],styles:[":host.nx-tree{display:block}.nx-tree__node{display:block;overflow:hidden}"]}]}],t.propDecorators={_nodeOutlet:[{type:i.ViewChild,args:[x,{static:!0}]}]},t}(o.CdkTree);var T=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{imports:[o.CdkTreeModule,d.CommonModule],declarations:[m,y,v,b,N,x],exports:[m,y,v,b,N,x]}]}],e}();e.NxFlatTreeControl=g,e.NxTreeComponent=m,e.NxTreeFlatDataSource=h,e.NxTreeModule=T,e.NxTreeNodeComponent=y,e.NxTreeNodeDefDirective=v,e.NxTreeNodeOutletDirective=x,e.NxTreeNodePaddingDirective=b,e.NxTreeNodeToggleDirective=N,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-tree.umd.min.js.map
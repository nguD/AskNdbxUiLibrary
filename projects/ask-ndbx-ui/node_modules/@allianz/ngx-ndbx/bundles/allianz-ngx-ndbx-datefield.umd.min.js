!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@allianz/ngx-ndbx/icon"),require("@angular/cdk/a11y"),require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/core"),require("@angular/cdk/platform"),require("rxjs"),require("@allianz/ngx-ndbx/formfield"),require("@allianz/ngx-ndbx/input"),require("@angular/cdk/coercion"),require("@angular/cdk/keycodes"),require("@angular/forms"),require("@angular/cdk/bidi"),require("@angular/cdk/portal"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/datefield",["exports","@allianz/ngx-ndbx/icon","@angular/cdk/a11y","@angular/cdk/overlay","@angular/common","@angular/core","@angular/cdk/platform","rxjs","@allianz/ngx-ndbx/formfield","@allianz/ngx-ndbx/input","@angular/cdk/coercion","@angular/cdk/keycodes","@angular/forms","@angular/cdk/bidi","@angular/cdk/portal","rxjs/operators"],t):t(((e=e||self).allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"].datefield={}),e.allianz["ngx-ndbx"].icon,e.ng.cdk.a11y,e.ng.cdk.overlay,e.ng.common,e.ng.core,e.ng.cdk.platform,e.rxjs,e.allianz["ngx-ndbx"].formfield,e.allianz["ngx-ndbx"].input,e.ng.cdk.coercion,e.ng.cdk.keycodes,e.ng.forms,e.ng.cdk.bidi,e.ng.cdk.portal,e.rxjs.operators)}(this,function(e,t,a,n,i,r,o,s,d,l,c,h,p,u,_,f){"use strict";var g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)};var y=function(){return(y=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var m={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},b=function(){function e(){this.locale="de-DE",this._localeChanges=new s.Subject}return Object.defineProperty(e.prototype,"localeChanges",{get:function(){return this._localeChanges},enumerable:!0,configurable:!0}),e.prototype.deserialize=function(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()},e.prototype.sameDate=function(e,t){if(e&&t){var a=this.isValid(e),n=this.isValid(t);return a&&n?!this.compareDate(e,t):a===n}return e===t},e.prototype.compareDate=function(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)},e.prototype.setLocale=function(e){this.locale=e,this._localeChanges.next(this.locale)},e.prototype.getLocale=function(){return this.locale},e.prototype.clampDate=function(e,t,a){return t&&this.compareDate(e,t)<0?t:a&&this.compareDate(e,a)>0?a:e},e}();var v=new r.InjectionToken("nx-date-locale"),D="undefined"!=typeof Intl,x={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},A=k(31,function(e){return String(e+1)}),w={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},C=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function k(e,t){for(var a=Array(e),n=0;n<e;n++)a[n]=t(n);return a}var O=function(e){function t(t,a){var n=e.call(this)||this;return n.useUtcForDisplay=!0,e.prototype.setLocale.call(n,t),n.useUtcForDisplay=!a.TRIDENT,n._clampDate=a.TRIDENT||a.EDGE,n}return function(e,t){function a(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}(t,e),t.prototype.getYear=function(e){return e.getFullYear()},t.prototype.getMonth=function(e){return e.getMonth()},t.prototype.getDate=function(e){return e.getDate()},t.prototype.getDayOfWeek=function(e){return e.getDay()},t.prototype.getMonthNames=function(e){var t=this;if(D){var a=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return k(12,function(e){return t._stripDirectionalityCharacters(t._format(a,new Date(2017,e,1)))})}return x[e]},t.prototype.getDateNames=function(){var e=this;if(D){var t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return k(31,function(a){return e._stripDirectionalityCharacters(e._format(t,new Date(2017,0,a+1)))})}return A},t.prototype.getDayOfWeekNames=function(e){var t=this;if(D){var a=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return k(7,function(e){return t._stripDirectionalityCharacters(t._format(a,new Date(2017,0,e+1)))})}return w[e]},t.prototype.getYearName=function(e){if(D){var t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))},t.prototype.getFirstDayOfWeek=function(){return 0},t.prototype.getNumDaysInMonth=function(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))},t.prototype.clone=function(e){return this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e))},t.prototype.createDate=function(e,t,a){if(t<0||t>11)throw Error('Invalid month index "'+t+'". Month index has to be between 0 and 11.');if(a<1)throw Error('Invalid date "'+a+'". Date has to be greater than 0.');var n=this._createDateWithOverflow(e,t,a);if(n.getMonth()!==t)throw Error('Invalid date "'+a+'" for month with index "'+t+'".');return n},t.prototype.today=function(){return new Date},t.prototype.parse=function(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null},t.prototype.format=function(e,t){if(!this.isValid(e))throw Error("NxNativeDateAdapter: Cannot format invalid date.");if(D){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=y({},t,{timeZone:"utc"});var a=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(a,e))}return this._stripDirectionalityCharacters(e.toDateString())},t.prototype.addCalendarYears=function(e,t){return this.addCalendarMonths(e,12*t)},t.prototype.addCalendarMonths=function(e,t){var a=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(a)!==((this.getMonth(e)+t)%12+12)%12&&(a=this._createDateWithOverflow(this.getYear(a),this.getMonth(a),0)),a},t.prototype.addCalendarDays=function(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)},t.prototype.toIso8601=function(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")},t.prototype.deserialize=function(t){if("string"==typeof t){if(!t)return null;if(C.test(t)){var a=new Date(t);if(this.isValid(a))return a}}return e.prototype.deserialize.call(this,t)},t.prototype.isDateInstance=function(e){return e instanceof Date},t.prototype.isValid=function(e){return!isNaN(e.getTime())},t.prototype.invalid=function(){return new Date(NaN)},t.prototype._createDateWithOverflow=function(e,t,a){var n=new Date(e,t,a);return e>=0&&e<100&&n.setFullYear(this.getYear(n)-1900),n},t.prototype._2digit=function(e){return("00"+e).slice(-2)},t.prototype._stripDirectionalityCharacters=function(e){return e.replace(/[\u200e\u200f]/g,"")},t.prototype._format=function(e,t){var a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(a)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:String,decorators:[{type:r.Optional},{type:r.Inject,args:[v]}]},{type:o.Platform}]},t}(b);var I=new r.InjectionToken("nx-date-formats"),M={provide:v,useExisting:r.LOCALE_ID},E=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[o.PlatformModule],providers:[{provide:b,useClass:O},M]}]}],e}(),S=m,V=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[E],providers:[{provide:I,useValue:S}]}]}],e}();function Y(e){return Error("NxDatepicker: No provider found for "+e+". You must import one of the following modules at your application root: NxNativeDateModule, NxMomentDateModule, or provide a custom implementation.")}var R=function(){function e(){this.changes=new s.Subject,this.calendarHeader="Choose a date",this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return e.decorators=[{type:r.Injectable}],e}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function P(e){return Error("NxDatepicker: No provider found for "+e+". You must import one of the following modules at your application root: NxNativeDateModule, NxMomentDateModule, or provide a custom implementation.")}var N=function(e,t,a,n){this.value=e,this.displayValue=t,this.ariaLabel=a,this.enabled=n};var F=function(){function e(e,t){this._elementRef=e,this._ngZone=t,this.numCols=7,this.allowDisabledSelection=!1,this.activeCell=0,this.previousItems=[],this.followingItems=[[]],this.selectedValueChange=new r.EventEmitter}return e.prototype._cellClicked=function(e){(this.allowDisabledSelection||e.enabled)&&this.selectedValueChange.emit(e.value)},Object.defineProperty(e.prototype,"_firstRowOffset",{get:function(){return this.rows&&this.rows.length&&this.rows[0].length?this.numCols-this.rows[0].length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_lastRowOffset",{get:function(){return this.rows&&this.rows.length&&this.rows[this.rows.length-1].length?this.numCols-this.rows[this.rows.length-1].length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_lastRowIndex",{get:function(){return this.rows&&this.rows.length?this.rows.length-1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_followingRows",{get:function(){return this.followingItems&&this.followingItems.length?this.followingItems[0].length<this.numCols?this.followingItems.slice(1,this.followingItems.length):this.followingItems:[]},enumerable:!0,configurable:!0}),e.prototype._isActiveCell=function(e,t){var a=e*this.numCols+t;return e&&(a-=this._firstRowOffset),a===this.activeCell},e.prototype._focusActiveCell=function(){var e=this;this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.asObservable().pipe(f.take(1)).subscribe(function(){e._elementRef.nativeElement.querySelector(".nx-calendar-body-active").focus()})})},e.decorators=[{type:r.Component,args:[{selector:"[nx-calendar-body]",template:'\x3c!-- Create the first and last row separately so we can include special spacer cells. --\x3e\n<tr *ngFor="let row of rows; let rowIndex = index" role="row">\n  \x3c!--\n    We mark this cell as aria-hidden so it doesn\'t get read out as one of the days in the week.\n    The aspect ratio of the table cells is maintained by setting the top and bottom padding as a\n    percentage of the width (a variant of the trick described here:\n    https://www.w3schools.com/howto/howto_css_aspect_ratio.asp).\n  --\x3e\n  <ng-container *ngIf="rowIndex === 0">\n    <td *ngFor="let item of previousItems"\n        aria-hidden="true"\n        class="nx-calendar-adjacent-cell">\n      <div aria-hidden="true"\n           class="nx-calendar-adjacent-cell-content">\n        {{ item.displayValue }}\n      </div>\n    </td>\n  </ng-container>\n\n  <td *ngFor="let item of row; let colIndex = index"\n      role="gridcell"\n      class="nx-calendar-body-cell"\n      [tabindex]="_isActiveCell(rowIndex, colIndex) ? 0 : -1"\n      [class.nx-calendar-body-disabled]="!item.enabled"\n      [class.nx-calendar-body-active]="_isActiveCell(rowIndex, colIndex)"\n      [attr.aria-label]="item.ariaLabel"\n      [attr.aria-disabled]="!item.enabled || null"\n      (click)="_cellClicked(item)"\n      [style.width.%]="100 / numCols">\n    <div class="nx-calendar-body-cell-content"\n         [class.nx-calendar-body-selected]="selectedValue === item.value"\n         [class.nx-calendar-body-today]="todayValue === item.value">\n      {{item.displayValue}}\n    </div>\n  </td>\n\n  <ng-container *ngIf="rowIndex === _lastRowIndex && _lastRowOffset">\n    <td *ngFor="let item of followingItems[0]"\n        aria-hidden="true"\n        class="nx-calendar-adjacent-cell">\n      <div aria-hidden="true"\n           class="nx-calendar-adjacent-cell-content">\n        {{ item.displayValue }}\n      </div>\n    </td>\n  </ng-container>\n\n</tr>\n\n\x3c!-- \n  if there are still elements remaining in \'following-elements\', then create some extra rows\n  to fill up the space\n--\x3e\n<tr *ngFor="let row of _followingRows"\n    aria-hidden="true">\n  <td *ngFor="let item of row"\n      class="nx-calendar-adjacent-cell">\n    <div class="nx-calendar-adjacent-cell-content">\n      {{ item.displayValue }}\n    </div>\n  </td>\n</tr>\n',host:{class:"nx-calendar-body",role:"grid","attr.aria-readonly":"true"},exportAs:"nxCalendarBody",changeDetection:r.ChangeDetectionStrategy.OnPush,styles:[".nx-calendar-adjacent-cell,.nx-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;vertical-align:text-bottom}.nx-calendar-body-cell{cursor:pointer}.nx-calendar-body-disabled{cursor:default}.nx-calendar-body-cell-content{display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:40px;height:40px;margin:0 auto;font-size:16px;font-size:var(--datefield-cell-font-size,16px);line-height:var(--datefield-cell-line-height,24px);font-weight:600;font-weight:var(--datefield-cell-font-weight,600);letter-spacing:0;letter-spacing:var(--datefield-cell-letter-spacing,0);color:#414141;color:var(--datefield-cell-color,#414141);border-radius:50%;line-height:1;box-shadow:0 0 0 6px transparent}.nx-calendar-body-cell-content.nx-calendar-body-selected{color:#fff;color:var(--datefield-cell-selected-color,#fff);background-color:#007ab3;background-color:var(--datefield-cell-selected-background-color,#007ab3)}.nx-calendar-body-disabled>.nx-calendar-body-cell-content:not(.nx-calendar-body-selected){color:#c2c2c2;color:var(--datefield-cell-disabled-color,#c2c2c2);font-weight:400}.nx-calendar-body-active:not(.nx-calendar-body-disabled)>.nx-calendar-body-cell-content:not(.nx-calendar-body-selected),:not(.nx-calendar-body-disabled):hover>.nx-calendar-body-cell-content:not(.nx-calendar-body-selected){color:#414141;color:var(--datefield-cell-hover-color,#414141);background-color:#ececec;background-color:var(--datefield-cell-hover-background-color,#ececec)}:host-context([data-whatinput=keyboard]) .nx-calendar-body-cell:focus .nx-calendar-body-cell-content{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;box-shadow:var(--focus-box-shadow,0 0 0 2px #fff,0 0 0 6px #009de6)}@media screen and (-ms-high-contrast:active){.nx-calendar-body-cell-content{color:buttonText}.nx-calendar-body-cell-content.nx-calendar-body-selected{-ms-high-contrast-adjust:none;background-color:highlight;color:highlightText}.nx-calendar-body-disabled>.nx-calendar-body-cell-content:not(.nx-calendar-body-selected){color:GrayText}.nx-calendar-body-active:not(.nx-calendar-body-disabled)>.nx-calendar-body-cell-content:not(.nx-calendar-body-selected),:not(.nx-calendar-body-disabled):hover>.nx-calendar-body-cell-content:not(.nx-calendar-body-selected){-ms-high-contrast-adjust:none;background-color:highlight;color:highlightText}:host-context([data-whatinput=keyboard]) .nx-calendar-body-cell:focus .nx-calendar-body-cell-content{box-shadow:0 0 0 2px background,0 0 0 6px windowText}}:host-context([data-whatinput=keyboard]) .nx-calendar-body-cell:focus.nx-calendar-body-disabled .nx-calendar-body-cell-content{color:#c2c2c2;color:var(--datefield-cell-disabled-color,#c2c2c2)}:host-context([data-whatinput=keyboard]) .nx-calendar-body-cell:focus .nx-calendar-body-cell-content:not(.nx-calendar-body-selected){background-color:#fff;background-color:var(--datefield-cell-focused-background-color,#fff)}.nx-calendar-adjacent-cell-content{display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:40px;height:40px;margin:0 auto;font-size:16px;font-size:var(--datefield-cell-font-size,16px);line-height:var(--datefield-cell-line-height,24px);font-weight:var(--datefield-cell-font-weight,600);letter-spacing:0;letter-spacing:var(--datefield-cell-letter-spacing,0);font-weight:400;color:#c2c2c2;color:var(--datefield-cell-disabled-color,#c2c2c2);border-radius:50%;line-height:1}@media screen and (-ms-high-contrast:active){.nx-calendar-adjacent-cell-content{color:GrayText}}"]}]}],e.ctorParameters=function(){return[{type:r.ElementRef},{type:r.NgZone}]},e.propDecorators={label:[{type:r.Input}],rows:[{type:r.Input}],todayValue:[{type:r.Input}],selectedValue:[{type:r.Input}],numCols:[{type:r.Input}],allowDisabledSelection:[{type:r.Input}],activeCell:[{type:r.Input}],previousItems:[{type:r.Input}],followingItems:[{type:r.Input}],selectedValueChange:[{type:r.Output}]},e}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     * @type {?}
     */
var T=function(){function e(e,t,a,n){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=a,this._dir=n,this.selectedChange=new r.EventEmitter,this._userSelection=new r.EventEmitter,this.activeDateChange=new r.EventEmitter,this._numCols=7,!this._dateAdapter)throw P("DateAdapter");if(!this._dateFormats)throw P("MAT_DATE_FORMATS");var i=this._dateAdapter.getFirstDayOfWeek(),o=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map(function(e,t){return{long:e,narrow:o[t]}});this._weekdays=s.slice(i).concat(s.slice(0,i)),this._activeDate=this._dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate,a=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedDate=this._getDateInCurrentMonth(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init(),this._focusActiveCell()},e.prototype._dateSelected=function(e){if(this._selectedDate!==e){var t=this._dateAdapter.getYear(this.activeDate),a=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.createDate(t,a,e);this.selectedChange.emit(n)}this._userSelection.emit()},e.prototype._handleCalendarBodyKeydown=function(e){var t=this._activeDate,a=this._isRtl();switch(e.keyCode){case h.LEFT_ARROW:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case h.RIGHT_ARROW:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case h.UP_ARROW:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-this._numCols);break;case h.DOWN_ARROW:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._numCols);break;case h.HOME:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case h.END:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case h.PAGE_UP:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case h.PAGE_DOWN:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case h.ENTER:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),e.preventDefault()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()},e.prototype._init=function(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._createWeekCells(),this._changeDetectorRef.markForCheck()},e.prototype._focusActiveCell=function(){this._nxCalendarBody._focusActiveCell()},e.prototype._createWeekCells=function(){var e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(var a=0,n=this._firstWeekOffset;a<e;a++,n++){7===n&&(this._weeks.push([]),n=0);var i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),r=this._shouldEnableDate(i),o=this._dateAdapter.format(i,this._dateFormats.display.dateA11yLabel);this._weeks[this._weeks.length-1].push(new N(a+1,t[a],o,r))}},e.prototype._shouldEnableDate=function(e){return!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)},e.prototype._getDateInCurrentMonth=function(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null},e.prototype._hasSameMonthAndYear=function(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!==this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(t))},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},e.prototype._getLastDaysOfPreviousMonth=function(){var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1),t=this._dateAdapter.addCalendarDays(e,-this._firstWeekOffset);return this._getRowOfDays(t,this._firstWeekOffset)},e.prototype._getFirstDaysOfFollowingMonth=function(){var e=[],t=this._dateAdapter.addCalendarMonths(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1),1),a=42-this._firstWeekOffset-this._dateAdapter.getNumDaysInMonth(this.activeDate),n=a%7;if(n>0){var i=this._getRowOfDays(t,n);e.push(i)}for(var r=a-n,o=this._dateAdapter.addCalendarDays(t,n);r>0;)e.push(this._getRowOfDays(o,this._numCols)),o=this._dateAdapter.addCalendarDays(o,this._numCols),r-=this._numCols;return e},e.prototype._getRowOfDays=function(e,t){for(var a=[],n=this._dateAdapter.getDateNames(),i=0;i<t;i++){var r=this._dateAdapter.getDate(this._dateAdapter.addCalendarDays(e,i));a.push(new N(r,n[r-1]))}return a},e.decorators=[{type:r.Component,args:[{selector:"nx-month-view",template:'<table class="nx-calendar-table">\n  <thead class="nx-calendar-table-head">\n    <tr>\n      <th\n        class="nx-calendar-table-header"\n        *ngFor="let day of _weekdays"\n        [attr.aria-label]="day.long">{{day.narrow}}</th></tr>\n    <tr>\n  </thead>\n  <tbody nx-calendar-body\n         [label]="_monthLabel"\n         [rows]="_weeks"\n         [previousItems]="_getLastDaysOfPreviousMonth()"\n         [followingItems]="_getFirstDaysOfFollowingMonth()"\n         [todayValue]="_todayDate"\n         [numCols]="_numCols"\n         [selectedValue]="_selectedDate"\n         [activeCell]="_dateAdapter.getDate(activeDate) - 1"\n         (selectedValueChange)="_dateSelected($event)"\n         (keydown)="_handleCalendarBodyKeydown($event)">\n  </tbody>\n</table>\n',exportAs:"nxMonthView",changeDetection:r.ChangeDetectionStrategy.OnPush,styles:[".nx-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.nx-calendar-table-header{font-size:16px;font-size:var(--datefield-cell-font-size,16px);line-height:24px;line-height:var(--datefield-cell-line-height,24px);font-weight:600;font-weight:var(--datefield-cell-font-weight,600);letter-spacing:0;letter-spacing:var(--datefield-cell-letter-spacing,0);color:#c2c2c2;color:var(--datefield-header-cell-color,#c2c2c2);text-align:center;height:40px}"]}]}],e.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[I]}]},{type:b,decorators:[{type:r.Optional}]},{type:u.Directionality,decorators:[{type:r.Optional}]}]},e.propDecorators={activeDate:[{type:r.Input}],selected:[{type:r.Input}],minDate:[{type:r.Input}],maxDate:[{type:r.Input}],dateFilter:[{type:r.Input}],selectedChange:[{type:r.Output}],_userSelection:[{type:r.Output}],activeDateChange:[{type:r.Output}],_nxCalendarBody:[{type:r.ViewChild,args:[F,{static:!0}]}]},e}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     * @type {?}
     */
var L=function(){function e(e,t,a){if(this._changeDetectorRef=e,this._dateAdapter=t,this._dir=a,this.selectedChange=new r.EventEmitter,this.yearSelected=new r.EventEmitter,this.activeDateChange=new r.EventEmitter,!this._dateAdapter)throw P("DateAdapter");this._activeDate=this._dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate,a=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),Math.floor(this._dateAdapter.getYear(t)/20)!==Math.floor(this._dateAdapter.getYear(this._activeDate)/20)&&this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init(),this._focusActiveCell()},e.prototype._init=function(){var e=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var t=this._dateAdapter.getYear(this._activeDate),a=t%20;this._years=[];for(var n=0,i=[];n<20;n++)i.push(t-a+n),4===i.length&&(this._years.push(i.map(function(t){return e._createCellForYear(t)})),i=[]);this._changeDetectorRef.markForCheck()},e.prototype._yearSelected=function(e){this.yearSelected.emit(this._dateAdapter.createDate(e,0,1));var t=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));this.selectedChange.emit(this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),a)))},e.prototype._handleCalendarBodyKeydown=function(e){var t=this._activeDate,a=this._isRtl();switch(e.keyCode){case h.LEFT_ARROW:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case h.RIGHT_ARROW:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case h.UP_ARROW:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case h.DOWN_ARROW:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case h.HOME:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-this._dateAdapter.getYear(this._activeDate)%20);break;case h.END:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,20-this._dateAdapter.getYear(this._activeDate)%20-1);break;case h.PAGE_UP:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-200:-20);break;case h.PAGE_DOWN:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?200:20);break;case h.ENTER:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()},e.prototype._getActiveCell=function(){return this._dateAdapter.getYear(this.activeDate)%20},e.prototype._focusActiveCell=function(){this._nxCalendarBody._focusActiveCell()},e.prototype._createCellForYear=function(e){var t=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return new N(e,t,t,this._shouldEnableYear(e))},e.prototype._shouldEnableYear=function(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)===e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},e.decorators=[{type:r.Component,args:[{selector:"nx-multi-year-view",template:'<table class="nx-calendar-table">\n  <tbody nx-calendar-body\n         allowDisabledSelection="true"\n         [rows]="_years"\n         [todayValue]="_todayYear"\n         [selectedValue]="_selectedYear"\n         [numCols]="4"\n         [activeCell]="_getActiveCell()"\n         (selectedValueChange)="_yearSelected($event)"\n         (keydown)="_handleCalendarBodyKeydown($event)">\n  </tbody>\n</table>\n',exportAs:"nxMultiYearView",changeDetection:r.ChangeDetectionStrategy.OnPush,styles:[".nx-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}:host ::ng-deep .nx-calendar-body .nx-calendar-body-cell-content{margin:0 17.33333px 8px}:host ::ng-deep .nx-calendar-body tr .nx-calendar-body-cell:first-child .nx-calendar-body-cell-content{margin-left:8px}:host ::ng-deep .nx-calendar-body tr .nx-calendar-body-cell:last-child .nx-calendar-body-cell-content{margin-right:8px}@media (max-width:703px){:host ::ng-deep .nx-calendar-body .nx-calendar-body-cell-content{margin:0 12px 8px}:host ::ng-deep .nx-calendar-body tr .nx-calendar-body-cell:first-child .nx-calendar-body-cell-content{margin-left:16px}:host ::ng-deep .nx-calendar-body tr .nx-calendar-body-cell:last-child .nx-calendar-body-cell-content{margin-right:16px}}"]}]}],e.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:b,decorators:[{type:r.Optional}]},{type:u.Directionality,decorators:[{type:r.Optional}]}]},e.propDecorators={activeDate:[{type:r.Input}],selected:[{type:r.Input}],minDate:[{type:r.Input}],maxDate:[{type:r.Input}],dateFilter:[{type:r.Input}],selectedChange:[{type:r.Output}],yearSelected:[{type:r.Output}],activeDateChange:[{type:r.Output}],_nxCalendarBody:[{type:r.ViewChild,args:[F,{static:!0}]}]},e}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var j=function(){function e(e,t,a,n){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=a,this._dir=n,this.selectedChange=new r.EventEmitter,this.monthSelected=new r.EventEmitter,this.activeDateChange=new r.EventEmitter,this._numCols=3,!this._dateAdapter)throw P("DateAdapter");if(!this._dateFormats)throw P("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate,a=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init(),this._focusActiveCell()},e.prototype._monthSelected=function(e){var t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this.monthSelected.emit(t);var a=this._dateAdapter.getNumDaysInMonth(t);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),a)))},e.prototype._handleCalendarBodyKeydown=function(e){var t=this._activeDate,a=this._isRtl();switch(e.keyCode){case h.LEFT_ARROW:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case h.RIGHT_ARROW:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case h.UP_ARROW:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._numCols);break;case h.DOWN_ARROW:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,this._numCols);break;case h.HOME:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case h.END:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case h.PAGE_UP:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case h.PAGE_DOWN:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case h.ENTER:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()},e.prototype._init=function(){var e=this;this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2],[3,4,5],[6,7,8],[9,10,11]].map(function(a){return a.map(function(a){return e._createCellForMonth(a,t[a])})}),this._changeDetectorRef.markForCheck()},e.prototype._focusActiveCell=function(){this._nxCalendarBody._focusActiveCell()},e.prototype._getMonthInCurrentYear=function(e){return e&&this._dateAdapter.getYear(e)===this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null},e.prototype._createCellForMonth=function(e,t){var a=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),this._dateFormats.display.monthYearA11yLabel);return new N(e,t,a,this._shouldEnableMonth(e))},e.prototype._shouldEnableMonth=function(e){var t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(var a=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(a)===e;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1},e.prototype._isYearAndMonthAfterMaxDate=function(e,t){if(this.maxDate){var a=this._dateAdapter.getYear(this.maxDate),n=this._dateAdapter.getMonth(this.maxDate);return e>a||e===a&&t>n}return!1},e.prototype._isYearAndMonthBeforeMinDate=function(e,t){if(this.minDate){var a=this._dateAdapter.getYear(this.minDate),n=this._dateAdapter.getMonth(this.minDate);return e<a||e===a&&t<n}return!1},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},e.decorators=[{type:r.Component,args:[{selector:"nx-year-view",template:'<table class="nx-calendar-table">\n  <tbody nx-calendar-body\n         allowDisabledSelection="true"\n         [label]="_yearLabel"\n         [rows]="_months"\n         [todayValue]="_todayMonth"\n         [selectedValue]="_selectedMonth"\n         [numCols]="_numCols"\n         [activeCell]="_dateAdapter.getMonth(activeDate)"\n         (selectedValueChange)="_monthSelected($event)"\n         (keydown)="_handleCalendarBodyKeydown($event)">\n  </tbody>\n</table>\n',exportAs:"nxYearView",changeDetection:r.ChangeDetectionStrategy.OnPush,styles:[".nx-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}:host ::ng-deep .nx-calendar-body .nx-calendar-body-cell-content{margin:0 36px 8px}:host ::ng-deep .nx-calendar-body tr .nx-calendar-body-cell:first-child .nx-calendar-body-cell-content{margin-left:8px}:host ::ng-deep .nx-calendar-body tr .nx-calendar-body-cell:last-child .nx-calendar-body-cell-content{margin-right:8px}@media (max-width:703px){:host ::ng-deep .nx-calendar-body .nx-calendar-body-cell-content{margin:0 24px 8px}:host ::ng-deep .nx-calendar-body tr .nx-calendar-body-cell:first-child .nx-calendar-body-cell-content{margin-left:24px}:host ::ng-deep .nx-calendar-body tr .nx-calendar-body-cell:last-child .nx-calendar-body-cell-content{margin-right:24px}}"]}]}],e.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[I]}]},{type:b,decorators:[{type:r.Optional}]},{type:u.Directionality,decorators:[{type:r.Optional}]}]},e.propDecorators={activeDate:[{type:r.Input}],selected:[{type:r.Input}],minDate:[{type:r.Input}],maxDate:[{type:r.Input}],dateFilter:[{type:r.Input}],selectedChange:[{type:r.Output}],monthSelected:[{type:r.Output}],activeDateChange:[{type:r.Output}],_nxCalendarBody:[{type:r.ViewChild,args:[F,{static:!0}]}]},e}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     * @type {?}
     */
var z=function(){function e(e,t,a,n){if(this._intl=e,this._dateAdapter=t,this._dateFormats=a,this.startView="month",this.selectedChange=new r.EventEmitter,this.yearSelected=new r.EventEmitter,this.monthSelected=new r.EventEmitter,this._userSelection=new r.EventEmitter,!this._dateAdapter)throw P("DateAdapter");if(!this._dateFormats)throw P("MAT_DATE_FORMATS");this._intlChanges=e.changes.subscribe(function(){return n.markForCheck()})}return Object.defineProperty(e.prototype,"startAt",{get:function(){return this._startAt},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_activeDate",{get:function(){return this._clampedActiveDate},set:function(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_periodButtonText",{get:function(){if("month"===this._currentView)return this._dateAdapter.format(this._activeDate,this._dateFormats.display.monthYearLabel);if("year"===this._currentView)return this._dateAdapter.getYearName(this._activeDate);var e=this._dateAdapter.getYear(this._activeDate);return this._dateAdapter.getYearName(this._dateAdapter.createDate(e-e%20,0,1))+" â€“ "+this._dateAdapter.getYearName(this._dateAdapter.createDate(e+20-1-e%20,0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_periodButtonLabel",{get:function(){return"month"===this._currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_prevButtonLabel",{get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this._currentView]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_nextButtonLabel",{get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this._currentView]},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView},e.prototype.ngOnDestroy=function(){this._intlChanges.unsubscribe()},e.prototype.ngOnChanges=function(e){var t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){var a=this.monthView||this.yearView||this.multiYearView;a&&a._init()}},e.prototype._dateSelected=function(e){this._dateAdapter.sameDate(e,this.selected)||this.selectedChange.emit(e)},e.prototype._yearSelectedInMultiYearView=function(e){this.yearSelected.emit(e)},e.prototype._monthSelectedInYearView=function(e){this.monthSelected.emit(e)},e.prototype._userSelected=function(){this._userSelection.emit()},e.prototype._goToDateInView=function(e,t){this._activeDate=e,this._currentView=t},e.prototype._changeViewClicked=function(){this._currentView="month"===this._currentView?"multi-year":"month"},e.prototype._previousClicked=function(){this._activeDate="month"===this._currentView?this._dateAdapter.addCalendarMonths(this._activeDate,-1):this._dateAdapter.addCalendarYears(this._activeDate,"year"===this._currentView?-1:-20)},e.prototype._nextClicked=function(){this._activeDate="month"===this._currentView?this._dateAdapter.addCalendarMonths(this._activeDate,1):this._dateAdapter.addCalendarYears(this._activeDate,"year"===this._currentView?1:20)},e.prototype._previousEnabled=function(){return!this.minDate||(!this.minDate||!this._isSameView(this._activeDate,this.minDate))},e.prototype._nextEnabled=function(){return!this.maxDate||!this._isSameView(this._activeDate,this.maxDate)},e.prototype._isSameView=function(e,t){return"month"===this._currentView?this._dateAdapter.getYear(e)===this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)===this._dateAdapter.getMonth(t):"year"===this._currentView?this._dateAdapter.getYear(e)===this._dateAdapter.getYear(t):Math.floor(this._dateAdapter.getYear(e)/20)===Math.floor(this._dateAdapter.getYear(t)/20)},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.decorators=[{type:r.Component,args:[{selector:"nx-calendar",template:'<div class="nx-calendar-header">\n  <div class="nx-calendar-controls">\n\n    <button class="nx-calendar-previous-button"\n            [disabled]="!_previousEnabled()" (click)="_previousClicked()"\n            [attr.aria-label]="_prevButtonLabel">\n            <nx-icon name="chevron-left"></nx-icon>\n    </button>\n\n    <span class="nx-calendar-period-label">\n      {{_periodButtonText}}\n    </span>\n\n    <button class="nx-calendar-next-button"\n            [disabled]="!_nextEnabled()" (click)="_nextClicked()"\n            [attr.aria-label]="_nextButtonLabel">\n            <nx-icon name="chevron-right"></nx-icon>\n    </button>\n  </div>\n\n  <div class="nx-calendar-view-controls">\n    <button\n        class="nx-calendar-change-view-button"\n        (click)="_changeViewClicked()" [attr.aria-label]="_periodButtonLabel">\n      {{_periodButtonLabel}}\n    </button>\n  </div>\n</div>\n\n<div class="nx-calendar-content" [ngSwitch]="_currentView" cdkMonitorSubtreeFocus tabindex="-1">\n  <nx-month-view\n      *ngSwitchCase="\'month\'"\n      [(activeDate)]="_activeDate"\n      [selected]="selected"\n      [dateFilter]="dateFilter"\n      [maxDate]="maxDate"\n      [minDate]="minDate"\n      (selectedChange)="_dateSelected($event)"\n      (_userSelection)="_userSelected()">\n  </nx-month-view>\n\n  <nx-year-view\n      *ngSwitchCase="\'year\'"\n      [(activeDate)]="_activeDate"\n      [selected]="selected"\n      [dateFilter]="dateFilter"\n      [maxDate]="maxDate"\n      [minDate]="minDate"\n      (monthSelected)="_monthSelectedInYearView($event)"\n      (selectedChange)="_goToDateInView($event, \'month\')">\n  </nx-year-view>\n\n  <nx-multi-year-view\n      *ngSwitchCase="\'multi-year\'"\n      [(activeDate)]="_activeDate"\n      [selected]="selected"\n      [dateFilter]="dateFilter"\n      [maxDate]="maxDate"\n      [minDate]="minDate"\n      (yearSelected)="_yearSelectedInMultiYearView($event)"\n      (selectedChange)="_goToDateInView($event, \'year\')">\n  </nx-multi-year-view>\n</div>\n',host:{class:"nx-calendar"},exportAs:"nxCalendar",changeDetection:r.ChangeDetectionStrategy.OnPush,styles:[".nx-calendar-content{width:280px;margin:16px auto 0}.nx-calendar-next-button,.nx-calendar-previous-button{color:#006192;color:var(--datefield-controls-color,#006192);font-size:24px;font-size:var(--datefield-controls-icon-size,24px);background-color:transparent;border:none;cursor:pointer;line-height:0;padding:0}.nx-calendar-next-button:focus,.nx-calendar-previous-button:focus{outline:0}.nx-calendar-next-button:hover,.nx-calendar-previous-button:hover{color:#006192;color:var(--datefield-controls-hover-color,#006192)}.nx-calendar-controls{display:flex;justify-content:space-between;align-items:center;padding:0 40px}.nx-calendar-period-label{font-size:20px;font-size:var(--datefield-period-label-font-size,20px);line-height:24px;line-height:var(--datefield-period-label-line-height,24px);font-weight:600;font-weight:var(--datefield-period-label-font-weight,600);letter-spacing:.2px;letter-spacing:var(--datefield-period-label-letter-spacing,.2px);color:#414141;color:var(--datefield-period-label-color,#414141);text-align:center}.nx-calendar-view-controls{text-align:center;height:24px}.nx-calendar-change-view-button{font-size:16px;font-size:var(--datefield-change-view-font-size,16px);line-height:1;line-height:var(--datefield-change-view-line-height,1);font-weight:700;font-weight:var(--datefield-change-view-font-weight,bold);letter-spacing:0;letter-spacing:var(--datefield-change-view-letter-spacing,0);color:#006192;color:var(--datefield-change-view-color,#006192);border:none;background-color:transparent;cursor:pointer;margin:8px 0 0;height:16px}.nx-calendar-change-view-button:focus{outline:0}.nx-calendar-change-view-button:hover{color:#006192;color:var(--datefield-change-view-hover-color,#006192)}:host-context([data-whatinput=keyboard]) .nx-calendar-change-view-button:focus,:host-context([data-whatinput=keyboard]) .nx-calendar-next-button:focus,:host-context([data-whatinput=keyboard]) .nx-calendar-previous-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;box-shadow:var(--focus-box-shadow,0 0 0 2px #fff,0 0 0 6px #009de6);border-radius:4px}@media screen and (-ms-high-contrast:active){:host-context([data-whatinput=keyboard]) .nx-calendar-change-view-button:focus,:host-context([data-whatinput=keyboard]) .nx-calendar-next-button:focus,:host-context([data-whatinput=keyboard]) .nx-calendar-previous-button:focus{box-shadow:0 0 0 2px background,0 0 0 6px windowText}}button::-moz-focus-inner{border:0}"]}]}],e.ctorParameters=function(){return[{type:R},{type:b,decorators:[{type:r.Optional}]},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[I]}]},{type:r.ChangeDetectorRef}]},e.propDecorators={startAt:[{type:r.Input}],startView:[{type:r.Input}],selected:[{type:r.Input}],minDate:[{type:r.Input}],maxDate:[{type:r.Input}],dateFilter:[{type:r.Input}],selectedChange:[{type:r.Output}],yearSelected:[{type:r.Output}],monthSelected:[{type:r.Output}],_userSelection:[{type:r.Output}],monthView:[{type:r.ViewChild,args:[T,{static:!1}]}],yearView:[{type:r.ViewChild,args:[j,{static:!1}]}],multiYearView:[{type:r.ViewChild,args:[L,{static:!1}]}]},e}();var W=0,B=new r.InjectionToken("nx-datepicker-scroll-strategy");function K(e){return function(){return e.scrollStrategies.reposition()}}var U={provide:B,deps:[n.Overlay],useFactory:K};var Z=new r.InjectionToken("DATEPICKER_DEFAULT_OPTIONS"),X=function(){function e(e,t,a){this._intl=e,this.elementRef=t,this._ngZone=a}return e.prototype.ngAfterContentInit=function(){this._focusActiveCell()},e.prototype._focusActiveCell=function(){var e=this;this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.asObservable().pipe(f.take(1)).subscribe(function(){e.elementRef.nativeElement.querySelector(".nx-calendar-body-active").focus()})})},e.decorators=[{type:r.Component,args:[{selector:"nx-datepicker-content",template:'<div class="nx-datepicker-header">\n    <button (click)="datepicker.close()" class="nx-datepicker-close" type="button">\n        <nx-icon name="close"></nx-icon>\n    </button>\n</div>\n\n<nx-calendar cdkTrapFocus\n    [id]="datepicker.id"\n    [ngClass]="datepicker.panelClass"\n    [startAt]="datepicker.startAt"\n    [startView]="datepicker.startView"\n    [minDate]="datepicker.minDate"\n    [maxDate]="datepicker.maxDate"\n    [dateFilter]="datepicker.dateFilter"\n    [selected]="datepicker.selected"\n    (selectedChange)="datepicker.select($event)"\n    (yearSelected)="datepicker.selectYear($event)"\n    (monthSelected)="datepicker.selectMonth($event)"\n    (_userSelection)="datepicker.close()">\n</nx-calendar>\n',host:{class:"nx-datepicker-content"},exportAs:"nxDatepickerContent",changeDetection:r.ChangeDetectionStrategy.OnPush,styles:[":host{background:#fff;background:var(--datefield-panel-background-color,#fff);display:flex;flex-flow:column nowrap;box-shadow:0 8px 24px rgba(65,65,65,.35);border:1px solid #d9d9d9;border:1px solid var(--datefield-panel-border-color,#d9d9d9);border-radius:4px}.nx-datepicker-header{background:#fff;background:var(--datefield-panel-header-background-color,#fff);padding:calc(16px - 1px) 16px 16px;display:flex;height:55px}@media (max-width:703px){.nx-datepicker-header{padding-left:calc(20px - 1px);padding-right:calc(20px - 1px)}}.nx-datepicker-close{background-color:transparent;border:none;margin-left:auto;cursor:pointer;padding:0;font-size:24px;font-size:var(--datefield-controls-icon-size,24px);color:#006192;color:var(--datefield-controls-color,#006192);outline:0}nx-calendar{width:calc(7 * 40px + 2 * 32px - 2 * 1px);height:calc(48px + 16px + 7 * 40px + 32px - 1px)}@media (max-width:703px){nx-calendar{width:calc(7 * 40px + 2 * 12px - 2 * 1px);height:calc(48px + 16px + 7 * 40px + 16px - 1px)}}"]}]}],e.ctorParameters=function(){return[{type:R},{type:r.ElementRef},{type:r.NgZone}]},e.propDecorators={_calendar:[{type:r.ViewChild,args:[z,{static:!0}]}]},e}();var $=function(){function e(e,t,a,n,i,o,d){if(this._overlay=e,this._ngZone=t,this._viewContainerRef=a,this._scrollStrategy=n,this._dateAdapter=i,this._dir=o,this._document=d,this.startView="month",this.selectedChanged=new r.EventEmitter,this.yearSelected=new r.EventEmitter,this.monthSelected=new r.EventEmitter,this.openedStream=new r.EventEmitter,this.closedStream=new r.EventEmitter,this._opened=!1,this.id="nx-datepicker-"+W++,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=s.Subscription.EMPTY,this._disabledChange=new s.Subject,!this._dateAdapter)throw P("DateAdapter")}return Object.defineProperty(e.prototype,"startAt",{get:function(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled},set:function(e){var t=c.coerceBooleanProperty(e);t!==this._disabled&&(this._disabled=t,this._disabledChange.next(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},set:function(e){e?this.open():this.close()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._validSelected},set:function(e){this._validSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._datepickerInput&&this._datepickerInput.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._datepickerInput&&this._datepickerInput.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFilter",{get:function(){return this._datepickerInput&&this._datepickerInput._dateFilter},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)},e.prototype.select=function(e){var t=this.selected;this.selected=e,this._dateAdapter.sameDate(t,this.selected)||this.selectedChanged.emit(e)},e.prototype.selectYear=function(e){this.yearSelected.emit(e)},e.prototype.selectMonth=function(e){this.monthSelected.emit(e)},e.prototype.registerInput=function(e){var t=this;if(this._datepickerInput)throw Error("A NxDatepicker can only be associated with a single input.");this._datepickerInput=e,this._inputSubscription=this._datepickerInput._valueChange.subscribe(function(e){return t.selected=e})},e.prototype.registerToggle=function(e){if(this._toggleButton)throw Error("A NxDatepicker can only be associated with a single toggle button.");this._toggleButton=e},e.prototype.open=function(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an NxDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this._openAsPopup(),this._opened=!0,this.openedStream.emit()}},e.prototype.close=function(){var e=this;if(this._opened){this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach();var t=function(){e._opened&&(e._opened=!1,e.closedStream.emit(),e._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t(),this._toggleButton&&this._toggleButton.tabindex<0&&this._datepickerInput._focus()}},e.prototype._openAsPopup=function(){var e=this;this._calendarPortal||(this._calendarPortal=new _.ComponentPortal(X,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._calendarPortal),this._popupComponentRef.instance.datepicker=this,this._ngZone.onStable.asObservable().pipe(f.take(1)).subscribe(function(){e._popupRef.updatePosition()}))},e.prototype._createPopup=function(){var e=this,t=new n.OverlayConfig({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"nx-overlay-transparent-backdrop",direction:this._dir?this._dir.value:"ltr",scrollStrategy:this._scrollStrategy(),panelClass:"nx-datepicker-popup"});this._popupRef=this._overlay.create(t),s.merge(this._popupRef.backdropClick(),this._popupRef.keydownEvents().pipe(f.filter(function(e){return e.keyCode===h.ESCAPE}))).subscribe(function(){return e.close()})},e.prototype._createPopupPositionStrategy=function(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".nx-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.decorators=[{type:r.Component,args:[{selector:"nx-datepicker",template:"",exportAs:"nxDatepicker",changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.Overlay},{type:r.NgZone},{type:r.ViewContainerRef},{type:void 0,decorators:[{type:r.Inject,args:[B]}]},{type:b,decorators:[{type:r.Optional}]},{type:u.Directionality,decorators:[{type:r.Optional}]},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[i.DOCUMENT]}]}]},e.propDecorators={startAt:[{type:r.Input}],startView:[{type:r.Input}],disabled:[{type:r.Input}],yearSelected:[{type:r.Output}],monthSelected:[{type:r.Output}],panelClass:[{type:r.Input}],openedStream:[{type:r.Output,args:["opened"]}],closedStream:[{type:r.Output,args:["closed"]}],opened:[{type:r.Input}]},e}();var q=function(){function e(){}return e.parse=function(e,t,a,n,i){return void 0===i&&(i=null),function(){var r=e.parse(a.value,i||t.parse.dateInput,n);return!r||e.isValid(r)?null:{nxDatefieldParse:{text:a}}}},e.min=function(e,t){return function(a){var n=G(e,e.deserialize(a.value));return!t||!n||e.compareDate(t,n)<=0?null:{nxDatefieldMin:{min:t,actual:n}}}},e.max=function(e,t){return function(a){var n=G(e,e.deserialize(a.value));return!t||!n||e.compareDate(t,n)>=0?null:{nxDatefieldMax:{max:t,actual:n}}}},e.filter=function(e,t){return function(a){var n=G(e,e.deserialize(a.value));return t&&n&&!t(n)?{nxDatefieldFilter:!0}:null}},e}();function G(e,t){return e.isDateInstance(t)&&e.isValid(t)?t:null}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     * @type {?}
     */var J={provide:p.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return ee}),multi:!0},H={provide:p.NG_VALIDATORS,useExisting:r.forwardRef(function(){return ee}),multi:!0},Q=function(e,t){this.target=e,this.targetElement=t,this.value=this.target.value};var ee=function(){function e(e,t,a,n){var i=this;if(this._elementRef=e,this._dateAdapter=t,this._dateFormats=a,this._formField=n,this.currentFormattedDate=null,this._strict=!0,this.dateChange=new r.EventEmitter,this.dateInput=new r.EventEmitter,this._valueChange=new r.EventEmitter,this._disabledChange=new r.EventEmitter,this._onTouched=function(){},this._cvaOnChange=function(){},this._validatorOnChange=function(){},this._datepickerSubscription=s.Subscription.EMPTY,this._localeSubscription=s.Subscription.EMPTY,!this._dateAdapter)throw Y("DateAdapter");if(!this._dateFormats)throw Y("NX_DATE_FORMATS");this._localeSubscription=t.localeChanges.subscribe(function(){i.value=i.value})}return Object.defineProperty(e.prototype,"datepicker",{set:function(e){this.registerDatepicker(e)},enumerable:!0,configurable:!0}),e.prototype.registerDatepicker=function(e){e&&(this._datepicker=e,this._datepicker.registerInput(this))},Object.defineProperty(e.prototype,"datefieldFilter",{set:function(e){this._dateFilter=e,this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e=this._dateAdapter.deserialize(e),e=this._getValidDateOrNull(e);var t=this.value;this._value=e,this._formatValue(this.value),this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strict",{get:function(){return this._strict},set:function(e){this._strict=c.coerceBooleanProperty(e),this._onInput(this._elementRef.nativeElement.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parseFormat",{get:function(){return this._parseFormat},set:function(e){this._parseFormat=e,this._onInput(this._elementRef.nativeElement.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayFormat",{get:function(){return this._displayFormat},set:function(e){this._displayFormat=e,this._formatValue(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!!this._disabled},set:function(e){var t=c.coerceBooleanProperty(e);this._disabled!==t&&(this._disabled=t,this._disabledChange.emit(t)),t&&this._elementRef.nativeElement.blur()},enumerable:!0,configurable:!0}),e.prototype.format=function(){this.value=this.value},e.prototype.ngAfterContentInit=function(){var e=this;this._datepicker&&(this._datepickerSubscription=this._datepicker.selectedChanged.subscribe(function(t){e.value=t,e._cvaOnChange(t),e._onTouched(),e.dateInput.emit(new Q(e,e._elementRef.nativeElement)),e.dateChange.emit(new Q(e,e._elementRef.nativeElement))}))},e.prototype.ngOnDestroy=function(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()},e.prototype.registerOnValidatorChange=function(e){this._validatorOnChange=e},e.prototype.validate=function(e){var t=p.Validators.compose(this.getValidators());return t?t(e):null},e.prototype.getPopupConnectionElementRef=function(){return this.getConnectedOverlayOrigin()},e.prototype.getConnectedOverlayOrigin=function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this._cvaOnChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype._onKeydown=function(e){e.altKey&&e.keyCode===h.DOWN_ARROW&&(this._datepicker.open(),e.preventDefault())},e.prototype._onInput=function(e){var t=this._dateAdapter.parse(e,this._parseFormat||this._dateFormats.parse.dateInput,this.strict);t=this._getValidDateOrNull(t),this._value=t,this.currentFormattedDate=t?this._dateAdapter.format(t,this._displayFormat||this._dateFormats.display.dateInput):null,this._cvaOnChange(t),this._valueChange.emit(t),this.dateInput.emit(new Q(this,this._elementRef.nativeElement))},e.prototype._onChange=function(){this.dateChange.emit(new Q(this,this._elementRef.nativeElement))},e.prototype._focus=function(){this._elementRef.nativeElement.focus()},e.prototype._onBlur=function(){this.value&&this._formatValue(this.value),this._onTouched()},e.prototype.getValidators=function(){return[q.parse(this._dateAdapter,this._dateFormats,this._elementRef.nativeElement,this._strict,this._parseFormat),q.min(this._dateAdapter,this.min),q.max(this._dateAdapter,this.max),q.filter(this._dateAdapter,this._dateFilter)]},e.prototype._formatValue=function(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._displayFormat||this._dateFormats.display.dateInput):""},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.decorators=[{type:r.Directive,args:[{selector:"input[nxDatefield]",providers:[J,H,{provide:l.NX_INPUT_VALUE_ACCESSOR,useExisting:e}],host:{"[attr.aria-haspopup]":"true","[attr.aria-owns]":"(_datepicker?.opened && _datepicker.id) || null","[attr.min]":"min ? _dateAdapter.toIso8601(min) : null","[attr.max]":"max ? _dateAdapter.toIso8601(max) : null","[disabled]":"disabled","(input)":"_onInput($event.target.value)","(change)":"_onChange()","(blur)":"_onBlur()","(keydown)":"_onKeydown($event)"},exportAs:"nxDatefield"}]}],e.ctorParameters=function(){return[{type:r.ElementRef},{type:b,decorators:[{type:r.Optional}]},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[I]}]},{type:d.NxFormfieldComponent,decorators:[{type:r.Optional}]}]},e.propDecorators={datepicker:[{type:r.Input,args:["nxDatepicker"]}],datefieldFilter:[{type:r.Input,args:["nxDatefieldFilter"]}],value:[{type:r.Input}],min:[{type:r.Input,args:["nxMin"]}],max:[{type:r.Input,args:["nxMax"]}],strict:[{type:r.Input,args:["nxStrict"]}],parseFormat:[{type:r.Input,args:["nxParseFormat"]}],displayFormat:[{type:r.Input,args:["nxDisplayFormat"]}],disabled:[{type:r.Input}],dateChange:[{type:r.Output}],dateInput:[{type:r.Output}]},e}();var te=function(){function e(){}return e.decorators=[{type:r.Directive,args:[{selector:"[nxDatepickerToggleIcon]"}]}],e}(),ae=function(){function e(e,t,a){this._intl=e,this._changeDetectorRef=t,this._defaultOptions=a,this._stateChanges=s.Subscription.EMPTY,this._tabindex=0,this._defaultOptions&&this._defaultOptions.toggleIconTabindex&&(this._tabindex=this._defaultOptions.toggleIconTabindex)}return Object.defineProperty(e.prototype,"datepicker",{get:function(){return this._datepicker},set:function(e){this.registerDatepicker(e)},enumerable:!0,configurable:!0}),e.prototype.registerDatepicker=function(e){e&&(this._datepicker=e,this._datepicker.registerToggle(this))},Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled?this.datepicker.disabled:!!this._disabled},set:function(e){this._disabled=c.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){return this._tabindex},set:function(e){this._tabindex!==e&&(this._tabindex=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.datepicker&&this._watchStateChanges()},e.prototype.ngOnDestroy=function(){this._stateChanges.unsubscribe()},e.prototype.ngAfterContentInit=function(){this._watchStateChanges()},e.prototype._open=function(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())},e.prototype._watchStateChanges=function(){var e=this,t=this.datepicker?this.datepicker._disabledChange:s.of(),a=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:s.of(),n=this.datepicker?s.merge(this.datepicker.openedStream,this.datepicker.closedStream):s.of();this._stateChanges.unsubscribe(),this._stateChanges=s.merge(this._intl.changes,t,a,n).subscribe(function(){return e._changeDetectorRef.markForCheck()})},e.decorators=[{type:r.Component,args:[{selector:"nx-datepicker-toggle",template:'<button class="nx-datepicker-toggle-button"\n        [tabindex]="tabindex"\n        type="button"\n        [attr.aria-label]="_intl.openCalendarLabel"\n        [disabled]="disabled"\n        (click)="_open($event)">\n\n  <svg\n    *ngIf="!_customIcon"\n    class="default-icon"\n    viewBox="0 0 24 24"\n    width="24px"\n    height="24px"\n    fill="currentColor"\n    focusable="false">\n    <path d="M5.2002,17 L5.2002,15 C5.2002,14.45 5.6502,14 6.2002,14 L8.2002,14 C8.7502,14 9.2002,14.45 9.2002,15 L9.2002,17 C9.2002,17.55 8.7502,18 8.2002,\n            18 L6.2002,18 C5.6502,18 5.2002,17.55 5.2002,17 L5.2002,17 Z M20.3992,20.4 L3.5992,20.4 L3.5992,11.464 L3.5992,9.464 L3.5992,8 L20.3992,8 L20.3992,\n            20.4 Z M21.0002,3 L20.0002,3 L19.0002,3 L19.0002,2 C19.0002,1.447 18.5532,1 18.0002,1 C17.4472,1 17.0002,1.447 17.0002,2 L17.0002,3 L16.4002,3 L7.5992,\n            3 L7.0002,3 L7.0002,2 C7.0002,1.447 6.5532,1 6.0002,1 C5.4472,1 5.0002,1.447 5.0002,2 L5.0002,3 L4.0002,3 L3.0002,3 C2.4502,3 2.0002,3.45 2.0002,4 L2.0002,\n            9.464 L2.0002,11.464 L2.0002,21 C2.0002,21.55 2.4502,22 3.0002,22 L21.0002,22 C21.5502,22 22.0002,21.55 22.0002,21 L22.0002,4 C22.0002,3.45 21.5502,3 21.0002,3 L21.0002,3 Z" id="path-1"></path>\n  </svg>\n\n  <ng-content select="[nxDatepickerToggleIcon]"></ng-content>\n</button>\n',host:{class:"nx-datepicker-toggle","[class.nx-datepicker-toggle-active]":"datepicker && datepicker.opened","[class.nx-datepicker-toggle--disabled]":"disabled"},exportAs:"nxDatepickerToggle",changeDetection:r.ChangeDetectionStrategy.OnPush,styles:[":host{position:relative;display:flex}:host:active{outline:0}:host:hover{color:#006192;color:var(--hover-primary,#006192)}.nx-datepicker-toggle-button{border:none;background-color:transparent;color:inherit;outline:0;cursor:pointer;padding:0;margin:0}.nx-datepicker-toggle-button::-moz-focus-inner{border:0}.default-icon{display:block;height:24px;height:var(--datefield-toggle-icon-size,24px);width:24px;width:var(--datefield-toggle-icon-size,24px)}:host(.nx-datepicker-toggle--disabled) .nx-datepicker-toggle-button{cursor:not-allowed}:host-context([data-whatinput=keyboard]) .nx-datepicker-toggle-button:focus{border-radius:4px;box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;box-shadow:var(--focus-box-shadow,0 0 0 2px #fff,0 0 0 6px #009de6)}@media screen and (-ms-high-contrast:active){:host-context([data-whatinput=keyboard]) .nx-datepicker-toggle-button:focus{box-shadow:0 0 0 2px background,0 0 0 6px windowText}}"]}]}],e.ctorParameters=function(){return[{type:R},{type:r.ChangeDetectorRef},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[Z]}]}]},e.propDecorators={_customIcon:[{type:r.ContentChild,args:[te,{static:!1}]}],datepicker:[{type:r.Input,args:["for"]}],disabled:[{type:r.Input}],tabindex:[{type:r.Input}]},e}();var ne=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule,n.OverlayModule,a.A11yModule,t.NxIconModule],providers:[M,R,U],declarations:[ee,$,te,ae,X,z,F,T,L,j],exports:[ee,$,te,ae,z,F,T,L,j],entryComponents:[X]}]}],e}();e.DATEPICKER_DEFAULT_OPTIONS=Z,e.NX_DATEFIELD_VALIDATORS=H,e.NX_DATEFIELD_VALUE_ACCESSOR=J,e.NX_DATEPICKER_SCROLL_STRATEGY=B,e.NX_DATEPICKER_SCROLL_STRATEGY_PROVIDER=U,e.NX_DATEPICKER_SCROLL_STRATEGY_PROVIDER_FACTORY=K,e.NX_DATE_FORMATS=I,e.NX_DATE_LOCALE=v,e.NX_DATE_LOCALE_PROVIDER=M,e.NX_NATIVE_DATE_FORMATS=m,e.NativeDateModule=E,e.NxDateAdapter=b,e.NxDateValidators=q,e.NxDatefieldDirective=ee,e.NxDatefieldModule=ne,e.NxDatepickerComponent=$,e.NxDatepickerContentComponent=X,e.NxDatepickerInputEvent=Q,e.NxDatepickerIntl=R,e.NxNativeDateAdapter=O,e.NxNativeDateModule=V,e.Éµa=te,e.Éµb=ae,e.Éµc=z,e.Éµd=T,e.Éµe=F,e.Éµf=j,e.Éµg=L,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-datefield.umd.min.js.map
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@allianz/ngx-ndbx/icon"),require("@angular/cdk/coercion"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/animations"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/a11y")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/message",["exports","@angular/common","@angular/core","@allianz/ngx-ndbx/icon","@angular/cdk/coercion","@angular/cdk/overlay","@angular/cdk/portal","@angular/animations","rxjs","rxjs/operators","@angular/cdk/a11y"],t):t(((e=e||self).allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"].message={}),e.ng.common,e.ng.core,e.allianz["ngx-ndbx"].icon,e.ng.cdk.coercion,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.animations,e.rxjs,e.rxjs.operators,e.ng.cdk.a11y)}(this,function(e,t,o,n,s,r,a,i,c,l,p){"use strict";var g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};var u=function(){return(u=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var s in t=arguments[o])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};var d="info-circle",f="exclamation-triangle",h="check-circle",x="exclamation-circle",_=function(){function e(e){this._changeDetectorRef=e,this._context="regular",this._showIcon=!1,this._closable=!1,this._closeButtonLabel="Close dialog",this.closeEvent=new o.EventEmitter}return Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(e){e!==this._context&&(this._context=e,this._icon=this.getIconName(),this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showIcon",{get:function(){return this._showIcon},set:function(e){this._showIcon=s.coerceBooleanProperty(e),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closable",{get:function(){return this._closable},set:function(e){var t=s.coerceBooleanProperty(e);t!==this._closable&&(this._closable=t,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeButtonLabel",{get:function(){return this._closeButtonLabel},set:function(e){e!==this._closeButtonLabel&&(this._closeButtonLabel=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),e.prototype._emitCloseEvent=function(){this.closeEvent.emit()},e.prototype.getIconName=function(){return"info"===this._context?d:"error"===this._context?f:"success"===this._context?h:"warning"===this._context?x:""},e.decorators=[{type:o.Component,args:[{selector:"nx-message",template:'<nx-icon *ngIf="showIcon && context !== \'regular\'"\n         class="nx-message__icon"\n         [name]="icon"\n         size="s">\n</nx-icon>\n<button\n  *ngIf="closable"\n  (click)="_emitCloseEvent()"\n  [attr.aria-label]="closeButtonLabel"\n  tabindex="0"\n  class="nx-message__close-icon">\n    <nx-icon\n      name="close"\n      size="s"\n      aria-hidden="true">\n    </nx-icon>\n</button>\n\n\n<div class="nx-message__content-wrapper">\n  <div class="nx-message__content">\n    <ng-content></ng-content>\n  </div>\n</div>\n',changeDetection:o.ChangeDetectionStrategy.OnPush,exportAs:"nxMessage",host:{"[class.context-info]":'context === "info"',"[class.context-error]":'context === "error"',"[class.context-success]":'context === "success"',"[class.context-warning]":'context === "warning"',"[class.nx-message--closable]":"closable"},styles:[":host{font-size:16px;font-size:var(--message-font-size,16px);line-height:24px;line-height:var(--message-line-height,24px);font-weight:400;font-weight:var(--message-font-weight,400);letter-spacing:0;letter-spacing:var(--message-letter-spacing,0);color:#414141;color:var(--message-text-color,#414141);border-radius:4px;border-radius:var(--message-border-radius,4px);width:100%;display:flex;align-items:flex-start;text-align:left;position:relative;border:1px solid;padding:23px;margin:12px 0}.nx-message__content-wrapper{max-width:100%}:host,:host(.context-regular){border-color:#414141;border-color:var(--message-regular-border-color,#414141);background-color:#fff;background-color:var(--message-regular-background-color,#fff)}:host(.context-info){border-color:#496ebd;border-color:var(--message-info-border-color,#496ebd);background-color:#ecf0f8;background-color:var(--message-info-background-color,#ecf0f8)}:host(.context-info) .nx-message__icon{color:#496ebd;color:var(--message-info-icon-color,#496ebd)}:host(.context-error){border-color:#dc3149;border-color:var(--message-error-border-color,#dc3149);background-color:#fbeaec;background-color:var(--message-error-background-color,#fbeaec)}:host(.context-error) .nx-message__icon{color:#dc3149;color:var(--message-error-icon-color,#dc3149)}:host(.context-success){border-color:#1e8927;border-color:var(--message-success-border-color,#1e8927);background-color:#e8f3e9;background-color:var(--message-success-background-color,#e8f3e9)}:host(.context-success) .nx-message__icon{color:#1e8927;color:var(--message-success-icon-color,#1e8927)}:host(.context-warning){border-color:#efbe25;border-color:var(--message-warning-border-color,#efbe25);background-color:#fdf8e9;background-color:var(--message-warning-background-color,#fdf8e9)}:host(.context-warning) .nx-message__icon{color:#efbe25;color:var(--message-warning-icon-color,#efbe25)}.nx-message__icon{margin-right:16px}@media (max-width:703px){:host{padding:31px;display:block}:host(.context-error) .nx-message__icon~.nx-message__content-wrapper .nx-message__content,:host(.context-info) .nx-message__icon~.nx-message__content-wrapper .nx-message__content,:host(.context-success) .nx-message__icon~.nx-message__content-wrapper .nx-message__content,:host(.context-warning) .nx-message__icon~.nx-message__content-wrapper .nx-message__content{display:inline;margin-left:31px}.nx-message__icon{position:absolute}}:host(.nx-message--closable){padding-right:39px}@media (max-width:703px){:host(.nx-message--closable){padding-right:31px}}.nx-message__close-icon{position:absolute;top:16px;right:16px;cursor:pointer;background-color:transparent;border:none;outline:0;padding:0;display:flex;align-items:center}.nx-message__close-icon nx-icon{color:#414141;color:var(--message-close-icon-color,#414141);font-size:16px}:host-context([data-whatinput=keyboard]) .nx-message__close-icon:focus{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;box-shadow:var(--focus-box-shadow,0 0 0 2px #fff,0 0 0 6px #009de6);border-radius:4px}@media screen and (-ms-high-contrast:active){:host(.context-error) .nx-message__icon,:host(.context-info) .nx-message__icon,:host(.context-success) .nx-message__icon,:host(.context-warning) .nx-message__icon{color:windowText}:host-context([data-whatinput=keyboard]) .nx-message__close-icon:focus{box-shadow:0 0 0 2px background,0 0 0 6px windowText}}"]}]}],e.ctorParameters=function(){return[{type:o.ChangeDetectorRef}]},e.propDecorators={context:[{type:o.Input,args:["nxContext"]}],showIcon:[{type:o.Input}],closable:[{type:o.Input}],closeButtonLabel:[{type:o.Input}],closeEvent:[{type:o.Output,args:["close"]}]},e}();var m={toastState:i.trigger("state",[i.state("initial, void, hidden",i.style({opacity:0,transform:"translateY(100%)"})),i.state("visible",i.style({opacity:1})),i.transition("* => visible",i.animate("300ms cubic-bezier(0, 0, 0.2, 1)",i.style({opacity:1,transform:"translateY(0)"}))),i.transition("* => hidden",i.animate("300ms cubic-bezier(0, 0, 0.2, 1)",i.style({opacity:0,transform:"translateY(200%)"})))])},b=function(){this.politeness="polite",this.announcementMessage="",this.duration=3e3,this.context="info"};var y=function(e){this.data=e};var v="info-circle",w="check-circle",k=function(e){function t(t,o,n,s){var r=e.call(this)||this;return r._ngZone=t,r._changeDetectorRef=o,r.config=n,r.data=s,r._destroyed=!1,r._onExit=new c.Subject,r._onEnter=new c.Subject,r._animationState="void",r._context=r.config.context,r._setAriaLabels(),r}return function(e,t){function o(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}(t,e),t.prototype.attachComponentPortal=function(e){return this._assertNotAttached(),this._portalOutlet.attachComponentPortal(e)},t.prototype.attachTemplatePortal=function(e){return this._assertNotAttached(),this._portalOutlet.attachTemplatePortal(e)},t.prototype.onAnimationEnd=function(e){var t=e.fromState,o=e.toState;if(("void"===o&&"void"!==t||"hidden"===o)&&this._completeExit(),"visible"===o){var n=this._onEnter;this._ngZone.run(function(){n.next(),n.complete()})}},t.prototype.enter=function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())},t.prototype.exit=function(){this._animationState="hidden"},t.prototype.ngOnDestroy=function(){this._destroyed=!0,this._completeExit()},t.prototype._completeExit=function(){var e=this;this._ngZone.onMicrotaskEmpty.asObservable().pipe(l.take(1)).subscribe(function(){e._onExit.next(),e._onExit.complete()})},t.prototype._assertNotAttached=function(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach message toastcontent after content is already attached")},t.prototype._getIconName=function(){return"success"===this._context?w:v},t.prototype._setAriaLabels=function(){"assertive"!==this.config.politeness||this.config.announcementMessage?"off"===this.config.politeness?this._role=null:this._role="status":this._role="alert"},t.decorators=[{type:o.Component,args:[{selector:"nx-message-toast",template:'<nx-icon class="nx-message__icon" [name]="_getIconName()" size="s">\n</nx-icon>\n\n<div class="nx-message__content-wrapper">\n    \x3c!-- Used when opening from a template --\x3e\n    <ng-template cdkPortalOutlet></ng-template>\n    \x3c!-- Used when opening only with custom text--\x3e\n    <ng-container *ngIf="data">{{data.data}}</ng-container>\n</div>\n',host:{"[attr.role]":"_role","[class.context-info]":'_context === "info"',"[class.context-success]":'_context === "success"',"[@state]":"_animationState","(@state.done)":"onAnimationEnd($event)"},animations:[m.toastState],styles:[":host{font-size:16px;font-size:var(--message-font-size,16px);line-height:24px;line-height:var(--message-line-height,24px);font-weight:400;font-weight:var(--message-font-weight,400);letter-spacing:0;letter-spacing:var(--message-letter-spacing,0);color:#414141;color:var(--message-text-color,#414141);border-radius:4px;border-radius:var(--message-border-radius,4px);width:100%;display:flex;align-items:flex-start;text-align:left;position:relative;border:1px solid;padding:23px 23px 23px 63px;margin:12px 0;box-shadow:0 2px 4px rgba(65,65,65,.5);box-shadow:var(--message-box-shadow,0 2px 4px rgba(65,65,65,.5));max-width:352px}@media (max-width:703px){:host{padding:23px 23px 23px 63px;display:block}}:host(.context-info){border-color:#496ebd;border-color:var(--message-info-border-color,#496ebd);background-color:#ecf0f8;background-color:var(--message-info-background-color,#ecf0f8)}:host(.context-info) .nx-message__icon{color:#496ebd;color:var(--message-info-icon-color,#496ebd)}:host(.context-success){border-color:#1e8927;border-color:var(--message-success-border-color,#1e8927);background-color:#e8f3e9;background-color:var(--message-success-background-color,#e8f3e9)}:host(.context-success) .nx-message__icon{color:#1e8927;color:var(--message-success-icon-color,#1e8927)}@media screen and (-ms-high-contrast:active){:host(.context-info) .nx-message__icon,:host(.context-success) .nx-message__icon{color:windowText}}.nx-message__icon{position:absolute;top:23px;left:23px}"]}]}],t.ctorParameters=function(){return[{type:o.NgZone},{type:o.ChangeDetectorRef},{type:b},{type:y}]},t.propDecorators={_portalOutlet:[{type:o.ViewChild,args:[a.CdkPortalOutlet,{static:!0}]}]},t}(a.BasePortalOutlet);var T=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[t.CommonModule,n.NxIconModule,r.OverlayModule,a.PortalModule],declarations:[_,k],exports:[_],entryComponents:[k]}]}],e}(),O=Math.pow(2,31)-1,M=function(){function e(e,t){var o=this;this._overlayRef=t,this._afterDismissed=new c.Subject,this._afterOpened=new c.Subject,this.toastInstance=e,e._onExit.subscribe(function(){return o._finishDismiss()})}return e.prototype.dismiss=function(){this._afterDismissed.closed||this.toastInstance.exit(),clearTimeout(this._durationTimeoutId)},e.prototype._dismissAfter=function(e){var t=this;this._durationTimeoutId=setTimeout(function(){return t.dismiss()},Math.min(e,O))},e.prototype._open=function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())},e.prototype._finishDismiss=function(){this._overlayRef.dispose(),this._afterDismissed.next(),this._afterDismissed.complete()},e.prototype.afterDismissed=function(){return this._afterDismissed.asObservable()},e.prototype.afterOpened=function(){return this.toastInstance._onEnter},e}();var j=new o.InjectionToken("NX_MESSAGE_TOAST_DEFAULT_CONFIG"),I=function(){function e(e,t,o,n,s){this._overlay=e,this._injector=t,this._live=o,this._parentMessageToastService=n,this._defaultConfig=s,this._toastRefAtThisLevel=null}return Object.defineProperty(e.prototype,"_oldToastMessageRef",{get:function(){var e=this._parentMessageToastService;return e?e._oldToastMessageRef:this._toastRefAtThisLevel},set:function(e){this._parentMessageToastService?this._parentMessageToastService._oldToastMessageRef=e:this._toastRefAtThisLevel=e},enumerable:!0,configurable:!0}),e.prototype.open=function(e,t){var o=u({},new b,this._defaultConfig,t),n=this._createOverlay(o),s=this._createInjector(o,new y(e),this._injector),r=new a.ComponentPortal(k,void 0,s),i=n.attach(r),c=new M(i.instance,n);return this._animateToast(c,o),this._oldToastMessageRef=c,this._oldToastMessageRef},e.prototype.openFromTemplate=function(e,t){var o=u({},new b,this._defaultConfig,t),n=this._createOverlay(o),s=this._attachToastComponent(n,o),r=new M(s,n),i=new a.TemplatePortal(e,null,r);return s.attachTemplatePortal(i),this._animateToast(r,o),this._oldToastMessageRef=r,this._oldToastMessageRef},e.prototype._attachToastComponent=function(e,t){var o=this._createInjector(t,null,this._injector),n=new a.ComponentPortal(k,null,o),s=e.attach(n);return s.instance.config=t,s.instance},e.prototype._createOverlay=function(e){var t=new r.OverlayConfig,o=this._overlay.position().global();return o.bottom("0"),o.centerHorizontally(),t.positionStrategy=o,this._overlay.create(t)},e.prototype._animateToast=function(e,t){var o=this;e.afterDismissed().subscribe(function(){o._oldToastMessageRef===e&&(o._oldToastMessageRef=null),t.announcementMessage&&o._live.clear()}),this._oldToastMessageRef?(this._oldToastMessageRef.afterDismissed().subscribe(function(){e.toastInstance.enter()}),this._oldToastMessageRef.dismiss()):e.toastInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(function(){return e._dismissAfter(t.duration)}),t.announcementMessage&&this._live.announce(t.announcementMessage,t.politeness)},e.prototype._createInjector=function(e,t,o){var n=new WeakMap;return n.set(b,e),n.set(y,t),new a.PortalInjector(o,n)},e.prototype.dismiss=function(){this._oldToastMessageRef&&this._oldToastMessageRef.dismiss()},e.prototype.ngOnDestroy=function(){this._toastRefAtThisLevel&&this._toastRefAtThisLevel.dismiss()},e.decorators=[{type:o.Injectable,args:[{providedIn:T}]}],e.ctorParameters=function(){return[{type:r.Overlay},{type:o.Injector},{type:p.LiveAnnouncer},{type:e,decorators:[{type:o.Optional},{type:o.SkipSelf}]},{type:b,decorators:[{type:o.Optional},{type:o.Inject,args:[j]}]}]},e.ngInjectableDef=o.ɵɵdefineInjectable({factory:function(){return new e(o.ɵɵinject(r.Overlay),o.ɵɵinject(o.INJECTOR),o.ɵɵinject(p.LiveAnnouncer),o.ɵɵinject(e,12),o.ɵɵinject(j,8))},token:e,providedIn:T}),e}();e.NX_MESSAGE_TOAST_DEFAULT_CONFIG=j,e.NxMessageComponent=_,e.NxMessageModule=T,e.NxMessageToastComponent=k,e.NxMessageToastConfig=b,e.NxMessageToastData=y,e.NxMessageToastRef=M,e.NxMessageToastService=I,e.messageToastAnimations=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-message.umd.min.js.map
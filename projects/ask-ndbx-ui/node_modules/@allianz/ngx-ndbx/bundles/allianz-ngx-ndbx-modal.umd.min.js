!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@allianz/ngx-ndbx/icon"),require("@angular/core"),require("rxjs"),require("@angular/platform-browser"),require("@angular/animations"),require("@angular/common"),require("@angular/cdk/a11y")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/modal",["exports","@allianz/ngx-ndbx/icon","@angular/core","rxjs","@angular/platform-browser","@angular/animations","@angular/common","@angular/cdk/a11y"],n):n(((e=e||self).allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"].modal={}),e.allianz["ngx-ndbx"].icon,e.ng.core,e.rxjs,e.ng.platformBrowser,e.ng.animations,e.ng.common,e.ng.cdk.a11y)}(this,function(e,n,t,o,i,a,r,c){"use strict";var s=function(){function e(){this.subject=new o.Subject,this.close$=this.subject.asObservable()}return e.prototype.close=function(){this.subject.next()},e.decorators=[{type:t.Injectable}],e}();var l=a.animation([a.style({opacity:0}),a.animate("300ms",a.style({opacity:1}))]),d=a.animation(a.animate("300ms",a.style({opacity:0}))),p=a.animation([a.style({transform:"scale(1)",opacity:1}),a.animate("250ms",a.style({transform:"scale(1.3)",opacity:0}))]),u=a.animation([a.style({transform:"scale(1.3)",opacity:0}),a.animate("250ms",a.style({transform:"scale(1)",opacity:1}))]),x=function(){function e(){}return e.decorators=[{type:t.Directive,args:[{selector:"[nxModalActions]",host:{"[class.nx-modal__actions]":"true"}}]}],e}(),m=function(){function e(){}return e.decorators=[{type:t.Directive,args:[{selector:"[nxModalContent]",host:{"[class.nx-modal__content]":"true"}}]}],e}(),h=function(){function e(e,n,i){this.modalService=e,this.eventManager=n,this._changeDetectorRef=i,this._closeButtonLabel="Close dialog",this.hideOnEsc=!0,this.hideOnClickOutside=!0,this.showCloseIcon=!0,this.closeEvent=new t.EventEmitter,this.closeSubscription=o.Subscription.EMPTY,this.removeEventListener=void 0}return Object.defineProperty(e.prototype,"closeButtonLabel",{get:function(){return this._closeButtonLabel},set:function(e){e!==this._closeButtonLabel&&(this._closeButtonLabel=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.closeSubscription=this.modalService.close$.subscribe(function(){return e.closeEvent.emit()}),this.removeEventListener=this.eventManager.addGlobalEventListener("window","keyup.esc",function(){e.hideOnEsc&&e.modalService.close()})},e.prototype.ngOnDestroy=function(){this.removeEventListener(),this.closeSubscription.unsubscribe()},e.prototype.clickOutsideModal=function(){this.hideOnClickOutside&&this.modalService.close()},e.prototype.closeButtonClick=function(){this.modalService.close()},e.prototype.cancelClick=function(e){e.stopPropagation()},e.decorators=[{type:t.Component,args:[{selector:"nx-modal",template:'<div class="nx-modal" role="dialog" cdkTrapFocus cdkTrapFocusAutoCapture cdkFocusInitial>\n  <div class="nx-modal__backdrop" (click)="clickOutsideModal()">\n    <div class="nx-modal__position">\n      <div class="nx-modal__container" (click)="cancelClick($event)" [@scaleUpDown]>\n\n        <button\n          (click)="closeButtonClick()"\n          *ngIf="showCloseIcon"\n          [attr.aria-label]="closeButtonLabel"\n          class="nx-modal__close"\n          type="button">\n          <nx-icon name="close"></nx-icon>\n        </button>\n\n        <div class="nx-modal__content-wrapper">\n          <ng-container *ngIf="body else projectContent">\n            <ng-container *ngTemplateOutlet="body"></ng-container>\n          </ng-container>\n\n          <ng-template #projectContent>\n            <ng-content></ng-content>\n          </ng-template>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,animations:[a.trigger("fadeInOut",[a.transition(":enter",[a.useAnimation(l),a.query("@scaleUpDown",[a.animateChild()])]),a.transition(":leave",[a.query("@scaleUpDown",[a.animateChild()]),a.useAnimation(d)])]),a.trigger("scaleUpDown",[a.transition(":enter",a.useAnimation(u)),a.transition(":leave",a.useAnimation(p))])],host:{"[@fadeInOut]":"","[class.nx-modal--fixed-width]":'size === "fixed"'},styles:[":host{position:relative;z-index:1000}.nx-modal{display:flex;position:fixed;width:100vw;height:100vh;top:0;bottom:0;left:0;right:0;z-index:1000;align-items:center;justify-content:center;transition:opacity .3s}.nx-modal__backdrop{background-color:rgba(0,0,0,.35);height:100%;left:0;position:absolute;top:0;width:100%;z-index:-1}.nx-modal__position{position:absolute;display:inline-block;top:50%;left:50%;transform:translate(-50%,-50%);z-index:20}.nx-modal__container{border-radius:4px;box-shadow:0 8px 24px rgba(65,65,65,.35);background:#fff;background:var(--modal-background-color,#fff);color:#414141;color:var(--modal-text-color,#414141)}.nx-modal__content-wrapper{padding:40px 40px 48px;max-height:calc(100vh - 48px);overflow-y:auto}@media (max-width:703px){.nx-modal__content-wrapper{max-height:70vh;padding:40px 32px 48px}}.nx-modal__close{background-color:transparent;border:none;cursor:pointer;position:absolute;top:16px;right:16px;height:24px;outline:0;padding:0;color:#414141;color:var(--modal-close-icon-color,#414141)}.nx-modal__close nx-icon{font-size:24px}.nx-modal__close::-moz-focus-inner{border:0}:host-context([data-whatinput=keyboard]) .nx-modal__close:focus{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;box-shadow:var(--focus-box-shadow,0 0 0 2px #fff,0 0 0 6px #009de6);border-radius:4px}@media (max-width:703px){.nx-modal__position{width:100%}.nx-modal__container{position:relative;max-width:calc(100vw - 16px);max-height:70vh;margin:0 auto}}:host(.nx-modal--fixed-width) .nx-modal__container{width:736px;max-width:calc(100vw - 16px)}::ng-deep .nx-modal__actions{height:72px;border-top:1px solid #d9d9d9;border-top:1px solid var(--modal-actions-border-color,#d9d9d9);display:flex;align-items:center;justify-content:flex-end;padding:0 40px;position:absolute;bottom:0;left:0;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px;background:#fff;background:var(--modal-actions-background-color,#fff)}::ng-deep .nx-modal__content{overflow-y:auto;max-height:calc(100vh - 72px - 48px)}@media (max-width:703px){::ng-deep .nx-modal__content{max-height:calc(70vh - 72px - 48px)}}@media screen and (-ms-high-contrast:active){:host-context([data-whatinput=keyboard]) .nx-modal__close:focus{box-shadow:0 0 0 2px background,0 0 0 6px windowText}.nx-modal__content-wrapper,::ng-deep .nx-modal__actions{border:2px solid windowText}}"]}]}],e.ctorParameters=function(){return[{type:s},{type:i.EventManager},{type:t.ChangeDetectorRef}]},e.propDecorators={closeButtonLabel:[{type:t.Input}],body:[{type:t.Input,args:["nxBody"]}],hideOnEsc:[{type:t.Input,args:["nxHideOnEsc"]}],hideOnClickOutside:[{type:t.Input,args:["nxHideOnClickOutside"]}],showCloseIcon:[{type:t.Input,args:["nxShowCloseIcon"]}],size:[{type:t.Input,args:["nxSize"]}],closeEvent:[{type:t.Output,args:["nxClose"]}]},e}();var f=function(){function e(e,n,t){var o=this;this.templateRef=e,this.viewContainer=n,this.modalService=t,this.clickHandler=function(e){o.viewContainer.clear(),o.viewContainer.createEmbeddedView(o.templateRef).markForCheck(),e.preventDefault(),e.stopPropagation()}}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.modalService.close$.subscribe(function(){return e.viewContainer.clear()})},e.prototype.ngOnDestroy=function(){var e=this;this.elements.forEach(function(n){n.removeEventListener&&n.removeEventListener("click",e.clickHandler)}),this.subscription.unsubscribe()},Object.defineProperty(e.prototype,"nxOpenModalOnClick",{set:function(e){var n=this;e.length?this.elements=e:this.elements=[e],this.elements.forEach(function(e){e.addEventListener?e.addEventListener("click",n.clickHandler):e.elementRef?e.elementRef.nativeElement.addEventListener("click",n.clickHandler):console.warn("nxOpenModalOnClick: Given Element doesn't appear to be an ElementRef.",e)})},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Directive,args:[{selector:"[nxOpenModalOnClick]"}]}],e.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef},{type:s}]},e.propDecorators={nxOpenModalOnClick:[{type:t.Input}]},e}();var g=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[s]}},e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,c.A11yModule,n.NxIconModule],declarations:[h,f,x,m],exports:[h,f,x,m]}]}],e}();e.NxModalActionsDirective=x,e.NxModalComponent=h,e.NxModalContentDirective=m,e.NxModalModule=g,e.NxModalService=s,e.NxOpenModalOnClickDirective=f,e.ɵa=l,e.ɵb=d,e.ɵc=p,e.ɵd=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-modal.umd.min.js.map
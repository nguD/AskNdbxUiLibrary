{"version":3,"file":"allianz-ngx-ndbx-tree.js","sources":["ng://@allianz/ngx-ndbx/tree/data-source/flat-data-source.ts","ng://@allianz/ngx-ndbx/tree/data-source/flat-tree-control.ts","ng://@allianz/ngx-ndbx/tree/data-source/tree-node.ts","ng://@allianz/ngx-ndbx/tree/node.ts","ng://@allianz/ngx-ndbx/tree/outlet.ts","ng://@allianz/ngx-ndbx/tree/padding.ts","ng://@allianz/ngx-ndbx/tree/toggle.ts","ng://@allianz/ngx-ndbx/tree/tree.component.ts","ng://@allianz/ngx-ndbx/tree/tree.module.ts"],"sourcesContent":["import {CollectionViewer, DataSource} from '@angular/cdk/collections';\nimport {BehaviorSubject, merge, Observable, of} from 'rxjs';\nimport {map, take} from 'rxjs/operators';\nimport { NxTreeNode, NxFlatTreeNode } from './tree-node';\nimport { NxFlatTreeControl } from './flat-tree-control';\nimport { TreeControl, FlatTreeControl } from '@angular/cdk/tree';\n\n/**\n * Tree flattener to convert a normal type of node to node with children & level information.\n * Transform nested nodes of type `T extends NxTreeNode` to flattened nodes of type `F extends NxFlatTreeNode`.\n *\n * For example, the input data of type `T` is nested, and contains its children data:\n *   SomeNode: {\n *     key: 'Fruits',\n *     children: [\n *       NodeOne: {\n *         key: 'Apple',\n *       },\n *       NodeTwo: {\n *        key: 'Pear',\n *      }\n *    ]\n *  }\n *  After flattener flatten the tree, the structure will become\n *  SomeNode: {\n *    key: 'Fruits',\n *    expandable: true,\n *    level: 1\n *  },\n *  NodeOne: {\n *    key: 'Apple',\n *    expandable: false,\n *    level: 2\n *  },\n *  NodeTwo: {\n *   key: 'Pear',\n *   expandable: false,\n *   level: 2\n * }\n * and the output flattened type is `F extends NxFlatTreeNode` with additional information.\n */\nclass NxTreeFlattener<T extends NxTreeNode, F extends NxFlatTreeNode> {\n  transformFunction(node: NxTreeNode, level: number): F {\n    const { children, ...rest } = node;\n    return {\n      ...rest,\n      level,\n      expandable: Array.isArray(children) && children.length > 0\n    } as F;\n  }\n\n  getLevel(node: F): number {\n    return node.level;\n  }\n\n  isExpandable(node: F): boolean {\n    return node.expandable;\n  }\n\n  getChildren(node: T): Observable<T[]> | T[] {\n    return node.children as T[];\n  }\n\n  _flattenNode(node: T, level: number,\n               resultNodes: F[], parentMap: boolean[]): F[] {\n    const flatNode = this.transformFunction(node, level);\n    resultNodes.push(flatNode);\n\n    if (this.isExpandable(flatNode)) {\n      const childrenNodes = this.getChildren(node);\n      if (Array.isArray(childrenNodes)) {\n        this._flattenChildren(childrenNodes, level, resultNodes, parentMap);\n      } else {\n        childrenNodes.pipe(take(1)).subscribe(children => {\n          this._flattenChildren(children, level, resultNodes, parentMap);\n        });\n      }\n    }\n    return resultNodes;\n  }\n\n  _flattenChildren(children: T[], level: number,\n                   resultNodes: F[], parentMap: boolean[]): void {\n    children.forEach((child, index) => {\n      const childParentMap: boolean[] = parentMap.slice();\n      childParentMap.push(index != children.length - 1); // tslint:disable-line\n      this._flattenNode(child, level + 1, resultNodes, childParentMap);\n    });\n  }\n\n  /**\n   * Flatten a list of node type T to flattened version of node F.\n   * Please note that type T may be nested, and the length of `structuredData` may be different\n   * from that of returned list `F[]`.\n   */\n  flattenNodes(structuredData: T[]): F[] {\n    const resultNodes: F[] = [];\n    structuredData.forEach(node => this._flattenNode(node, 0, resultNodes, []));\n    return resultNodes;\n  }\n\n  /**\n   * Expand flattened node with current expansion status.\n   * The returned list may have different length.\n   */\n  expandFlattenedNodes(nodes: F[], treeControl: TreeControl<F>): F[] {\n    const results: F[] = [];\n    const currentExpand: boolean[] = [];\n    currentExpand[0] = true;\n\n    nodes.forEach(node => {\n      let expand = true;\n      for (let i = 0; i <= this.getLevel(node); i++) {\n        expand = expand && currentExpand[i];\n      }\n      if (expand) {\n        results.push(node);\n      }\n      if (this.isExpandable(node)) {\n        currentExpand[this.getLevel(node) + 1] = treeControl.isExpanded(node);\n      }\n    });\n    return results;\n  }\n}\n\n/**\n * Data source for flat tree.\n * The data source need to handle expansion/collapsion of the tree node and change the data feed\n * to `NxTree`.\n * The nested tree nodes of type `T extends NxTreeNode` are flattened through `NxTreeFlattener`, and converted\n * to type `F extends NxFlatTreeNode` for `NxTree` to consume.\n */\nexport class NxTreeFlatDataSource<T extends NxTreeNode, F extends NxFlatTreeNode> extends DataSource<F> {\n  _treeFlattener: NxTreeFlattener<T, F>;\n\n  _flattenedData = new BehaviorSubject<F[]>([]);\n\n  _expandedData = new BehaviorSubject<F[]>([]);\n\n  _data = new BehaviorSubject<T[]>([]);\n\n  get data() { return this._data.value; }\n  set data(value: T[]) {\n    this._data.next(value);\n    this._flattenedData.next(this._treeFlattener.flattenNodes(this.data));\n    this.treeControl.dataNodes = this._flattenedData.value;\n  }\n\n  constructor(private treeControl: FlatTreeControl<F>,\n              initialData: T[] = []) {\n    super();\n    this._treeFlattener = new NxTreeFlattener();\n    this.data = initialData;\n  }\n\n  connect(collectionViewer: CollectionViewer): Observable<F[]> {\n    const changes = [\n      collectionViewer.viewChange,\n      this.treeControl.expansionModel.changed,\n      this._flattenedData\n    ];\n    return merge(...changes).pipe(map(() => {\n      this._expandedData.next(\n        this._treeFlattener.expandFlattenedNodes(this._flattenedData.value, this.treeControl));\n      return this._expandedData.value;\n    }));\n  }\n\n  disconnect() {\n    // no op\n  }\n}\n","import { FlatTreeControl } from '@angular/cdk/tree';\nimport { NxFlatTreeNode } from './tree-node';\n\n/** Flat tree control.\n  Able to expand/collapse a subtree recursively for flattened tree.\n*/\nexport class NxFlatTreeControl<F extends NxFlatTreeNode> extends FlatTreeControl<F> {\n  constructor() {\n    super(node => node.level, node => node.expandable);\n  }\n}\n","/**\n  This interface defines a single node of the trees data structure.\n*/\nexport interface NxTreeNode {\n  children?: NxTreeNode[];\n}\n\n/**\n  Flat node with level information.\n*/\nexport interface NxFlatTreeNode {\n  expandable: boolean;\n  level: number;\n}\n","import {CdkTreeNode, CdkTreeNodeDef} from '@angular/cdk/tree';\nimport {\n  Component,\n  Directive,\n  Input,\n} from '@angular/core';\n\n/**\n * Wrapper for the CdkTree node with NDBX design styles.\n */\n@Component({\n  selector: 'nx-tree-node',\n  exportAs: 'nxTreeNode',\n  inputs: ['disabled', 'tabIndex'],\n  host: {\n    '[attr.aria-expanded]': 'isExpanded',\n    '[attr.aria-level]': 'role === \"treeitem\" ? level : null',\n    '[attr.role]': 'role',\n    'class': 'nx-tree__node',\n    '[class.is-expanded]': 'isExpanded'\n  },\n  providers: [{provide: CdkTreeNode, useExisting: NxTreeNodeComponent}],\n  templateUrl: './node.html'\n})\nexport class NxTreeNodeComponent<T> extends CdkTreeNode<T> {}\n\n/**\n * Wrapper for the CdkTree node definition with NDBX design styles.\n */\n@Directive({\n  selector: '[nxTreeNodeDef]',\n  inputs: [\n    'when: nxTreeNodeDefWhen'\n  ],\n  providers: [{provide: CdkTreeNodeDef, useExisting: NxTreeNodeDefDirective}]\n})\nexport class NxTreeNodeDefDirective<T> extends CdkTreeNodeDef<T> {\n  @Input('nxTreeNode') data: T;\n}\n","import {CdkTreeNodeOutlet} from '@angular/cdk/tree';\nimport {\n  Directive,\n  ViewContainerRef,\n} from '@angular/core';\n\n/**\n * Outlet for nested CdkNode. Put `[nxTreeNodeOutlet]` on a tag to place children dataNodes\n * inside the outlet.\n */\n@Directive({\n  selector: '[nxTreeNodeOutlet]'\n})\nexport class NxTreeNodeOutletDirective implements CdkTreeNodeOutlet {\n  constructor(public viewContainer: ViewContainerRef) {}\n}\n","import {CdkTree, CdkTreeNode} from '@angular/cdk/tree';\nimport {Directive, Input, Renderer2, ElementRef, Optional, OnDestroy} from '@angular/core';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {coerceNumberProperty} from '@angular/cdk/coercion';\nimport {takeUntil} from 'rxjs/operators';\nimport {Subject} from 'rxjs';\n\n/** Regex used to split a string on its CSS units. */\nconst cssUnitPattern = /([A-Za-z%]+)$/;\n\n/**\n * Indent for the children tree dataNodes.\n * This directive will add left-padding to the node to show hierarchy.\n */\n@Directive({\n  selector: '[nxTreeNodePadding]',\n})\nexport class NxTreeNodePaddingDirective<T> implements OnDestroy {\n  /** Subject that emits when the component has been destroyed. */\n  private _destroyed = new Subject<void>();\n\n  /** CSS units used for the indentation value. */\n  indentUnits = 'px';\n\n  /** The level of depth of the tree node. The padding will be `level * indent` pixels. */\n  @Input('nxTreeNodePadding')\n  get level(): number { return this._level; }\n  set level(value: number) {\n    this._level = coerceNumberProperty(value);\n    this._setPadding();\n  }\n  _level: number;\n\n  /** The offset is added once on top of each indent. Default number is 0. */\n  @Input('nxTreeNodePaddingOffset')\n  get offset(): number { return this._offset; }\n  set offset(value: number) {\n    this._offset = coerceNumberProperty(value);\n    this._setPadding();\n  }\n  _offset: number = 0;\n\n  /**\n   * The indent for each level. Can be a number or a CSS string.\n   * Default number 24px from material design menu sub-menu spec.\n   */\n  @Input('nxTreeNodePaddingIndent')\n  get indent(): number | string { return this._indent; }\n  set indent(indent: number | string) {\n    let value = indent;\n    let units = 'px';\n\n    if (typeof indent === 'string') {\n      const parts = indent.split(cssUnitPattern);\n      value = parts[0];\n      units = parts[1] || units;\n    }\n\n    this.indentUnits = units;\n    this._indent = coerceNumberProperty(value);\n    this._setPadding();\n  }\n  _indent: number = 24;\n\n  constructor(private _treeNode: CdkTreeNode<T>,\n              private _tree: CdkTree<T>,\n              private _renderer: Renderer2,\n              private _element: ElementRef<HTMLElement>,\n              @Optional() private _dir: Directionality) {\n    this._setPadding();\n    if (this._dir) {\n      this._dir.change.pipe(takeUntil(this._destroyed)).subscribe(() => this._setPadding());\n    }\n  }\n\n  ngOnDestroy() {\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n\n  /** The padding indent value for the tree node. Returns a string with px numbers if not null. */\n  _paddingIndent(): string|null {\n    const nodeLevel = (this._treeNode.data && this._tree.treeControl.getLevel)\n      ? this._tree.treeControl.getLevel(this._treeNode.data)\n      : null;\n    const level = this._level || nodeLevel;\n    return level ? `${level * this._indent + this._offset}${this.indentUnits}` : null;\n  }\n\n  _setPadding() {\n    const padding = this._paddingIndent();\n    const paddingProp = this._dir && this._dir.value === 'rtl' ? 'paddingRight' : 'paddingLeft';\n    this._renderer.setStyle(this._element.nativeElement, paddingProp, padding);\n  }\n}\n","import {CdkTreeNodeToggle} from '@angular/cdk/tree';\nimport {Directive, Input} from '@angular/core';\n\n/**\n * Wrapper for the CdkTree's toggle with NDBX design styles.\n */\n@Directive({\n  selector: '[nxTreeNodeToggle]',\n  providers: [{provide: CdkTreeNodeToggle, useExisting: NxTreeNodeToggleDirective}]\n})\nexport class NxTreeNodeToggleDirective<T> extends CdkTreeNodeToggle<T> {\n  @Input('nxTreeNodeToggleRecursive') recursive: boolean = false;\n}\n","import { CdkTree } from '@angular/cdk/tree';\nimport { ChangeDetectionStrategy, Component, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { NxTreeNodeOutletDirective } from './outlet';\n\n/**\n * Wrapper for the CdkTable with NDBX design styles.\n */\n@Component({\n  selector: 'nx-tree',\n  exportAs: 'nxTree',\n  template: `<ng-container nxTreeNodeOutlet></ng-container>`,\n  host: {\n    'class': 'nx-tree',\n    'role': 'tree',\n  },\n  styleUrls: ['tree.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [{ provide: CdkTree, useExisting: NxTreeComponent }]\n})\nexport class NxTreeComponent<T> extends CdkTree<T> {\n  // Outlets within the tree's template where the dataNodes will be inserted.\n  @ViewChild(NxTreeNodeOutletDirective, { static: true }) _nodeOutlet: NxTreeNodeOutletDirective;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NxTreeComponent } from './tree.component';\nimport { CdkTreeModule } from '@angular/cdk/tree';\nimport { NxTreeNodeComponent, NxTreeNodeDefDirective } from './node';\nimport { NxTreeNodePaddingDirective } from './padding';\nimport { NxTreeNodeToggleDirective } from './toggle';\nimport { NxTreeNodeOutletDirective } from './outlet';\n\n@NgModule({\n  imports: [ CdkTreeModule, CommonModule ],\n  declarations: [ NxTreeComponent, NxTreeNodeComponent, NxTreeNodeDefDirective,\n    NxTreeNodePaddingDirective, NxTreeNodeToggleDirective, NxTreeNodeOutletDirective],\n  exports: [ NxTreeComponent, NxTreeNodeComponent, NxTreeNodeDefDirective,\n    NxTreeNodePaddingDirective, NxTreeNodeToggleDirective, NxTreeNodeOutletDirective]\n})\nexport class NxTreeModule { }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,MAAM,eAAe;;;;;;IACnB,iBAAiB,CAAC,IAAgB,EAAE,KAAa;cACzC,EAAE,QAAQ,KAAc,IAAI,EAAhB,iCAAO;QACzB,4CACK,IAAI,IACP,KAAK,EACL,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,MACrD;KACR;;;;;IAED,QAAQ,CAAC,IAAO;QACd,OAAO,IAAI,CAAC,KAAK,CAAC;KACnB;;;;;IAED,YAAY,CAAC,IAAO;QAClB,OAAO,IAAI,CAAC,UAAU,CAAC;KACxB;;;;;IAED,WAAW,CAAC,IAAO;QACjB,0BAAO,IAAI,CAAC,QAAQ,GAAQ;KAC7B;;;;;;;;IAED,YAAY,CAAC,IAAO,EAAE,KAAa,EACtB,WAAgB,EAAE,SAAoB;;cAC3C,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC;QACpD,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE3B,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE;;kBACzB,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;YAC5C,IAAI,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;gBAChC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,CAAC,CAAC;aACrE;iBAAM;gBACL,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;;;;gBAAC,QAAQ;oBAC5C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,CAAC,CAAC;iBAChE,EAAC,CAAC;aACJ;SACF;QACD,OAAO,WAAW,CAAC;KACpB;;;;;;;;IAED,gBAAgB,CAAC,QAAa,EAAE,KAAa,EAC5B,WAAgB,EAAE,SAAoB;QACrD,QAAQ,CAAC,OAAO;;;;;QAAC,CAAC,KAAK,EAAE,KAAK;;kBACtB,cAAc,GAAc,SAAS,CAAC,KAAK,EAAE;YACnD,cAAc,CAAC,IAAI,CAAC,KAAK,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,GAAG,CAAC,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC;SAClE,EAAC,CAAC;KACJ;;;;;;;;IAOD,YAAY,CAAC,cAAmB;;cACxB,WAAW,GAAQ,EAAE;QAC3B,cAAc,CAAC,OAAO;;;;QAAC,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,CAAC,EAAC,CAAC;QAC5E,OAAO,WAAW,CAAC;KACpB;;;;;;;;IAMD,oBAAoB,CAAC,KAAU,EAAE,WAA2B;;cACpD,OAAO,GAAQ,EAAE;;cACjB,aAAa,GAAc,EAAE;QACnC,aAAa,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QAExB,KAAK,CAAC,OAAO;;;;QAAC,IAAI;;gBACZ,MAAM,GAAG,IAAI;YACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC7C,MAAM,GAAG,MAAM,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC;aACrC;YACD,IAAI,MAAM,EAAE;gBACV,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACpB;YACD,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;gBAC3B,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;aACvE;SACF,EAAC,CAAC;QACH,OAAO,OAAO,CAAC;KAChB;CACF;;;;;;;;;AASD,MAAa,oBAAqE,SAAQ,UAAa;;;;;IAgBrG,YAAoB,WAA+B,EACvC,cAAmB,EAAE;QAC/B,KAAK,EAAE,CAAC;QAFU,gBAAW,GAAX,WAAW,CAAoB;QAbnD,mBAAc,GAAG,IAAI,eAAe,CAAM,EAAE,CAAC,CAAC;QAE9C,kBAAa,GAAG,IAAI,eAAe,CAAM,EAAE,CAAC,CAAC;QAE7C,UAAK,GAAG,IAAI,eAAe,CAAM,EAAE,CAAC,CAAC;QAYnC,IAAI,CAAC,cAAc,GAAG,IAAI,eAAe,EAAE,CAAC;QAC5C,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC;KACzB;;;;IAZD,IAAI,IAAI,KAAK,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;;;;;IACvC,IAAI,IAAI,CAAC,KAAU;QACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtE,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;KACxD;;;;;IASD,OAAO,CAAC,gBAAkC;;cAClC,OAAO,GAAG;YACd,gBAAgB,CAAC,UAAU;YAC3B,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO;YACvC,IAAI,CAAC,cAAc;SACpB;QACD,OAAO,KAAK,CAAC,GAAG,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG;;;QAAC;YAChC,IAAI,CAAC,aAAa,CAAC,IAAI,CACrB,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACzF,OAAO,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;SACjC,EAAC,CAAC,CAAC;KACL;;;;IAED,UAAU;;KAET;CACF;;;IAtCC,8CAAsC;;IAEtC,8CAA8C;;IAE9C,6CAA6C;;IAE7C,qCAAqC;;;;;IASzB,2CAAuC;;;;;;;;ACrJrD;;;;;AAMA,MAAa,iBAA4C,SAAQ,eAAkB;IACjF;QACE,KAAK;;;;QAAC,IAAI,IAAI,IAAI,CAAC,KAAK;;;;QAAE,IAAI,IAAI,IAAI,CAAC,UAAU,EAAC,CAAC;KACpD;CACF;;;;;;;;;;;ACPD,yBAEC;;;IADC,8BAAwB;;;;;;AAM1B,6BAGC;;;IAFC,oCAAoB;;IACpB,+BAAc;;;;;;;;ACZhB;;;;AAwBA,MAAa,mBAAuB,SAAQ,WAAc;;;YAdzD,SAAS,SAAC;gBACT,QAAQ,EAAE,cAAc;gBACxB,QAAQ,EAAE,YAAY;gBACtB,MAAM,EAAE,CAAC,UAAU,EAAE,UAAU,CAAC;gBAChC,IAAI,EAAE;oBACJ,sBAAsB,EAAE,YAAY;oBACpC,mBAAmB,EAAE,oCAAoC;oBACzD,aAAa,EAAE,MAAM;oBACrB,OAAO,EAAE,eAAe;oBACxB,qBAAqB,EAAE,YAAY;iBACpC;gBACD,SAAS,EAAE,CAAC,EAAC,OAAO,EAAE,WAAW,EAAE,WAAW,EAAE,mBAAmB,EAAC,CAAC;gBACrE,oFAA0B;aAC3B;;;;;;AAaD,MAAa,sBAA0B,SAAQ,cAAiB;;;YAP/D,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;gBAC3B,MAAM,EAAE;oBACN,yBAAyB;iBAC1B;gBACD,SAAS,EAAE,CAAC,EAAC,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,sBAAsB,EAAC,CAAC;aAC5E;;;mBAEE,KAAK,SAAC,YAAY;;;;IAAnB,sCAA6B;;;;;;;;ACpC/B;;;;AAYA,MAAa,yBAAyB;;;;IACpC,YAAmB,aAA+B;QAA/B,kBAAa,GAAb,aAAa,CAAkB;KAAI;;;YAJvD,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;aAC/B;;;;YATC,gBAAgB;;;;IAWJ,kDAAsC;;;;;;;;ACdpD;;;;MAQM,cAAc,GAAG,eAAe;;;;;;AAStC,MAAa,0BAA0B;;;;;;;;IA+CrC,YAAoB,SAAyB,EACzB,KAAiB,EACjB,SAAoB,EACpB,QAAiC,EACrB,IAAoB;QAJhC,cAAS,GAAT,SAAS,CAAgB;QACzB,UAAK,GAAL,KAAK,CAAY;QACjB,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAyB;QACrB,SAAI,GAAJ,IAAI,CAAgB;;;;QAjD5C,eAAU,GAAG,IAAI,OAAO,EAAQ,CAAC;;;;QAGzC,gBAAW,GAAG,IAAI,CAAC;QAkBnB,YAAO,GAAW,CAAC,CAAC;QAsBpB,YAAO,GAAW,EAAE,CAAC;QAOnB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS;;;YAAC,MAAM,IAAI,CAAC,WAAW,EAAE,EAAC,CAAC;SACvF;KACF;;;;;IAhDD,IACI,KAAK,KAAa,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE;;;;;IAC3C,IAAI,KAAK,CAAC,KAAa;QACrB,IAAI,CAAC,MAAM,GAAG,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;;;;;IAID,IACI,MAAM,KAAa,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE;;;;;IAC7C,IAAI,MAAM,CAAC,KAAa;QACtB,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC3C,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;;;;;;IAOD,IACI,MAAM,KAAsB,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE;;;;;IACtD,IAAI,MAAM,CAAC,MAAuB;;YAC5B,KAAK,GAAG,MAAM;;YACd,KAAK,GAAG,IAAI;QAEhB,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;;kBACxB,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC;YAC1C,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACjB,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC;SAC3B;QAED,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC3C,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;;;;IAcD,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;KAC5B;;;;;IAGD,cAAc;;cACN,SAAS,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ;cACrE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;cACpD,IAAI;;cACF,KAAK,GAAG,IAAI,CAAC,MAAM,IAAI,SAAS;QACtC,OAAO,KAAK,GAAG,GAAG,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC;KACnF;;;;IAED,WAAW;;cACH,OAAO,GAAG,IAAI,CAAC,cAAc,EAAE;;cAC/B,WAAW,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,GAAG,cAAc,GAAG,aAAa;QAC3F,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,WAAW,EAAE,OAAO,CAAC,CAAC;KAC5E;;;YA/EF,SAAS,SAAC;gBACT,QAAQ,EAAE,qBAAqB;aAChC;;;;YAhBgB,WAAW;YAApB,OAAO;YACW,SAAS;YAAE,UAAU;YACvC,cAAc,uBAkEP,QAAQ;;;oBA3CpB,KAAK,SAAC,mBAAmB;qBASzB,KAAK,SAAC,yBAAyB;qBAY/B,KAAK,SAAC,yBAAyB;;;;;;;;IA3BhC,gDAAyC;;;;;IAGzC,iDAAmB;;IASnB,4CAAe;;IASf,6CAAoB;;IAsBpB,6CAAqB;;;;;IAET,+CAAiC;;;;;IACjC,2CAAyB;;;;;IACzB,+CAA4B;;;;;IAC5B,8CAAyC;;;;;IACzC,0CAAwC;;;;;;;;ACpEtD;;;;AAUA,MAAa,yBAA6B,SAAQ,iBAAoB;IAJtE;;QAKsC,cAAS,GAAY,KAAK,CAAC;KAChE;;;YANA,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;gBAC9B,SAAS,EAAE,CAAC,EAAC,OAAO,EAAE,iBAAiB,EAAE,WAAW,EAAE,yBAAyB,EAAC,CAAC;aAClF;;;wBAEE,KAAK,SAAC,2BAA2B;;;;IAAlC,8CAA+D;;;;;;;;ACXjE;;;;AAoBA,MAAa,eAAmB,SAAQ,OAAU;;;YAbjD,SAAS,SAAC;gBACT,QAAQ,EAAE,SAAS;gBACnB,QAAQ,EAAE,QAAQ;gBAClB,QAAQ,EAAE,gDAAgD;gBAC1D,IAAI,EAAE;oBACJ,OAAO,EAAE,SAAS;oBAClB,MAAM,EAAE,MAAM;iBACf;gBAED,aAAa,EAAE,iBAAiB,CAAC,IAAI;gBACrC,eAAe,EAAE,uBAAuB,CAAC,MAAM;gBAC/C,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;;aAChE;;;0BAGE,SAAS,SAAC,yBAAyB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;;;;IAAtD,sCAA+F;;;;;;;;ACtBjG,MAgBa,YAAY;;;YAPxB,QAAQ,SAAC;gBACR,OAAO,EAAE,CAAE,aAAa,EAAE,YAAY,CAAE;gBACxC,YAAY,EAAE,CAAE,eAAe,EAAE,mBAAmB,EAAE,sBAAsB;oBAC1E,0BAA0B,EAAE,yBAAyB,EAAE,yBAAyB,CAAC;gBACnF,OAAO,EAAE,CAAE,eAAe,EAAE,mBAAmB,EAAE,sBAAsB;oBACrE,0BAA0B,EAAE,yBAAyB,EAAE,yBAAyB,CAAC;aACpF;;;;;;;;;;;;;;;;;"}